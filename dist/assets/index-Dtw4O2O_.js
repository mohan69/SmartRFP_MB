var FR=Object.defineProperty;var BE=r=>{throw TypeError(r)};var DR=(r,e,t)=>e in r?FR(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var dt=(r,e,t)=>DR(r,typeof e!="symbol"?e+"":e,t),a2=(r,e,t)=>e.has(r)||BE("Cannot "+t);var m=(r,e,t)=>(a2(r,e,"read from private field"),t?t.call(r):e.get(r)),ee=(r,e,t)=>e.has(r)?BE("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),W=(r,e,t,n)=>(a2(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),re=(r,e,t)=>(a2(r,e,"access private method"),t);var wi=(r,e,t,n)=>({set _(i){W(r,e,i,t)},get _(){return m(r,e,n)}});function MR(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in r)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(r,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var OR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function BR(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var aT={exports:{}},Rw={},oT={exports:{}},Mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q1=Symbol.for("react.element"),UR=Symbol.for("react.portal"),zR=Symbol.for("react.fragment"),HR=Symbol.for("react.strict_mode"),qR=Symbol.for("react.profiler"),WR=Symbol.for("react.provider"),$R=Symbol.for("react.context"),GR=Symbol.for("react.forward_ref"),VR=Symbol.for("react.suspense"),KR=Symbol.for("react.memo"),XR=Symbol.for("react.lazy"),UE=Symbol.iterator;function YR(r){return r===null||typeof r!="object"?null:(r=UE&&r[UE]||r["@@iterator"],typeof r=="function"?r:null)}var lT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cT=Object.assign,uT={};function pm(r,e,t){this.props=r,this.context=e,this.refs=uT,this.updater=t||lT}pm.prototype.isReactComponent={};pm.prototype.setState=function(r,e){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,e,"setState")};pm.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function hT(){}hT.prototype=pm.prototype;function SS(r,e,t){this.props=r,this.context=e,this.refs=uT,this.updater=t||lT}var NS=SS.prototype=new hT;NS.constructor=SS;cT(NS,pm.prototype);NS.isPureReactComponent=!0;var zE=Array.isArray,dT=Object.prototype.hasOwnProperty,ES={current:null},fT={key:!0,ref:!0,__self:!0,__source:!0};function pT(r,e,t){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)dT.call(e,n)&&!fT.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=t;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(r&&r.defaultProps)for(n in o=r.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Q1,type:r,key:s,ref:a,props:i,_owner:ES.current}}function QR(r,e){return{$$typeof:Q1,type:r.type,key:e,ref:r.ref,props:r.props,_owner:r._owner}}function kS(r){return typeof r=="object"&&r!==null&&r.$$typeof===Q1}function JR(r){var e={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(t){return e[t]})}var HE=/\/+/g;function o2(r,e){return typeof r=="object"&&r!==null&&r.key!=null?JR(""+r.key):e.toString(36)}function Rv(r,e,t,n,i){var s=typeof r;(s==="undefined"||s==="boolean")&&(r=null);var a=!1;if(r===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(r.$$typeof){case Q1:case UR:a=!0}}if(a)return a=r,i=i(a),r=n===""?"."+o2(a,0):n,zE(i)?(t="",r!=null&&(t=r.replace(HE,"$&/")+"/"),Rv(i,e,t,"",function(u){return u})):i!=null&&(kS(i)&&(i=QR(i,t+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(HE,"$&/")+"/")+r)),e.push(i)),1;if(a=0,n=n===""?".":n+":",zE(r))for(var o=0;o<r.length;o++){s=r[o];var l=n+o2(s,o);a+=Rv(s,e,t,l,i)}else if(l=YR(r),typeof l=="function")for(r=l.call(r),o=0;!(s=r.next()).done;)s=s.value,l=n+o2(s,o++),a+=Rv(s,e,t,l,i);else if(s==="object")throw e=String(r),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ev(r,e,t){if(r==null)return r;var n=[],i=0;return Rv(r,n,"","",function(s){return e.call(t,s,i++)}),n}function ZR(r){if(r._status===-1){var e=r._result;e=e(),e.then(function(t){(r._status===0||r._status===-1)&&(r._status=1,r._result=t)},function(t){(r._status===0||r._status===-1)&&(r._status=2,r._result=t)}),r._status===-1&&(r._status=0,r._result=e)}if(r._status===1)return r._result.default;throw r._result}var Pi={current:null},Fv={transition:null},e4={ReactCurrentDispatcher:Pi,ReactCurrentBatchConfig:Fv,ReactCurrentOwner:ES};function mT(){throw Error("act(...) is not supported in production builds of React.")}Mt.Children={map:ev,forEach:function(r,e,t){ev(r,function(){e.apply(this,arguments)},t)},count:function(r){var e=0;return ev(r,function(){e++}),e},toArray:function(r){return ev(r,function(e){return e})||[]},only:function(r){if(!kS(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};Mt.Component=pm;Mt.Fragment=zR;Mt.Profiler=qR;Mt.PureComponent=SS;Mt.StrictMode=HR;Mt.Suspense=VR;Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e4;Mt.act=mT;Mt.cloneElement=function(r,e,t){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var n=cT({},r.props),i=r.key,s=r.ref,a=r._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=ES.current),e.key!==void 0&&(i=""+e.key),r.type&&r.type.defaultProps)var o=r.type.defaultProps;for(l in e)dT.call(e,l)&&!fT.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=t;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Q1,type:r.type,key:i,ref:s,props:n,_owner:a}};Mt.createContext=function(r){return r={$$typeof:$R,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:WR,_context:r},r.Consumer=r};Mt.createElement=pT;Mt.createFactory=function(r){var e=pT.bind(null,r);return e.type=r,e};Mt.createRef=function(){return{current:null}};Mt.forwardRef=function(r){return{$$typeof:GR,render:r}};Mt.isValidElement=kS;Mt.lazy=function(r){return{$$typeof:XR,_payload:{_status:-1,_result:r},_init:ZR}};Mt.memo=function(r,e){return{$$typeof:KR,type:r,compare:e===void 0?null:e}};Mt.startTransition=function(r){var e=Fv.transition;Fv.transition={};try{r()}finally{Fv.transition=e}};Mt.unstable_act=mT;Mt.useCallback=function(r,e){return Pi.current.useCallback(r,e)};Mt.useContext=function(r){return Pi.current.useContext(r)};Mt.useDebugValue=function(){};Mt.useDeferredValue=function(r){return Pi.current.useDeferredValue(r)};Mt.useEffect=function(r,e){return Pi.current.useEffect(r,e)};Mt.useId=function(){return Pi.current.useId()};Mt.useImperativeHandle=function(r,e,t){return Pi.current.useImperativeHandle(r,e,t)};Mt.useInsertionEffect=function(r,e){return Pi.current.useInsertionEffect(r,e)};Mt.useLayoutEffect=function(r,e){return Pi.current.useLayoutEffect(r,e)};Mt.useMemo=function(r,e){return Pi.current.useMemo(r,e)};Mt.useReducer=function(r,e,t){return Pi.current.useReducer(r,e,t)};Mt.useRef=function(r){return Pi.current.useRef(r)};Mt.useState=function(r){return Pi.current.useState(r)};Mt.useSyncExternalStore=function(r,e,t){return Pi.current.useSyncExternalStore(r,e,t)};Mt.useTransition=function(){return Pi.current.useTransition()};Mt.version="18.3.1";oT.exports=Mt;var je=oT.exports;const t4=BR(je),r4=MR({__proto__:null,default:t4},[je]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n4=je,i4=Symbol.for("react.element"),s4=Symbol.for("react.fragment"),a4=Object.prototype.hasOwnProperty,o4=n4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l4={key:!0,ref:!0,__self:!0,__source:!0};function gT(r,e,t){var n,i={},s=null,a=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)a4.call(e,n)&&!l4.hasOwnProperty(n)&&(i[n]=e[n]);if(r&&r.defaultProps)for(n in e=r.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:i4,type:r,key:s,ref:a,props:i,_owner:o4.current}}Rw.Fragment=s4;Rw.jsx=gT;Rw.jsxs=gT;aT.exports=Rw;var c=aT.exports,yT={exports:{}},Ts={},vT={exports:{}},xT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function e(me,pe){var be=me.length;me.push(pe);e:for(;0<be;){var ge=be-1>>>1,C=me[ge];if(0<i(C,pe))me[ge]=pe,me[be]=C,be=ge;else break e}}function t(me){return me.length===0?null:me[0]}function n(me){if(me.length===0)return null;var pe=me[0],be=me.pop();if(be!==pe){me[0]=be;e:for(var ge=0,C=me.length,B=C>>>1;ge<B;){var G=2*(ge+1)-1,ae=me[G],J=G+1,L=me[J];if(0>i(ae,be))J<C&&0>i(L,ae)?(me[ge]=L,me[J]=be,ge=J):(me[ge]=ae,me[G]=be,ge=G);else if(J<C&&0>i(L,be))me[ge]=L,me[J]=be,ge=J;else break e}}return pe}function i(me,pe){var be=me.sortIndex-pe.sortIndex;return be!==0?be:me.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;r.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();r.unstable_now=function(){return a.now()-o}}var l=[],u=[],h=1,f=null,p=3,d=!1,x=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(me){for(var pe=t(u);pe!==null;){if(pe.callback===null)n(u);else if(pe.startTime<=me)n(u),pe.sortIndex=pe.expirationTime,e(l,pe);else break;pe=t(u)}}function k(me){if(v=!1,A(me),!x)if(t(l)!==null)x=!0,he(M);else{var pe=t(u);pe!==null&&le(k,pe.startTime-me)}}function M(me,pe){x=!1,v&&(v=!1,y(q),q=-1),d=!0;var be=p;try{for(A(pe),f=t(l);f!==null&&(!(f.expirationTime>pe)||me&&!z());){var ge=f.callback;if(typeof ge=="function"){f.callback=null,p=f.priorityLevel;var C=ge(f.expirationTime<=pe);pe=r.unstable_now(),typeof C=="function"?f.callback=C:f===t(l)&&n(l),A(pe)}else n(l);f=t(l)}if(f!==null)var B=!0;else{var G=t(u);G!==null&&le(k,G.startTime-pe),B=!1}return B}finally{f=null,p=be,d=!1}}var $=!1,H=null,q=-1,D=5,se=-1;function z(){return!(r.unstable_now()-se<D)}function R(){if(H!==null){var me=r.unstable_now();se=me;var pe=!0;try{pe=H(!0,me)}finally{pe?V():($=!1,H=null)}}else $=!1}var V;if(typeof w=="function")V=function(){w(R)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,K=T.port2;T.port1.onmessage=R,V=function(){K.postMessage(null)}}else V=function(){b(R,0)};function he(me){H=me,$||($=!0,V())}function le(me,pe){q=b(function(){me(r.unstable_now())},pe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(me){me.callback=null},r.unstable_continueExecution=function(){x||d||(x=!0,he(M))},r.unstable_forceFrameRate=function(me){0>me||125<me?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<me?Math.floor(1e3/me):5},r.unstable_getCurrentPriorityLevel=function(){return p},r.unstable_getFirstCallbackNode=function(){return t(l)},r.unstable_next=function(me){switch(p){case 1:case 2:case 3:var pe=3;break;default:pe=p}var be=p;p=pe;try{return me()}finally{p=be}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(me,pe){switch(me){case 1:case 2:case 3:case 4:case 5:break;default:me=3}var be=p;p=me;try{return pe()}finally{p=be}},r.unstable_scheduleCallback=function(me,pe,be){var ge=r.unstable_now();switch(typeof be=="object"&&be!==null?(be=be.delay,be=typeof be=="number"&&0<be?ge+be:ge):be=ge,me){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=be+C,me={id:h++,callback:pe,priorityLevel:me,startTime:be,expirationTime:C,sortIndex:-1},be>ge?(me.sortIndex=be,e(u,me),t(l)===null&&me===t(u)&&(v?(y(q),q=-1):v=!0,le(k,be-ge))):(me.sortIndex=C,e(l,me),x||d||(x=!0,he(M))),me},r.unstable_shouldYield=z,r.unstable_wrapCallback=function(me){var pe=p;return function(){var be=p;p=pe;try{return me.apply(this,arguments)}finally{p=be}}}})(xT);vT.exports=xT;var c4=vT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u4=je,ks=c4;function Ve(r){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+r,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+r+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wT=new Set,t0={};function yd(r,e){em(r,e),em(r+"Capture",e)}function em(r,e){for(t0[r]=e,r=0;r<e.length;r++)wT.add(e[r])}var Ml=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),W5=Object.prototype.hasOwnProperty,h4=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qE={},WE={};function d4(r){return W5.call(WE,r)?!0:W5.call(qE,r)?!1:h4.test(r)?WE[r]=!0:(qE[r]=!0,!1)}function f4(r,e,t,n){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:t!==null?!t.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function p4(r,e,t,n){if(e===null||typeof e>"u"||f4(r,e,t,n))return!0;if(n)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Li(r,e,t,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=r,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var $n={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){$n[r]=new Li(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var e=r[0];$n[e]=new Li(e,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){$n[r]=new Li(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){$n[r]=new Li(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){$n[r]=new Li(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){$n[r]=new Li(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){$n[r]=new Li(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){$n[r]=new Li(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){$n[r]=new Li(r,5,!1,r.toLowerCase(),null,!1,!1)});var CS=/[\-:]([a-z])/g;function TS(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var e=r.replace(CS,TS);$n[e]=new Li(e,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var e=r.replace(CS,TS);$n[e]=new Li(e,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var e=r.replace(CS,TS);$n[e]=new Li(e,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){$n[r]=new Li(r,1,!1,r.toLowerCase(),null,!1,!1)});$n.xlinkHref=new Li("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){$n[r]=new Li(r,1,!1,r.toLowerCase(),null,!0,!0)});function jS(r,e,t,n){var i=$n.hasOwnProperty(e)?$n[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(p4(e,t,i,n)&&(t=null),n||i===null?d4(e)&&(t===null?r.removeAttribute(e):r.setAttribute(e,""+t)):i.mustUseProperty?r[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,n=i.attributeNamespace,t===null?r.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,n?r.setAttributeNS(n,e,t):r.setAttribute(e,t))))}var ql=u4.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tv=Symbol.for("react.element"),pf=Symbol.for("react.portal"),mf=Symbol.for("react.fragment"),PS=Symbol.for("react.strict_mode"),$5=Symbol.for("react.profiler"),bT=Symbol.for("react.provider"),AT=Symbol.for("react.context"),LS=Symbol.for("react.forward_ref"),G5=Symbol.for("react.suspense"),V5=Symbol.for("react.suspense_list"),IS=Symbol.for("react.memo"),hc=Symbol.for("react.lazy"),_T=Symbol.for("react.offscreen"),$E=Symbol.iterator;function ng(r){return r===null||typeof r!="object"?null:(r=$E&&r[$E]||r["@@iterator"],typeof r=="function"?r:null)}var Dr=Object.assign,l2;function bg(r){if(l2===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);l2=e&&e[1]||""}return`
`+l2+r}var c2=!1;function u2(r,e){if(!r||c2)return"";c2=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(r,[],e)}else{try{e.call()}catch(u){n=u}r.call(e.prototype)}else{try{throw Error()}catch(u){n=u}r()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return r.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",r.displayName)),l}while(1<=a&&0<=o);break}}}finally{c2=!1,Error.prepareStackTrace=t}return(r=r?r.displayName||r.name:"")?bg(r):""}function m4(r){switch(r.tag){case 5:return bg(r.type);case 16:return bg("Lazy");case 13:return bg("Suspense");case 19:return bg("SuspenseList");case 0:case 2:case 15:return r=u2(r.type,!1),r;case 11:return r=u2(r.type.render,!1),r;case 1:return r=u2(r.type,!0),r;default:return""}}function K5(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case mf:return"Fragment";case pf:return"Portal";case $5:return"Profiler";case PS:return"StrictMode";case G5:return"Suspense";case V5:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case AT:return(r.displayName||"Context")+".Consumer";case bT:return(r._context.displayName||"Context")+".Provider";case LS:var e=r.render;return r=r.displayName,r||(r=e.displayName||e.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case IS:return e=r.displayName||null,e!==null?e:K5(r.type)||"Memo";case hc:e=r._payload,r=r._init;try{return K5(r(e))}catch{}}return null}function g4(r){var e=r.type;switch(r.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=e.render,r=r.displayName||r.name||"",e.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return K5(e);case 8:return e===PS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function lu(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ST(r){var e=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function y4(r){var e=ST(r)?"checked":"value",t=Object.getOwnPropertyDescriptor(r.constructor.prototype,e),n=""+r[e];if(!r.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(r,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(r,e,{enumerable:t.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){r._valueTracker=null,delete r[e]}}}}function rv(r){r._valueTracker||(r._valueTracker=y4(r))}function NT(r){if(!r)return!1;var e=r._valueTracker;if(!e)return!0;var t=e.getValue(),n="";return r&&(n=ST(r)?r.checked?"true":"false":r.value),r=n,r!==t?(e.setValue(r),!0):!1}function Cx(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function X5(r,e){var t=e.checked;return Dr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??r._wrapperState.initialChecked})}function GE(r,e){var t=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;t=lu(e.value!=null?e.value:t),r._wrapperState={initialChecked:n,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ET(r,e){e=e.checked,e!=null&&jS(r,"checked",e,!1)}function Y5(r,e){ET(r,e);var t=lu(e.value),n=e.type;if(t!=null)n==="number"?(t===0&&r.value===""||r.value!=t)&&(r.value=""+t):r.value!==""+t&&(r.value=""+t);else if(n==="submit"||n==="reset"){r.removeAttribute("value");return}e.hasOwnProperty("value")?Q5(r,e.type,t):e.hasOwnProperty("defaultValue")&&Q5(r,e.type,lu(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(r.defaultChecked=!!e.defaultChecked)}function VE(r,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+r._wrapperState.initialValue,t||e===r.value||(r.value=e),r.defaultValue=e}t=r.name,t!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,t!==""&&(r.name=t)}function Q5(r,e,t){(e!=="number"||Cx(r.ownerDocument)!==r)&&(t==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+t&&(r.defaultValue=""+t))}var Ag=Array.isArray;function jf(r,e,t,n){if(r=r.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<r.length;t++)i=e.hasOwnProperty("$"+r[t].value),r[t].selected!==i&&(r[t].selected=i),i&&n&&(r[t].defaultSelected=!0)}else{for(t=""+lu(t),e=null,i=0;i<r.length;i++){if(r[i].value===t){r[i].selected=!0,n&&(r[i].defaultSelected=!0);return}e!==null||r[i].disabled||(e=r[i])}e!==null&&(e.selected=!0)}}function J5(r,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ve(91));return Dr({},e,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function KE(r,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Ve(92));if(Ag(t)){if(1<t.length)throw Error(Ve(93));t=t[0]}e=t}e==null&&(e=""),t=e}r._wrapperState={initialValue:lu(t)}}function kT(r,e){var t=lu(e.value),n=lu(e.defaultValue);t!=null&&(t=""+t,t!==r.value&&(r.value=t),e.defaultValue==null&&r.defaultValue!==t&&(r.defaultValue=t)),n!=null&&(r.defaultValue=""+n)}function XE(r){var e=r.textContent;e===r._wrapperState.initialValue&&e!==""&&e!==null&&(r.value=e)}function CT(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Z5(r,e){return r==null||r==="http://www.w3.org/1999/xhtml"?CT(e):r==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var nv,TT=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction(function(){return r(e,t,n,i)})}:r}(function(r,e){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=e;else{for(nv=nv||document.createElement("div"),nv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nv.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;e.firstChild;)r.appendChild(e.firstChild)}});function r0(r,e){if(e){var t=r.firstChild;if(t&&t===r.lastChild&&t.nodeType===3){t.nodeValue=e;return}}r.textContent=e}var zg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},v4=["Webkit","ms","Moz","O"];Object.keys(zg).forEach(function(r){v4.forEach(function(e){e=e+r.charAt(0).toUpperCase()+r.substring(1),zg[e]=zg[r]})});function jT(r,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||zg.hasOwnProperty(r)&&zg[r]?(""+e).trim():e+"px"}function PT(r,e){r=r.style;for(var t in e)if(e.hasOwnProperty(t)){var n=t.indexOf("--")===0,i=jT(t,e[t],n);t==="float"&&(t="cssFloat"),n?r.setProperty(t,i):r[t]=i}}var x4=Dr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eA(r,e){if(e){if(x4[r]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ve(137,r));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ve(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ve(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ve(62))}}function tA(r,e){if(r.indexOf("-")===-1)return typeof e.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rA=null;function RS(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var nA=null,Pf=null,Lf=null;function YE(r){if(r=ey(r)){if(typeof nA!="function")throw Error(Ve(280));var e=r.stateNode;e&&(e=Bw(e),nA(r.stateNode,r.type,e))}}function LT(r){Pf?Lf?Lf.push(r):Lf=[r]:Pf=r}function IT(){if(Pf){var r=Pf,e=Lf;if(Lf=Pf=null,YE(r),e)for(r=0;r<e.length;r++)YE(e[r])}}function RT(r,e){return r(e)}function FT(){}var h2=!1;function DT(r,e,t){if(h2)return r(e,t);h2=!0;try{return RT(r,e,t)}finally{h2=!1,(Pf!==null||Lf!==null)&&(FT(),IT())}}function n0(r,e){var t=r.stateNode;if(t===null)return null;var n=Bw(t);if(n===null)return null;t=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(r=r.type,n=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!n;break e;default:r=!1}if(r)return null;if(t&&typeof t!="function")throw Error(Ve(231,e,typeof t));return t}var iA=!1;if(Ml)try{var ig={};Object.defineProperty(ig,"passive",{get:function(){iA=!0}}),window.addEventListener("test",ig,ig),window.removeEventListener("test",ig,ig)}catch{iA=!1}function w4(r,e,t,n,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(t,u)}catch(h){this.onError(h)}}var Hg=!1,Tx=null,jx=!1,sA=null,b4={onError:function(r){Hg=!0,Tx=r}};function A4(r,e,t,n,i,s,a,o,l){Hg=!1,Tx=null,w4.apply(b4,arguments)}function _4(r,e,t,n,i,s,a,o,l){if(A4.apply(this,arguments),Hg){if(Hg){var u=Tx;Hg=!1,Tx=null}else throw Error(Ve(198));jx||(jx=!0,sA=u)}}function vd(r){var e=r,t=r;if(r.alternate)for(;e.return;)e=e.return;else{r=e;do e=r,e.flags&4098&&(t=e.return),r=e.return;while(r)}return e.tag===3?t:null}function MT(r){if(r.tag===13){var e=r.memoizedState;if(e===null&&(r=r.alternate,r!==null&&(e=r.memoizedState)),e!==null)return e.dehydrated}return null}function QE(r){if(vd(r)!==r)throw Error(Ve(188))}function S4(r){var e=r.alternate;if(!e){if(e=vd(r),e===null)throw Error(Ve(188));return e!==r?null:r}for(var t=r,n=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){t=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return QE(i),r;if(s===n)return QE(i),e;s=s.sibling}throw Error(Ve(188))}if(t.return!==n.return)t=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===t){a=!0,t=i,n=s;break}if(o===n){a=!0,n=i,t=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===t){a=!0,t=s,n=i;break}if(o===n){a=!0,n=s,t=i;break}o=o.sibling}if(!a)throw Error(Ve(189))}}if(t.alternate!==n)throw Error(Ve(190))}if(t.tag!==3)throw Error(Ve(188));return t.stateNode.current===t?r:e}function OT(r){return r=S4(r),r!==null?BT(r):null}function BT(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var e=BT(r);if(e!==null)return e;r=r.sibling}return null}var UT=ks.unstable_scheduleCallback,JE=ks.unstable_cancelCallback,N4=ks.unstable_shouldYield,E4=ks.unstable_requestPaint,Yr=ks.unstable_now,k4=ks.unstable_getCurrentPriorityLevel,FS=ks.unstable_ImmediatePriority,zT=ks.unstable_UserBlockingPriority,Px=ks.unstable_NormalPriority,C4=ks.unstable_LowPriority,HT=ks.unstable_IdlePriority,Fw=null,Po=null;function T4(r){if(Po&&typeof Po.onCommitFiberRoot=="function")try{Po.onCommitFiberRoot(Fw,r,void 0,(r.current.flags&128)===128)}catch{}}var Oa=Math.clz32?Math.clz32:L4,j4=Math.log,P4=Math.LN2;function L4(r){return r>>>=0,r===0?32:31-(j4(r)/P4|0)|0}var iv=64,sv=4194304;function _g(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Lx(r,e){var t=r.pendingLanes;if(t===0)return 0;var n=0,i=r.suspendedLanes,s=r.pingedLanes,a=t&268435455;if(a!==0){var o=a&~i;o!==0?n=_g(o):(s&=a,s!==0&&(n=_g(s)))}else a=t&~i,a!==0?n=_g(a):s!==0&&(n=_g(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=t&16),e=r.entangledLanes,e!==0)for(r=r.entanglements,e&=n;0<e;)t=31-Oa(e),i=1<<t,n|=r[t],e&=~i;return n}function I4(r,e){switch(r){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function R4(r,e){for(var t=r.suspendedLanes,n=r.pingedLanes,i=r.expirationTimes,s=r.pendingLanes;0<s;){var a=31-Oa(s),o=1<<a,l=i[a];l===-1?(!(o&t)||o&n)&&(i[a]=I4(o,e)):l<=e&&(r.expiredLanes|=o),s&=~o}}function aA(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function qT(){var r=iv;return iv<<=1,!(iv&4194240)&&(iv=64),r}function d2(r){for(var e=[],t=0;31>t;t++)e.push(r);return e}function J1(r,e,t){r.pendingLanes|=e,e!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,e=31-Oa(e),r[e]=t}function F4(r,e){var t=r.pendingLanes&~e;r.pendingLanes=e,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=e,r.mutableReadLanes&=e,r.entangledLanes&=e,e=r.entanglements;var n=r.eventTimes;for(r=r.expirationTimes;0<t;){var i=31-Oa(t),s=1<<i;e[i]=0,n[i]=-1,r[i]=-1,t&=~s}}function DS(r,e){var t=r.entangledLanes|=e;for(r=r.entanglements;t;){var n=31-Oa(t),i=1<<n;i&e|r[n]&e&&(r[n]|=e),t&=~i}}var ir=0;function WT(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var $T,MS,GT,VT,KT,oA=!1,av=[],Yc=null,Qc=null,Jc=null,i0=new Map,s0=new Map,fc=[],D4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ZE(r,e){switch(r){case"focusin":case"focusout":Yc=null;break;case"dragenter":case"dragleave":Qc=null;break;case"mouseover":case"mouseout":Jc=null;break;case"pointerover":case"pointerout":i0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":s0.delete(e.pointerId)}}function sg(r,e,t,n,i,s){return r===null||r.nativeEvent!==s?(r={blockedOn:e,domEventName:t,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ey(e),e!==null&&MS(e)),r):(r.eventSystemFlags|=n,e=r.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),r)}function M4(r,e,t,n,i){switch(e){case"focusin":return Yc=sg(Yc,r,e,t,n,i),!0;case"dragenter":return Qc=sg(Qc,r,e,t,n,i),!0;case"mouseover":return Jc=sg(Jc,r,e,t,n,i),!0;case"pointerover":var s=i.pointerId;return i0.set(s,sg(i0.get(s)||null,r,e,t,n,i)),!0;case"gotpointercapture":return s=i.pointerId,s0.set(s,sg(s0.get(s)||null,r,e,t,n,i)),!0}return!1}function XT(r){var e=Gu(r.target);if(e!==null){var t=vd(e);if(t!==null){if(e=t.tag,e===13){if(e=MT(t),e!==null){r.blockedOn=e,KT(r.priority,function(){GT(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){r.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Dv(r){if(r.blockedOn!==null)return!1;for(var e=r.targetContainers;0<e.length;){var t=lA(r.domEventName,r.eventSystemFlags,e[0],r.nativeEvent);if(t===null){t=r.nativeEvent;var n=new t.constructor(t.type,t);rA=n,t.target.dispatchEvent(n),rA=null}else return e=ey(t),e!==null&&MS(e),r.blockedOn=t,!1;e.shift()}return!0}function e6(r,e,t){Dv(r)&&t.delete(e)}function O4(){oA=!1,Yc!==null&&Dv(Yc)&&(Yc=null),Qc!==null&&Dv(Qc)&&(Qc=null),Jc!==null&&Dv(Jc)&&(Jc=null),i0.forEach(e6),s0.forEach(e6)}function ag(r,e){r.blockedOn===e&&(r.blockedOn=null,oA||(oA=!0,ks.unstable_scheduleCallback(ks.unstable_NormalPriority,O4)))}function a0(r){function e(i){return ag(i,r)}if(0<av.length){ag(av[0],r);for(var t=1;t<av.length;t++){var n=av[t];n.blockedOn===r&&(n.blockedOn=null)}}for(Yc!==null&&ag(Yc,r),Qc!==null&&ag(Qc,r),Jc!==null&&ag(Jc,r),i0.forEach(e),s0.forEach(e),t=0;t<fc.length;t++)n=fc[t],n.blockedOn===r&&(n.blockedOn=null);for(;0<fc.length&&(t=fc[0],t.blockedOn===null);)XT(t),t.blockedOn===null&&fc.shift()}var If=ql.ReactCurrentBatchConfig,Ix=!0;function B4(r,e,t,n){var i=ir,s=If.transition;If.transition=null;try{ir=1,OS(r,e,t,n)}finally{ir=i,If.transition=s}}function U4(r,e,t,n){var i=ir,s=If.transition;If.transition=null;try{ir=4,OS(r,e,t,n)}finally{ir=i,If.transition=s}}function OS(r,e,t,n){if(Ix){var i=lA(r,e,t,n);if(i===null)A2(r,e,n,Rx,t),ZE(r,n);else if(M4(i,r,e,t,n))n.stopPropagation();else if(ZE(r,n),e&4&&-1<D4.indexOf(r)){for(;i!==null;){var s=ey(i);if(s!==null&&$T(s),s=lA(r,e,t,n),s===null&&A2(r,e,n,Rx,t),s===i)break;i=s}i!==null&&n.stopPropagation()}else A2(r,e,n,null,t)}}var Rx=null;function lA(r,e,t,n){if(Rx=null,r=RS(n),r=Gu(r),r!==null)if(e=vd(r),e===null)r=null;else if(t=e.tag,t===13){if(r=MT(e),r!==null)return r;r=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;r=null}else e!==r&&(r=null);return Rx=r,null}function YT(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(k4()){case FS:return 1;case zT:return 4;case Px:case C4:return 16;case HT:return 536870912;default:return 16}default:return 16}}var Gc=null,BS=null,Mv=null;function QT(){if(Mv)return Mv;var r,e=BS,t=e.length,n,i="value"in Gc?Gc.value:Gc.textContent,s=i.length;for(r=0;r<t&&e[r]===i[r];r++);var a=t-r;for(n=1;n<=a&&e[t-n]===i[s-n];n++);return Mv=i.slice(r,1<n?1-n:void 0)}function Ov(r){var e=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&e===13&&(r=13)):r=e,r===10&&(r=13),32<=r||r===13?r:0}function ov(){return!0}function t6(){return!1}function js(r){function e(t,n,i,s,a){this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in r)r.hasOwnProperty(o)&&(t=r[o],this[o]=t?t(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ov:t6,this.isPropagationStopped=t6,this}return Dr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=ov)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=ov)},persist:function(){},isPersistent:ov}),e}var mm={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},US=js(mm),Z1=Dr({},mm,{view:0,detail:0}),z4=js(Z1),f2,p2,og,Dw=Dr({},Z1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zS,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==og&&(og&&r.type==="mousemove"?(f2=r.screenX-og.screenX,p2=r.screenY-og.screenY):p2=f2=0,og=r),f2)},movementY:function(r){return"movementY"in r?r.movementY:p2}}),r6=js(Dw),H4=Dr({},Dw,{dataTransfer:0}),q4=js(H4),W4=Dr({},Z1,{relatedTarget:0}),m2=js(W4),$4=Dr({},mm,{animationName:0,elapsedTime:0,pseudoElement:0}),G4=js($4),V4=Dr({},mm,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),K4=js(V4),X4=Dr({},mm,{data:0}),n6=js(X4),Y4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Q4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},J4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Z4(r){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(r):(r=J4[r])?!!e[r]:!1}function zS(){return Z4}var eF=Dr({},Z1,{key:function(r){if(r.key){var e=Y4[r.key]||r.key;if(e!=="Unidentified")return e}return r.type==="keypress"?(r=Ov(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Q4[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zS,charCode:function(r){return r.type==="keypress"?Ov(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ov(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),tF=js(eF),rF=Dr({},Dw,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),i6=js(rF),nF=Dr({},Z1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zS}),iF=js(nF),sF=Dr({},mm,{propertyName:0,elapsedTime:0,pseudoElement:0}),aF=js(sF),oF=Dr({},Dw,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),lF=js(oF),cF=[9,13,27,32],HS=Ml&&"CompositionEvent"in window,qg=null;Ml&&"documentMode"in document&&(qg=document.documentMode);var uF=Ml&&"TextEvent"in window&&!qg,JT=Ml&&(!HS||qg&&8<qg&&11>=qg),s6=" ",a6=!1;function ZT(r,e){switch(r){case"keyup":return cF.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ej(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var gf=!1;function hF(r,e){switch(r){case"compositionend":return ej(e);case"keypress":return e.which!==32?null:(a6=!0,s6);case"textInput":return r=e.data,r===s6&&a6?null:r;default:return null}}function dF(r,e){if(gf)return r==="compositionend"||!HS&&ZT(r,e)?(r=QT(),Mv=BS=Gc=null,gf=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return JT&&e.locale!=="ko"?null:e.data;default:return null}}var fF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function o6(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e==="input"?!!fF[r.type]:e==="textarea"}function tj(r,e,t,n){LT(n),e=Fx(e,"onChange"),0<e.length&&(t=new US("onChange","change",null,t,n),r.push({event:t,listeners:e}))}var Wg=null,o0=null;function pF(r){dj(r,0)}function Mw(r){var e=xf(r);if(NT(e))return r}function mF(r,e){if(r==="change")return e}var rj=!1;if(Ml){var g2;if(Ml){var y2="oninput"in document;if(!y2){var l6=document.createElement("div");l6.setAttribute("oninput","return;"),y2=typeof l6.oninput=="function"}g2=y2}else g2=!1;rj=g2&&(!document.documentMode||9<document.documentMode)}function c6(){Wg&&(Wg.detachEvent("onpropertychange",nj),o0=Wg=null)}function nj(r){if(r.propertyName==="value"&&Mw(o0)){var e=[];tj(e,o0,r,RS(r)),DT(pF,e)}}function gF(r,e,t){r==="focusin"?(c6(),Wg=e,o0=t,Wg.attachEvent("onpropertychange",nj)):r==="focusout"&&c6()}function yF(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Mw(o0)}function vF(r,e){if(r==="click")return Mw(e)}function xF(r,e){if(r==="input"||r==="change")return Mw(e)}function wF(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var za=typeof Object.is=="function"?Object.is:wF;function l0(r,e){if(za(r,e))return!0;if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;var t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(n=0;n<t.length;n++){var i=t[n];if(!W5.call(e,i)||!za(r[i],e[i]))return!1}return!0}function u6(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function h6(r,e){var t=u6(r);r=0;for(var n;t;){if(t.nodeType===3){if(n=r+t.textContent.length,r<=e&&n>=e)return{node:t,offset:e-r};r=n}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=u6(t)}}function ij(r,e){return r&&e?r===e?!0:r&&r.nodeType===3?!1:e&&e.nodeType===3?ij(r,e.parentNode):"contains"in r?r.contains(e):r.compareDocumentPosition?!!(r.compareDocumentPosition(e)&16):!1:!1}function sj(){for(var r=window,e=Cx();e instanceof r.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)r=e.contentWindow;else break;e=Cx(r.document)}return e}function qS(r){var e=r&&r.nodeName&&r.nodeName.toLowerCase();return e&&(e==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||e==="textarea"||r.contentEditable==="true")}function bF(r){var e=sj(),t=r.focusedElem,n=r.selectionRange;if(e!==t&&t&&t.ownerDocument&&ij(t.ownerDocument.documentElement,t)){if(n!==null&&qS(t)){if(e=n.start,r=n.end,r===void 0&&(r=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(r,t.value.length);else if(r=(e=t.ownerDocument||document)&&e.defaultView||window,r.getSelection){r=r.getSelection();var i=t.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!r.extend&&s>n&&(i=n,n=s,s=i),i=h6(t,s);var a=h6(t,n);i&&a&&(r.rangeCount!==1||r.anchorNode!==i.node||r.anchorOffset!==i.offset||r.focusNode!==a.node||r.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),r.removeAllRanges(),s>n?(r.addRange(e),r.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),r.addRange(e)))}}for(e=[],r=t;r=r.parentNode;)r.nodeType===1&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)r=e[t],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var AF=Ml&&"documentMode"in document&&11>=document.documentMode,yf=null,cA=null,$g=null,uA=!1;function d6(r,e,t){var n=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;uA||yf==null||yf!==Cx(n)||(n=yf,"selectionStart"in n&&qS(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),$g&&l0($g,n)||($g=n,n=Fx(cA,"onSelect"),0<n.length&&(e=new US("onSelect","select",null,e,t),r.push({event:e,listeners:n}),e.target=yf)))}function lv(r,e){var t={};return t[r.toLowerCase()]=e.toLowerCase(),t["Webkit"+r]="webkit"+e,t["Moz"+r]="moz"+e,t}var vf={animationend:lv("Animation","AnimationEnd"),animationiteration:lv("Animation","AnimationIteration"),animationstart:lv("Animation","AnimationStart"),transitionend:lv("Transition","TransitionEnd")},v2={},aj={};Ml&&(aj=document.createElement("div").style,"AnimationEvent"in window||(delete vf.animationend.animation,delete vf.animationiteration.animation,delete vf.animationstart.animation),"TransitionEvent"in window||delete vf.transitionend.transition);function Ow(r){if(v2[r])return v2[r];if(!vf[r])return r;var e=vf[r],t;for(t in e)if(e.hasOwnProperty(t)&&t in aj)return v2[r]=e[t];return r}var oj=Ow("animationend"),lj=Ow("animationiteration"),cj=Ow("animationstart"),uj=Ow("transitionend"),hj=new Map,f6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gu(r,e){hj.set(r,e),yd(e,[r])}for(var x2=0;x2<f6.length;x2++){var w2=f6[x2],_F=w2.toLowerCase(),SF=w2[0].toUpperCase()+w2.slice(1);gu(_F,"on"+SF)}gu(oj,"onAnimationEnd");gu(lj,"onAnimationIteration");gu(cj,"onAnimationStart");gu("dblclick","onDoubleClick");gu("focusin","onFocus");gu("focusout","onBlur");gu(uj,"onTransitionEnd");em("onMouseEnter",["mouseout","mouseover"]);em("onMouseLeave",["mouseout","mouseover"]);em("onPointerEnter",["pointerout","pointerover"]);em("onPointerLeave",["pointerout","pointerover"]);yd("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yd("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yd("onBeforeInput",["compositionend","keypress","textInput","paste"]);yd("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yd("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yd("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sg));function p6(r,e,t){var n=r.type||"unknown-event";r.currentTarget=t,_4(n,e,void 0,r),r.currentTarget=null}function dj(r,e){e=(e&4)!==0;for(var t=0;t<r.length;t++){var n=r[t],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;p6(i,o,u),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;p6(i,o,u),s=l}}}if(jx)throw r=sA,jx=!1,sA=null,r}function xr(r,e){var t=e[mA];t===void 0&&(t=e[mA]=new Set);var n=r+"__bubble";t.has(n)||(fj(e,r,2,!1),t.add(n))}function b2(r,e,t){var n=0;e&&(n|=4),fj(t,r,n,e)}var cv="_reactListening"+Math.random().toString(36).slice(2);function c0(r){if(!r[cv]){r[cv]=!0,wT.forEach(function(t){t!=="selectionchange"&&(NF.has(t)||b2(t,!1,r),b2(t,!0,r))});var e=r.nodeType===9?r:r.ownerDocument;e===null||e[cv]||(e[cv]=!0,b2("selectionchange",!1,e))}}function fj(r,e,t,n){switch(YT(e)){case 1:var i=B4;break;case 4:i=U4;break;default:i=OS}t=i.bind(null,e,t,r),i=void 0,!iA||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?r.addEventListener(e,t,{capture:!0,passive:i}):r.addEventListener(e,t,!0):i!==void 0?r.addEventListener(e,t,{passive:i}):r.addEventListener(e,t,!1)}function A2(r,e,t,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Gu(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}DT(function(){var u=s,h=RS(t),f=[];e:{var p=hj.get(r);if(p!==void 0){var d=US,x=r;switch(r){case"keypress":if(Ov(t)===0)break e;case"keydown":case"keyup":d=tF;break;case"focusin":x="focus",d=m2;break;case"focusout":x="blur",d=m2;break;case"beforeblur":case"afterblur":d=m2;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=r6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=q4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=iF;break;case oj:case lj:case cj:d=G4;break;case uj:d=aF;break;case"scroll":d=z4;break;case"wheel":d=lF;break;case"copy":case"cut":case"paste":d=K4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=i6}var v=(e&4)!==0,b=!v&&r==="scroll",y=v?p!==null?p+"Capture":null:p;v=[];for(var w=u,A;w!==null;){A=w;var k=A.stateNode;if(A.tag===5&&k!==null&&(A=k,y!==null&&(k=n0(w,y),k!=null&&v.push(u0(w,k,A)))),b)break;w=w.return}0<v.length&&(p=new d(p,x,null,t,h),f.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=r==="mouseover"||r==="pointerover",d=r==="mouseout"||r==="pointerout",p&&t!==rA&&(x=t.relatedTarget||t.fromElement)&&(Gu(x)||x[Ol]))break e;if((d||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,d?(x=t.relatedTarget||t.toElement,d=u,x=x?Gu(x):null,x!==null&&(b=vd(x),x!==b||x.tag!==5&&x.tag!==6)&&(x=null)):(d=null,x=u),d!==x)){if(v=r6,k="onMouseLeave",y="onMouseEnter",w="mouse",(r==="pointerout"||r==="pointerover")&&(v=i6,k="onPointerLeave",y="onPointerEnter",w="pointer"),b=d==null?p:xf(d),A=x==null?p:xf(x),p=new v(k,w+"leave",d,t,h),p.target=b,p.relatedTarget=A,k=null,Gu(h)===u&&(v=new v(y,w+"enter",x,t,h),v.target=A,v.relatedTarget=b,k=v),b=k,d&&x)t:{for(v=d,y=x,w=0,A=v;A;A=Jd(A))w++;for(A=0,k=y;k;k=Jd(k))A++;for(;0<w-A;)v=Jd(v),w--;for(;0<A-w;)y=Jd(y),A--;for(;w--;){if(v===y||y!==null&&v===y.alternate)break t;v=Jd(v),y=Jd(y)}v=null}else v=null;d!==null&&m6(f,p,d,v,!1),x!==null&&b!==null&&m6(f,b,x,v,!0)}}e:{if(p=u?xf(u):window,d=p.nodeName&&p.nodeName.toLowerCase(),d==="select"||d==="input"&&p.type==="file")var M=mF;else if(o6(p))if(rj)M=xF;else{M=yF;var $=gF}else(d=p.nodeName)&&d.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=vF);if(M&&(M=M(r,u))){tj(f,M,t,h);break e}$&&$(r,p,u),r==="focusout"&&($=p._wrapperState)&&$.controlled&&p.type==="number"&&Q5(p,"number",p.value)}switch($=u?xf(u):window,r){case"focusin":(o6($)||$.contentEditable==="true")&&(yf=$,cA=u,$g=null);break;case"focusout":$g=cA=yf=null;break;case"mousedown":uA=!0;break;case"contextmenu":case"mouseup":case"dragend":uA=!1,d6(f,t,h);break;case"selectionchange":if(AF)break;case"keydown":case"keyup":d6(f,t,h)}var H;if(HS)e:{switch(r){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else gf?ZT(r,t)&&(q="onCompositionEnd"):r==="keydown"&&t.keyCode===229&&(q="onCompositionStart");q&&(JT&&t.locale!=="ko"&&(gf||q!=="onCompositionStart"?q==="onCompositionEnd"&&gf&&(H=QT()):(Gc=h,BS="value"in Gc?Gc.value:Gc.textContent,gf=!0)),$=Fx(u,q),0<$.length&&(q=new n6(q,r,null,t,h),f.push({event:q,listeners:$}),H?q.data=H:(H=ej(t),H!==null&&(q.data=H)))),(H=uF?hF(r,t):dF(r,t))&&(u=Fx(u,"onBeforeInput"),0<u.length&&(h=new n6("onBeforeInput","beforeinput",null,t,h),f.push({event:h,listeners:u}),h.data=H))}dj(f,e)})}function u0(r,e,t){return{instance:r,listener:e,currentTarget:t}}function Fx(r,e){for(var t=e+"Capture",n=[];r!==null;){var i=r,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=n0(r,t),s!=null&&n.unshift(u0(r,s,i)),s=n0(r,e),s!=null&&n.push(u0(r,s,i))),r=r.return}return n}function Jd(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function m6(r,e,t,n,i){for(var s=e._reactName,a=[];t!==null&&t!==n;){var o=t,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=n0(t,s),l!=null&&a.unshift(u0(t,l,o))):i||(l=n0(t,s),l!=null&&a.push(u0(t,l,o)))),t=t.return}a.length!==0&&r.push({event:e,listeners:a})}var EF=/\r\n?/g,kF=/\u0000|\uFFFD/g;function g6(r){return(typeof r=="string"?r:""+r).replace(EF,`
`).replace(kF,"")}function uv(r,e,t){if(e=g6(e),g6(r)!==e&&t)throw Error(Ve(425))}function Dx(){}var hA=null,dA=null;function fA(r,e){return r==="textarea"||r==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pA=typeof setTimeout=="function"?setTimeout:void 0,CF=typeof clearTimeout=="function"?clearTimeout:void 0,y6=typeof Promise=="function"?Promise:void 0,TF=typeof queueMicrotask=="function"?queueMicrotask:typeof y6<"u"?function(r){return y6.resolve(null).then(r).catch(jF)}:pA;function jF(r){setTimeout(function(){throw r})}function _2(r,e){var t=e,n=0;do{var i=t.nextSibling;if(r.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(n===0){r.removeChild(i),a0(e);return}n--}else t!=="$"&&t!=="$?"&&t!=="$!"||n++;t=i}while(t);a0(e)}function Zc(r){for(;r!=null;r=r.nextSibling){var e=r.nodeType;if(e===1||e===3)break;if(e===8){if(e=r.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return r}function v6(r){r=r.previousSibling;for(var e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return r;e--}else t==="/$"&&e++}r=r.previousSibling}return null}var gm=Math.random().toString(36).slice(2),Co="__reactFiber$"+gm,h0="__reactProps$"+gm,Ol="__reactContainer$"+gm,mA="__reactEvents$"+gm,PF="__reactListeners$"+gm,LF="__reactHandles$"+gm;function Gu(r){var e=r[Co];if(e)return e;for(var t=r.parentNode;t;){if(e=t[Ol]||t[Co]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(r=v6(r);r!==null;){if(t=r[Co])return t;r=v6(r)}return e}r=t,t=r.parentNode}return null}function ey(r){return r=r[Co]||r[Ol],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function xf(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(Ve(33))}function Bw(r){return r[h0]||null}var gA=[],wf=-1;function yu(r){return{current:r}}function _r(r){0>wf||(r.current=gA[wf],gA[wf]=null,wf--)}function vr(r,e){wf++,gA[wf]=r.current,r.current=e}var cu={},mi=yu(cu),Yi=yu(!1),ad=cu;function tm(r,e){var t=r.type.contextTypes;if(!t)return cu;var n=r.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=e,r.__reactInternalMemoizedMaskedChildContext=i),i}function Qi(r){return r=r.childContextTypes,r!=null}function Mx(){_r(Yi),_r(mi)}function x6(r,e,t){if(mi.current!==cu)throw Error(Ve(168));vr(mi,e),vr(Yi,t)}function pj(r,e,t){var n=r.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return t;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Ve(108,g4(r)||"Unknown",i));return Dr({},t,n)}function Ox(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||cu,ad=mi.current,vr(mi,r),vr(Yi,Yi.current),!0}function w6(r,e,t){var n=r.stateNode;if(!n)throw Error(Ve(169));t?(r=pj(r,e,ad),n.__reactInternalMemoizedMergedChildContext=r,_r(Yi),_r(mi),vr(mi,r)):_r(Yi),vr(Yi,t)}var nl=null,Uw=!1,S2=!1;function mj(r){nl===null?nl=[r]:nl.push(r)}function IF(r){Uw=!0,mj(r)}function vu(){if(!S2&&nl!==null){S2=!0;var r=0,e=ir;try{var t=nl;for(ir=1;r<t.length;r++){var n=t[r];do n=n(!0);while(n!==null)}nl=null,Uw=!1}catch(i){throw nl!==null&&(nl=nl.slice(r+1)),UT(FS,vu),i}finally{ir=e,S2=!1}}return null}var bf=[],Af=0,Bx=null,Ux=0,Xs=[],Ys=0,od=null,jl=1,Pl="";function Mu(r,e){bf[Af++]=Ux,bf[Af++]=Bx,Bx=r,Ux=e}function gj(r,e,t){Xs[Ys++]=jl,Xs[Ys++]=Pl,Xs[Ys++]=od,od=r;var n=jl;r=Pl;var i=32-Oa(n)-1;n&=~(1<<i),t+=1;var s=32-Oa(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,jl=1<<32-Oa(e)+i|t<<i|n,Pl=s+r}else jl=1<<s|t<<i|n,Pl=r}function WS(r){r.return!==null&&(Mu(r,1),gj(r,1,0))}function $S(r){for(;r===Bx;)Bx=bf[--Af],bf[Af]=null,Ux=bf[--Af],bf[Af]=null;for(;r===od;)od=Xs[--Ys],Xs[Ys]=null,Pl=Xs[--Ys],Xs[Ys]=null,jl=Xs[--Ys],Xs[Ys]=null}var Ns=null,_s=null,Tr=!1,Fa=null;function yj(r,e){var t=Zs(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=r,e=r.deletions,e===null?(r.deletions=[t],r.flags|=16):e.push(t)}function b6(r,e){switch(r.tag){case 5:var t=r.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(r.stateNode=e,Ns=r,_s=Zc(e.firstChild),!0):!1;case 6:return e=r.pendingProps===""||e.nodeType!==3?null:e,e!==null?(r.stateNode=e,Ns=r,_s=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=od!==null?{id:jl,overflow:Pl}:null,r.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Zs(18,null,null,0),t.stateNode=e,t.return=r,r.child=t,Ns=r,_s=null,!0):!1;default:return!1}}function yA(r){return(r.mode&1)!==0&&(r.flags&128)===0}function vA(r){if(Tr){var e=_s;if(e){var t=e;if(!b6(r,e)){if(yA(r))throw Error(Ve(418));e=Zc(t.nextSibling);var n=Ns;e&&b6(r,e)?yj(n,t):(r.flags=r.flags&-4097|2,Tr=!1,Ns=r)}}else{if(yA(r))throw Error(Ve(418));r.flags=r.flags&-4097|2,Tr=!1,Ns=r}}}function A6(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Ns=r}function hv(r){if(r!==Ns)return!1;if(!Tr)return A6(r),Tr=!0,!1;var e;if((e=r.tag!==3)&&!(e=r.tag!==5)&&(e=r.type,e=e!=="head"&&e!=="body"&&!fA(r.type,r.memoizedProps)),e&&(e=_s)){if(yA(r))throw vj(),Error(Ve(418));for(;e;)yj(r,e),e=Zc(e.nextSibling)}if(A6(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Ve(317));e:{for(r=r.nextSibling,e=0;r;){if(r.nodeType===8){var t=r.data;if(t==="/$"){if(e===0){_s=Zc(r.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}r=r.nextSibling}_s=null}}else _s=Ns?Zc(r.stateNode.nextSibling):null;return!0}function vj(){for(var r=_s;r;)r=Zc(r.nextSibling)}function rm(){_s=Ns=null,Tr=!1}function GS(r){Fa===null?Fa=[r]:Fa.push(r)}var RF=ql.ReactCurrentBatchConfig;function lg(r,e,t){if(r=t.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Ve(309));var n=t.stateNode}if(!n)throw Error(Ve(147,r));var i=n,s=""+r;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof r!="string")throw Error(Ve(284));if(!t._owner)throw Error(Ve(290,r))}return r}function dv(r,e){throw r=Object.prototype.toString.call(e),Error(Ve(31,r==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":r))}function _6(r){var e=r._init;return e(r._payload)}function xj(r){function e(y,w){if(r){var A=y.deletions;A===null?(y.deletions=[w],y.flags|=16):A.push(w)}}function t(y,w){if(!r)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function n(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=nu(y,w),y.index=0,y.sibling=null,y}function s(y,w,A){return y.index=A,r?(A=y.alternate,A!==null?(A=A.index,A<w?(y.flags|=2,w):A):(y.flags|=2,w)):(y.flags|=1048576,w)}function a(y){return r&&y.alternate===null&&(y.flags|=2),y}function o(y,w,A,k){return w===null||w.tag!==6?(w=P2(A,y.mode,k),w.return=y,w):(w=i(w,A),w.return=y,w)}function l(y,w,A,k){var M=A.type;return M===mf?h(y,w,A.props.children,k,A.key):w!==null&&(w.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===hc&&_6(M)===w.type)?(k=i(w,A.props),k.ref=lg(y,w,A),k.return=y,k):(k=$v(A.type,A.key,A.props,null,y.mode,k),k.ref=lg(y,w,A),k.return=y,k)}function u(y,w,A,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==A.containerInfo||w.stateNode.implementation!==A.implementation?(w=L2(A,y.mode,k),w.return=y,w):(w=i(w,A.children||[]),w.return=y,w)}function h(y,w,A,k,M){return w===null||w.tag!==7?(w=rd(A,y.mode,k,M),w.return=y,w):(w=i(w,A),w.return=y,w)}function f(y,w,A){if(typeof w=="string"&&w!==""||typeof w=="number")return w=P2(""+w,y.mode,A),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case tv:return A=$v(w.type,w.key,w.props,null,y.mode,A),A.ref=lg(y,null,w),A.return=y,A;case pf:return w=L2(w,y.mode,A),w.return=y,w;case hc:var k=w._init;return f(y,k(w._payload),A)}if(Ag(w)||ng(w))return w=rd(w,y.mode,A,null),w.return=y,w;dv(y,w)}return null}function p(y,w,A,k){var M=w!==null?w.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return M!==null?null:o(y,w,""+A,k);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case tv:return A.key===M?l(y,w,A,k):null;case pf:return A.key===M?u(y,w,A,k):null;case hc:return M=A._init,p(y,w,M(A._payload),k)}if(Ag(A)||ng(A))return M!==null?null:h(y,w,A,k,null);dv(y,A)}return null}function d(y,w,A,k,M){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(A)||null,o(w,y,""+k,M);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case tv:return y=y.get(k.key===null?A:k.key)||null,l(w,y,k,M);case pf:return y=y.get(k.key===null?A:k.key)||null,u(w,y,k,M);case hc:var $=k._init;return d(y,w,A,$(k._payload),M)}if(Ag(k)||ng(k))return y=y.get(A)||null,h(w,y,k,M,null);dv(w,k)}return null}function x(y,w,A,k){for(var M=null,$=null,H=w,q=w=0,D=null;H!==null&&q<A.length;q++){H.index>q?(D=H,H=null):D=H.sibling;var se=p(y,H,A[q],k);if(se===null){H===null&&(H=D);break}r&&H&&se.alternate===null&&e(y,H),w=s(se,w,q),$===null?M=se:$.sibling=se,$=se,H=D}if(q===A.length)return t(y,H),Tr&&Mu(y,q),M;if(H===null){for(;q<A.length;q++)H=f(y,A[q],k),H!==null&&(w=s(H,w,q),$===null?M=H:$.sibling=H,$=H);return Tr&&Mu(y,q),M}for(H=n(y,H);q<A.length;q++)D=d(H,y,q,A[q],k),D!==null&&(r&&D.alternate!==null&&H.delete(D.key===null?q:D.key),w=s(D,w,q),$===null?M=D:$.sibling=D,$=D);return r&&H.forEach(function(z){return e(y,z)}),Tr&&Mu(y,q),M}function v(y,w,A,k){var M=ng(A);if(typeof M!="function")throw Error(Ve(150));if(A=M.call(A),A==null)throw Error(Ve(151));for(var $=M=null,H=w,q=w=0,D=null,se=A.next();H!==null&&!se.done;q++,se=A.next()){H.index>q?(D=H,H=null):D=H.sibling;var z=p(y,H,se.value,k);if(z===null){H===null&&(H=D);break}r&&H&&z.alternate===null&&e(y,H),w=s(z,w,q),$===null?M=z:$.sibling=z,$=z,H=D}if(se.done)return t(y,H),Tr&&Mu(y,q),M;if(H===null){for(;!se.done;q++,se=A.next())se=f(y,se.value,k),se!==null&&(w=s(se,w,q),$===null?M=se:$.sibling=se,$=se);return Tr&&Mu(y,q),M}for(H=n(y,H);!se.done;q++,se=A.next())se=d(H,y,q,se.value,k),se!==null&&(r&&se.alternate!==null&&H.delete(se.key===null?q:se.key),w=s(se,w,q),$===null?M=se:$.sibling=se,$=se);return r&&H.forEach(function(R){return e(y,R)}),Tr&&Mu(y,q),M}function b(y,w,A,k){if(typeof A=="object"&&A!==null&&A.type===mf&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case tv:e:{for(var M=A.key,$=w;$!==null;){if($.key===M){if(M=A.type,M===mf){if($.tag===7){t(y,$.sibling),w=i($,A.props.children),w.return=y,y=w;break e}}else if($.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===hc&&_6(M)===$.type){t(y,$.sibling),w=i($,A.props),w.ref=lg(y,$,A),w.return=y,y=w;break e}t(y,$);break}else e(y,$);$=$.sibling}A.type===mf?(w=rd(A.props.children,y.mode,k,A.key),w.return=y,y=w):(k=$v(A.type,A.key,A.props,null,y.mode,k),k.ref=lg(y,w,A),k.return=y,y=k)}return a(y);case pf:e:{for($=A.key;w!==null;){if(w.key===$)if(w.tag===4&&w.stateNode.containerInfo===A.containerInfo&&w.stateNode.implementation===A.implementation){t(y,w.sibling),w=i(w,A.children||[]),w.return=y,y=w;break e}else{t(y,w);break}else e(y,w);w=w.sibling}w=L2(A,y.mode,k),w.return=y,y=w}return a(y);case hc:return $=A._init,b(y,w,$(A._payload),k)}if(Ag(A))return x(y,w,A,k);if(ng(A))return v(y,w,A,k);dv(y,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,w!==null&&w.tag===6?(t(y,w.sibling),w=i(w,A),w.return=y,y=w):(t(y,w),w=P2(A,y.mode,k),w.return=y,y=w),a(y)):t(y,w)}return b}var nm=xj(!0),wj=xj(!1),zx=yu(null),Hx=null,_f=null,VS=null;function KS(){VS=_f=Hx=null}function XS(r){var e=zx.current;_r(zx),r._currentValue=e}function xA(r,e,t){for(;r!==null;){var n=r.alternate;if((r.childLanes&e)!==e?(r.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),r===t)break;r=r.return}}function Rf(r,e){Hx=r,VS=_f=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&e&&(Xi=!0),r.firstContext=null)}function ra(r){var e=r._currentValue;if(VS!==r)if(r={context:r,memoizedValue:e,next:null},_f===null){if(Hx===null)throw Error(Ve(308));_f=r,Hx.dependencies={lanes:0,firstContext:r}}else _f=_f.next=r;return e}var Vu=null;function YS(r){Vu===null?Vu=[r]:Vu.push(r)}function bj(r,e,t,n){var i=e.interleaved;return i===null?(t.next=t,YS(e)):(t.next=i.next,i.next=t),e.interleaved=t,Bl(r,n)}function Bl(r,e){r.lanes|=e;var t=r.alternate;for(t!==null&&(t.lanes|=e),t=r,r=r.return;r!==null;)r.childLanes|=e,t=r.alternate,t!==null&&(t.childLanes|=e),t=r,r=r.return;return t.tag===3?t.stateNode:null}var dc=!1;function QS(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Aj(r,e){r=r.updateQueue,e.updateQueue===r&&(e.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Il(r,e){return{eventTime:r,lane:e,tag:0,payload:null,callback:null,next:null}}function eu(r,e,t){var n=r.updateQueue;if(n===null)return null;if(n=n.shared,qt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Bl(r,t)}return i=n.interleaved,i===null?(e.next=e,YS(n)):(e.next=i.next,i.next=e),n.interleaved=e,Bl(r,t)}function Bv(r,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,DS(r,t)}}function S6(r,e){var t=r.updateQueue,n=r.alternate;if(n!==null&&(n=n.updateQueue,t===n)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=a:s=s.next=a,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},r.updateQueue=t;return}r=t.lastBaseUpdate,r===null?t.firstBaseUpdate=e:r.next=e,t.lastBaseUpdate=e}function qx(r,e,t,n){var i=r.updateQueue;dc=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var h=r.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,h=u=l=null,o=s;do{var p=o.lane,d=o.eventTime;if((n&p)===p){h!==null&&(h=h.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=r,v=o;switch(p=e,d=t,v.tag){case 1:if(x=v.payload,typeof x=="function"){f=x.call(d,f,p);break e}f=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,p=typeof x=="function"?x.call(d,f,p):x,p==null)break e;f=Dr({},f,p);break e;case 2:dc=!0}}o.callback!==null&&o.lane!==0&&(r.flags|=64,p=i.effects,p===null?i.effects=[o]:p.push(o))}else d={eventTime:d,lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=d,l=f):h=h.next=d,a|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;p=o,o=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(h===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);cd|=a,r.lanes=a,r.memoizedState=f}}function N6(r,e,t){if(r=e.effects,e.effects=null,r!==null)for(e=0;e<r.length;e++){var n=r[e],i=n.callback;if(i!==null){if(n.callback=null,n=t,typeof i!="function")throw Error(Ve(191,i));i.call(n)}}}var ty={},Lo=yu(ty),d0=yu(ty),f0=yu(ty);function Ku(r){if(r===ty)throw Error(Ve(174));return r}function JS(r,e){switch(vr(f0,e),vr(d0,r),vr(Lo,ty),r=e.nodeType,r){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Z5(null,"");break;default:r=r===8?e.parentNode:e,e=r.namespaceURI||null,r=r.tagName,e=Z5(e,r)}_r(Lo),vr(Lo,e)}function im(){_r(Lo),_r(d0),_r(f0)}function _j(r){Ku(f0.current);var e=Ku(Lo.current),t=Z5(e,r.type);e!==t&&(vr(d0,r),vr(Lo,t))}function ZS(r){d0.current===r&&(_r(Lo),_r(d0))}var Ir=yu(0);function Wx(r){for(var e=r;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var N2=[];function eN(){for(var r=0;r<N2.length;r++)N2[r]._workInProgressVersionPrimary=null;N2.length=0}var Uv=ql.ReactCurrentDispatcher,E2=ql.ReactCurrentBatchConfig,ld=0,Fr=null,xn=null,Pn=null,$x=!1,Gg=!1,p0=0,FF=0;function Xn(){throw Error(Ve(321))}function tN(r,e){if(e===null)return!1;for(var t=0;t<e.length&&t<r.length;t++)if(!za(r[t],e[t]))return!1;return!0}function rN(r,e,t,n,i,s){if(ld=s,Fr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Uv.current=r===null||r.memoizedState===null?BF:UF,r=t(n,i),Gg){s=0;do{if(Gg=!1,p0=0,25<=s)throw Error(Ve(301));s+=1,Pn=xn=null,e.updateQueue=null,Uv.current=zF,r=t(n,i)}while(Gg)}if(Uv.current=Gx,e=xn!==null&&xn.next!==null,ld=0,Pn=xn=Fr=null,$x=!1,e)throw Error(Ve(300));return r}function nN(){var r=p0!==0;return p0=0,r}function ao(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pn===null?Fr.memoizedState=Pn=r:Pn=Pn.next=r,Pn}function na(){if(xn===null){var r=Fr.alternate;r=r!==null?r.memoizedState:null}else r=xn.next;var e=Pn===null?Fr.memoizedState:Pn.next;if(e!==null)Pn=e,xn=r;else{if(r===null)throw Error(Ve(310));xn=r,r={memoizedState:xn.memoizedState,baseState:xn.baseState,baseQueue:xn.baseQueue,queue:xn.queue,next:null},Pn===null?Fr.memoizedState=Pn=r:Pn=Pn.next=r}return Pn}function m0(r,e){return typeof e=="function"?e(r):e}function k2(r){var e=na(),t=e.queue;if(t===null)throw Error(Ve(311));t.lastRenderedReducer=r;var n=xn,i=n.baseQueue,s=t.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,u=s;do{var h=u.lane;if((ld&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:r(n,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,a=n):l=l.next=f,Fr.lanes|=h,cd|=h}u=u.next}while(u!==null&&u!==s);l===null?a=n:l.next=o,za(n,e.memoizedState)||(Xi=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,t.lastRenderedState=n}if(r=t.interleaved,r!==null){i=r;do s=i.lane,Fr.lanes|=s,cd|=s,i=i.next;while(i!==r)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function C2(r){var e=na(),t=e.queue;if(t===null)throw Error(Ve(311));t.lastRenderedReducer=r;var n=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var a=i=i.next;do s=r(s,a.action),a=a.next;while(a!==i);za(s,e.memoizedState)||(Xi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,n]}function Sj(){}function Nj(r,e){var t=Fr,n=na(),i=e(),s=!za(n.memoizedState,i);if(s&&(n.memoizedState=i,Xi=!0),n=n.queue,iN(Cj.bind(null,t,n,r),[r]),n.getSnapshot!==e||s||Pn!==null&&Pn.memoizedState.tag&1){if(t.flags|=2048,g0(9,kj.bind(null,t,n,i,e),void 0,null),In===null)throw Error(Ve(349));ld&30||Ej(t,e,i)}return i}function Ej(r,e,t){r.flags|=16384,r={getSnapshot:e,value:t},e=Fr.updateQueue,e===null?(e={lastEffect:null,stores:null},Fr.updateQueue=e,e.stores=[r]):(t=e.stores,t===null?e.stores=[r]:t.push(r))}function kj(r,e,t,n){e.value=t,e.getSnapshot=n,Tj(e)&&jj(r)}function Cj(r,e,t){return t(function(){Tj(e)&&jj(r)})}function Tj(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!za(r,t)}catch{return!0}}function jj(r){var e=Bl(r,1);e!==null&&Ba(e,r,1,-1)}function E6(r){var e=ao();return typeof r=="function"&&(r=r()),e.memoizedState=e.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m0,lastRenderedState:r},e.queue=r,r=r.dispatch=OF.bind(null,Fr,r),[e.memoizedState,r]}function g0(r,e,t,n){return r={tag:r,create:e,destroy:t,deps:n,next:null},e=Fr.updateQueue,e===null?(e={lastEffect:null,stores:null},Fr.updateQueue=e,e.lastEffect=r.next=r):(t=e.lastEffect,t===null?e.lastEffect=r.next=r:(n=t.next,t.next=r,r.next=n,e.lastEffect=r)),r}function Pj(){return na().memoizedState}function zv(r,e,t,n){var i=ao();Fr.flags|=r,i.memoizedState=g0(1|e,t,void 0,n===void 0?null:n)}function zw(r,e,t,n){var i=na();n=n===void 0?null:n;var s=void 0;if(xn!==null){var a=xn.memoizedState;if(s=a.destroy,n!==null&&tN(n,a.deps)){i.memoizedState=g0(e,t,s,n);return}}Fr.flags|=r,i.memoizedState=g0(1|e,t,s,n)}function k6(r,e){return zv(8390656,8,r,e)}function iN(r,e){return zw(2048,8,r,e)}function Lj(r,e){return zw(4,2,r,e)}function Ij(r,e){return zw(4,4,r,e)}function Rj(r,e){if(typeof e=="function")return r=r(),e(r),function(){e(null)};if(e!=null)return r=r(),e.current=r,function(){e.current=null}}function Fj(r,e,t){return t=t!=null?t.concat([r]):null,zw(4,4,Rj.bind(null,e,r),t)}function sN(){}function Dj(r,e){var t=na();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&tN(e,n[1])?n[0]:(t.memoizedState=[r,e],r)}function Mj(r,e){var t=na();e=e===void 0?null:e;var n=t.memoizedState;return n!==null&&e!==null&&tN(e,n[1])?n[0]:(r=r(),t.memoizedState=[r,e],r)}function Oj(r,e,t){return ld&21?(za(t,e)||(t=qT(),Fr.lanes|=t,cd|=t,r.baseState=!0),e):(r.baseState&&(r.baseState=!1,Xi=!0),r.memoizedState=t)}function DF(r,e){var t=ir;ir=t!==0&&4>t?t:4,r(!0);var n=E2.transition;E2.transition={};try{r(!1),e()}finally{ir=t,E2.transition=n}}function Bj(){return na().memoizedState}function MF(r,e,t){var n=ru(r);if(t={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null},Uj(r))zj(e,t);else if(t=bj(r,e,t,n),t!==null){var i=ki();Ba(t,r,n,i),Hj(t,e,n)}}function OF(r,e,t){var n=ru(r),i={lane:n,action:t,hasEagerState:!1,eagerState:null,next:null};if(Uj(r))zj(e,i);else{var s=r.alternate;if(r.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,t);if(i.hasEagerState=!0,i.eagerState=o,za(o,a)){var l=e.interleaved;l===null?(i.next=i,YS(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=bj(r,e,i,n),t!==null&&(i=ki(),Ba(t,r,n,i),Hj(t,e,n))}}function Uj(r){var e=r.alternate;return r===Fr||e!==null&&e===Fr}function zj(r,e){Gg=$x=!0;var t=r.pending;t===null?e.next=e:(e.next=t.next,t.next=e),r.pending=e}function Hj(r,e,t){if(t&4194240){var n=e.lanes;n&=r.pendingLanes,t|=n,e.lanes=t,DS(r,t)}}var Gx={readContext:ra,useCallback:Xn,useContext:Xn,useEffect:Xn,useImperativeHandle:Xn,useInsertionEffect:Xn,useLayoutEffect:Xn,useMemo:Xn,useReducer:Xn,useRef:Xn,useState:Xn,useDebugValue:Xn,useDeferredValue:Xn,useTransition:Xn,useMutableSource:Xn,useSyncExternalStore:Xn,useId:Xn,unstable_isNewReconciler:!1},BF={readContext:ra,useCallback:function(r,e){return ao().memoizedState=[r,e===void 0?null:e],r},useContext:ra,useEffect:k6,useImperativeHandle:function(r,e,t){return t=t!=null?t.concat([r]):null,zv(4194308,4,Rj.bind(null,e,r),t)},useLayoutEffect:function(r,e){return zv(4194308,4,r,e)},useInsertionEffect:function(r,e){return zv(4,2,r,e)},useMemo:function(r,e){var t=ao();return e=e===void 0?null:e,r=r(),t.memoizedState=[r,e],r},useReducer:function(r,e,t){var n=ao();return e=t!==void 0?t(e):e,n.memoizedState=n.baseState=e,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:e},n.queue=r,r=r.dispatch=MF.bind(null,Fr,r),[n.memoizedState,r]},useRef:function(r){var e=ao();return r={current:r},e.memoizedState=r},useState:E6,useDebugValue:sN,useDeferredValue:function(r){return ao().memoizedState=r},useTransition:function(){var r=E6(!1),e=r[0];return r=DF.bind(null,r[1]),ao().memoizedState=r,[e,r]},useMutableSource:function(){},useSyncExternalStore:function(r,e,t){var n=Fr,i=ao();if(Tr){if(t===void 0)throw Error(Ve(407));t=t()}else{if(t=e(),In===null)throw Error(Ve(349));ld&30||Ej(n,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,k6(Cj.bind(null,n,s,r),[r]),n.flags|=2048,g0(9,kj.bind(null,n,s,t,e),void 0,null),t},useId:function(){var r=ao(),e=In.identifierPrefix;if(Tr){var t=Pl,n=jl;t=(n&~(1<<32-Oa(n)-1)).toString(32)+t,e=":"+e+"R"+t,t=p0++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=FF++,e=":"+e+"r"+t.toString(32)+":";return r.memoizedState=e},unstable_isNewReconciler:!1},UF={readContext:ra,useCallback:Dj,useContext:ra,useEffect:iN,useImperativeHandle:Fj,useInsertionEffect:Lj,useLayoutEffect:Ij,useMemo:Mj,useReducer:k2,useRef:Pj,useState:function(){return k2(m0)},useDebugValue:sN,useDeferredValue:function(r){var e=na();return Oj(e,xn.memoizedState,r)},useTransition:function(){var r=k2(m0)[0],e=na().memoizedState;return[r,e]},useMutableSource:Sj,useSyncExternalStore:Nj,useId:Bj,unstable_isNewReconciler:!1},zF={readContext:ra,useCallback:Dj,useContext:ra,useEffect:iN,useImperativeHandle:Fj,useInsertionEffect:Lj,useLayoutEffect:Ij,useMemo:Mj,useReducer:C2,useRef:Pj,useState:function(){return C2(m0)},useDebugValue:sN,useDeferredValue:function(r){var e=na();return xn===null?e.memoizedState=r:Oj(e,xn.memoizedState,r)},useTransition:function(){var r=C2(m0)[0],e=na().memoizedState;return[r,e]},useMutableSource:Sj,useSyncExternalStore:Nj,useId:Bj,unstable_isNewReconciler:!1};function xa(r,e){if(r&&r.defaultProps){e=Dr({},e),r=r.defaultProps;for(var t in r)e[t]===void 0&&(e[t]=r[t]);return e}return e}function wA(r,e,t,n){e=r.memoizedState,t=t(n,e),t=t==null?e:Dr({},e,t),r.memoizedState=t,r.lanes===0&&(r.updateQueue.baseState=t)}var Hw={isMounted:function(r){return(r=r._reactInternals)?vd(r)===r:!1},enqueueSetState:function(r,e,t){r=r._reactInternals;var n=ki(),i=ru(r),s=Il(n,i);s.payload=e,t!=null&&(s.callback=t),e=eu(r,s,i),e!==null&&(Ba(e,r,i,n),Bv(e,r,i))},enqueueReplaceState:function(r,e,t){r=r._reactInternals;var n=ki(),i=ru(r),s=Il(n,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=eu(r,s,i),e!==null&&(Ba(e,r,i,n),Bv(e,r,i))},enqueueForceUpdate:function(r,e){r=r._reactInternals;var t=ki(),n=ru(r),i=Il(t,n);i.tag=2,e!=null&&(i.callback=e),e=eu(r,i,n),e!==null&&(Ba(e,r,n,t),Bv(e,r,n))}};function C6(r,e,t,n,i,s,a){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!l0(t,n)||!l0(i,s):!0}function qj(r,e,t){var n=!1,i=cu,s=e.contextType;return typeof s=="object"&&s!==null?s=ra(s):(i=Qi(e)?ad:mi.current,n=e.contextTypes,s=(n=n!=null)?tm(r,i):cu),e=new e(t,s),r.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hw,r.stateNode=e,e._reactInternals=r,n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=s),e}function T6(r,e,t,n){r=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,n),e.state!==r&&Hw.enqueueReplaceState(e,e.state,null)}function bA(r,e,t,n){var i=r.stateNode;i.props=t,i.state=r.memoizedState,i.refs={},QS(r);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ra(s):(s=Qi(e)?ad:mi.current,i.context=tm(r,s)),i.state=r.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(wA(r,e,s,t),i.state=r.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Hw.enqueueReplaceState(i,i.state,null),qx(r,t,i,n),i.state=r.memoizedState),typeof i.componentDidMount=="function"&&(r.flags|=4194308)}function sm(r,e){try{var t="",n=e;do t+=m4(n),n=n.return;while(n);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:r,source:e,stack:i,digest:null}}function T2(r,e,t){return{value:r,source:null,stack:t??null,digest:e??null}}function AA(r,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var HF=typeof WeakMap=="function"?WeakMap:Map;function Wj(r,e,t){t=Il(-1,t),t.tag=3,t.payload={element:null};var n=e.value;return t.callback=function(){Kx||(Kx=!0,LA=n),AA(r,e)},t}function $j(r,e,t){t=Il(-1,t),t.tag=3;var n=r.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;t.payload=function(){return n(i)},t.callback=function(){AA(r,e)}}var s=r.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){AA(r,e),typeof n!="function"&&(tu===null?tu=new Set([this]):tu.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function j6(r,e,t){var n=r.pingCache;if(n===null){n=r.pingCache=new HF;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(t)||(i.add(t),r=r7.bind(null,r,e,t),e.then(r,r))}function P6(r){do{var e;if((e=r.tag===13)&&(e=r.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return r;r=r.return}while(r!==null);return null}function L6(r,e,t,n,i){return r.mode&1?(r.flags|=65536,r.lanes=i,r):(r===e?r.flags|=65536:(r.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Il(-1,1),e.tag=2,eu(t,e,1))),t.lanes|=1),r)}var qF=ql.ReactCurrentOwner,Xi=!1;function Ei(r,e,t,n){e.child=r===null?wj(e,null,t,n):nm(e,r.child,t,n)}function I6(r,e,t,n,i){t=t.render;var s=e.ref;return Rf(e,i),n=rN(r,e,t,n,s,i),t=nN(),r!==null&&!Xi?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~i,Ul(r,e,i)):(Tr&&t&&WS(e),e.flags|=1,Ei(r,e,n,i),e.child)}function R6(r,e,t,n,i){if(r===null){var s=t.type;return typeof s=="function"&&!fN(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,Gj(r,e,s,n,i)):(r=$v(t.type,null,n,e,e.mode,i),r.ref=e.ref,r.return=e,e.child=r)}if(s=r.child,!(r.lanes&i)){var a=s.memoizedProps;if(t=t.compare,t=t!==null?t:l0,t(a,n)&&r.ref===e.ref)return Ul(r,e,i)}return e.flags|=1,r=nu(s,n),r.ref=e.ref,r.return=e,e.child=r}function Gj(r,e,t,n,i){if(r!==null){var s=r.memoizedProps;if(l0(s,n)&&r.ref===e.ref)if(Xi=!1,e.pendingProps=n=s,(r.lanes&i)!==0)r.flags&131072&&(Xi=!0);else return e.lanes=r.lanes,Ul(r,e,i)}return _A(r,e,t,n,i)}function Vj(r,e,t){var n=e.pendingProps,i=n.children,s=r!==null?r.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},vr(Nf,ws),ws|=t;else{if(!(t&1073741824))return r=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:r,cachePool:null,transitions:null},e.updateQueue=null,vr(Nf,ws),ws|=r,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:t,vr(Nf,ws),ws|=n}else s!==null?(n=s.baseLanes|t,e.memoizedState=null):n=t,vr(Nf,ws),ws|=n;return Ei(r,e,i,t),e.child}function Kj(r,e){var t=e.ref;(r===null&&t!==null||r!==null&&r.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function _A(r,e,t,n,i){var s=Qi(t)?ad:mi.current;return s=tm(e,s),Rf(e,i),t=rN(r,e,t,n,s,i),n=nN(),r!==null&&!Xi?(e.updateQueue=r.updateQueue,e.flags&=-2053,r.lanes&=~i,Ul(r,e,i)):(Tr&&n&&WS(e),e.flags|=1,Ei(r,e,t,i),e.child)}function F6(r,e,t,n,i){if(Qi(t)){var s=!0;Ox(e)}else s=!1;if(Rf(e,i),e.stateNode===null)Hv(r,e),qj(e,t,n),bA(e,t,n,i),n=!0;else if(r===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=t.contextType;typeof u=="object"&&u!==null?u=ra(u):(u=Qi(t)?ad:mi.current,u=tm(e,u));var h=t.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&T6(e,a,n,u),dc=!1;var p=e.memoizedState;a.state=p,qx(e,n,a,i),l=e.memoizedState,o!==n||p!==l||Yi.current||dc?(typeof h=="function"&&(wA(e,t,h,n),l=e.memoizedState),(o=dc||C6(e,t,o,n,p,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Aj(r,e),o=e.memoizedProps,u=e.type===e.elementType?o:xa(e.type,o),a.props=u,f=e.pendingProps,p=a.context,l=t.contextType,typeof l=="object"&&l!==null?l=ra(l):(l=Qi(t)?ad:mi.current,l=tm(e,l));var d=t.getDerivedStateFromProps;(h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||p!==l)&&T6(e,a,n,l),dc=!1,p=e.memoizedState,a.state=p,qx(e,n,a,i);var x=e.memoizedState;o!==f||p!==x||Yi.current||dc?(typeof d=="function"&&(wA(e,t,d,n),x=e.memoizedState),(u=dc||C6(e,t,u,n,p,x,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,x,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,x,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===r.memoizedProps&&p===r.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===r.memoizedProps&&p===r.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),a.props=n,a.state=x,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===r.memoizedProps&&p===r.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===r.memoizedProps&&p===r.memoizedState||(e.flags|=1024),n=!1)}return SA(r,e,t,n,s,i)}function SA(r,e,t,n,i,s){Kj(r,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&w6(e,t,!1),Ul(r,e,s);n=e.stateNode,qF.current=e;var o=a&&typeof t.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,r!==null&&a?(e.child=nm(e,r.child,null,s),e.child=nm(e,null,o,s)):Ei(r,e,o,s),e.memoizedState=n.state,i&&w6(e,t,!0),e.child}function Xj(r){var e=r.stateNode;e.pendingContext?x6(r,e.pendingContext,e.pendingContext!==e.context):e.context&&x6(r,e.context,!1),JS(r,e.containerInfo)}function D6(r,e,t,n,i){return rm(),GS(i),e.flags|=256,Ei(r,e,t,n),e.child}var NA={dehydrated:null,treeContext:null,retryLane:0};function EA(r){return{baseLanes:r,cachePool:null,transitions:null}}function Yj(r,e,t){var n=e.pendingProps,i=Ir.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=r!==null&&r.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(r===null||r.memoizedState!==null)&&(i|=1),vr(Ir,i&1),r===null)return vA(e),r=e.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(e.mode&1?r.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,r=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=$w(a,n,0,null),r=rd(r,n,t,null),s.return=e,r.return=e,s.sibling=r,e.child=s,e.child.memoizedState=EA(t),e.memoizedState=NA,r):aN(e,a));if(i=r.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return WF(r,e,a,n,o,i,t);if(s){s=n.fallback,a=e.mode,i=r.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=nu(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=nu(o,s):(s=rd(s,a,t,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=r.child.memoizedState,a=a===null?EA(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=r.childLanes&~t,e.memoizedState=NA,n}return s=r.child,r=s.sibling,n=nu(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=t),n.return=e,n.sibling=null,r!==null&&(t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)),e.child=n,e.memoizedState=null,n}function aN(r,e){return e=$w({mode:"visible",children:e},r.mode,0,null),e.return=r,r.child=e}function fv(r,e,t,n){return n!==null&&GS(n),nm(e,r.child,null,t),r=aN(e,e.pendingProps.children),r.flags|=2,e.memoizedState=null,r}function WF(r,e,t,n,i,s,a){if(t)return e.flags&256?(e.flags&=-257,n=T2(Error(Ve(422))),fv(r,e,a,n)):e.memoizedState!==null?(e.child=r.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=$w({mode:"visible",children:n.children},i,0,null),s=rd(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&nm(e,r.child,null,a),e.child.memoizedState=EA(a),e.memoizedState=NA,s);if(!(e.mode&1))return fv(r,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(Ve(419)),n=T2(s,n,void 0),fv(r,e,a,n)}if(o=(a&r.childLanes)!==0,Xi||o){if(n=In,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Bl(r,i),Ba(n,r,i,-1))}return dN(),n=T2(Error(Ve(421))),fv(r,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=r.child,e=n7.bind(null,r),i._reactRetry=e,null):(r=s.treeContext,_s=Zc(i.nextSibling),Ns=e,Tr=!0,Fa=null,r!==null&&(Xs[Ys++]=jl,Xs[Ys++]=Pl,Xs[Ys++]=od,jl=r.id,Pl=r.overflow,od=e),e=aN(e,n.children),e.flags|=4096,e)}function M6(r,e,t){r.lanes|=e;var n=r.alternate;n!==null&&(n.lanes|=e),xA(r.return,e,t)}function j2(r,e,t,n,i){var s=r.memoizedState;s===null?r.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=t,s.tailMode=i)}function Qj(r,e,t){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Ei(r,e,n.children,t),n=Ir.current,n&2)n=n&1|2,e.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=e.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&M6(r,t,e);else if(r.tag===19)M6(r,t,e);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break e;for(;r.sibling===null;){if(r.return===null||r.return===e)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}n&=1}if(vr(Ir,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)r=t.alternate,r!==null&&Wx(r)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),j2(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(r=i.alternate,r!==null&&Wx(r)===null){e.child=i;break}r=i.sibling,i.sibling=t,t=i,i=r}j2(e,!0,t,null,s);break;case"together":j2(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Hv(r,e){!(e.mode&1)&&r!==null&&(r.alternate=null,e.alternate=null,e.flags|=2)}function Ul(r,e,t){if(r!==null&&(e.dependencies=r.dependencies),cd|=e.lanes,!(t&e.childLanes))return null;if(r!==null&&e.child!==r.child)throw Error(Ve(153));if(e.child!==null){for(r=e.child,t=nu(r,r.pendingProps),e.child=t,t.return=e;r.sibling!==null;)r=r.sibling,t=t.sibling=nu(r,r.pendingProps),t.return=e;t.sibling=null}return e.child}function $F(r,e,t){switch(e.tag){case 3:Xj(e),rm();break;case 5:_j(e);break;case 1:Qi(e.type)&&Ox(e);break;case 4:JS(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;vr(zx,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(vr(Ir,Ir.current&1),e.flags|=128,null):t&e.child.childLanes?Yj(r,e,t):(vr(Ir,Ir.current&1),r=Ul(r,e,t),r!==null?r.sibling:null);vr(Ir,Ir.current&1);break;case 19:if(n=(t&e.childLanes)!==0,r.flags&128){if(n)return Qj(r,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),vr(Ir,Ir.current),n)break;return null;case 22:case 23:return e.lanes=0,Vj(r,e,t)}return Ul(r,e,t)}var Jj,kA,Zj,eP;Jj=function(r,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)r.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};kA=function(){};Zj=function(r,e,t,n){var i=r.memoizedProps;if(i!==n){r=e.stateNode,Ku(Lo.current);var s=null;switch(t){case"input":i=X5(r,i),n=X5(r,n),s=[];break;case"select":i=Dr({},i,{value:void 0}),n=Dr({},n,{value:void 0}),s=[];break;case"textarea":i=J5(r,i),n=J5(r,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(r.onclick=Dx)}eA(t,n);var a;t=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(t0.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(t||(t={}),t[a]=l[a])}else t||(s||(s=[]),s.push(u,t)),t=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(t0.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&xr("scroll",r),s||o===l||(s=[])):(s=s||[]).push(u,l))}t&&(s=s||[]).push("style",t);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};eP=function(r,e,t,n){t!==n&&(e.flags|=4)};function cg(r,e){if(!Tr)switch(r.tailMode){case"hidden":e=r.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?r.tail=null:t.sibling=null;break;case"collapsed":t=r.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e||r.tail===null?r.tail=null:r.tail.sibling=null:n.sibling=null}}function Yn(r){var e=r.alternate!==null&&r.alternate.child===r.child,t=0,n=0;if(e)for(var i=r.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=r,i=i.sibling;else for(i=r.child;i!==null;)t|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=r,i=i.sibling;return r.subtreeFlags|=n,r.childLanes=t,e}function GF(r,e,t){var n=e.pendingProps;switch($S(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(e),null;case 1:return Qi(e.type)&&Mx(),Yn(e),null;case 3:return n=e.stateNode,im(),_r(Yi),_r(mi),eN(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(r===null||r.child===null)&&(hv(e)?e.flags|=4:r===null||r.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Fa!==null&&(FA(Fa),Fa=null))),kA(r,e),Yn(e),null;case 5:ZS(e);var i=Ku(f0.current);if(t=e.type,r!==null&&e.stateNode!=null)Zj(r,e,t,n,i),r.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Ve(166));return Yn(e),null}if(r=Ku(Lo.current),hv(e)){n=e.stateNode,t=e.type;var s=e.memoizedProps;switch(n[Co]=e,n[h0]=s,r=(e.mode&1)!==0,t){case"dialog":xr("cancel",n),xr("close",n);break;case"iframe":case"object":case"embed":xr("load",n);break;case"video":case"audio":for(i=0;i<Sg.length;i++)xr(Sg[i],n);break;case"source":xr("error",n);break;case"img":case"image":case"link":xr("error",n),xr("load",n);break;case"details":xr("toggle",n);break;case"input":GE(n,s),xr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},xr("invalid",n);break;case"textarea":KE(n,s),xr("invalid",n)}eA(t,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&uv(n.textContent,o,r),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&uv(n.textContent,o,r),i=["children",""+o]):t0.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&xr("scroll",n)}switch(t){case"input":rv(n),VE(n,s,!0);break;case"textarea":rv(n),XE(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Dx)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=CT(t)),r==="http://www.w3.org/1999/xhtml"?t==="script"?(r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof n.is=="string"?r=a.createElement(t,{is:n.is}):(r=a.createElement(t),t==="select"&&(a=r,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):r=a.createElementNS(r,t),r[Co]=e,r[h0]=n,Jj(r,e,!1,!1),e.stateNode=r;e:{switch(a=tA(t,n),t){case"dialog":xr("cancel",r),xr("close",r),i=n;break;case"iframe":case"object":case"embed":xr("load",r),i=n;break;case"video":case"audio":for(i=0;i<Sg.length;i++)xr(Sg[i],r);i=n;break;case"source":xr("error",r),i=n;break;case"img":case"image":case"link":xr("error",r),xr("load",r),i=n;break;case"details":xr("toggle",r),i=n;break;case"input":GE(r,n),i=X5(r,n),xr("invalid",r);break;case"option":i=n;break;case"select":r._wrapperState={wasMultiple:!!n.multiple},i=Dr({},n,{value:void 0}),xr("invalid",r);break;case"textarea":KE(r,n),i=J5(r,n),xr("invalid",r);break;default:i=n}eA(t,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?PT(r,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&TT(r,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&r0(r,l):typeof l=="number"&&r0(r,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(t0.hasOwnProperty(s)?l!=null&&s==="onScroll"&&xr("scroll",r):l!=null&&jS(r,s,l,a))}switch(t){case"input":rv(r),VE(r,n,!1);break;case"textarea":rv(r),XE(r);break;case"option":n.value!=null&&r.setAttribute("value",""+lu(n.value));break;case"select":r.multiple=!!n.multiple,s=n.value,s!=null?jf(r,!!n.multiple,s,!1):n.defaultValue!=null&&jf(r,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(r.onclick=Dx)}switch(t){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yn(e),null;case 6:if(r&&e.stateNode!=null)eP(r,e,r.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Ve(166));if(t=Ku(f0.current),Ku(Lo.current),hv(e)){if(n=e.stateNode,t=e.memoizedProps,n[Co]=e,(s=n.nodeValue!==t)&&(r=Ns,r!==null))switch(r.tag){case 3:uv(n.nodeValue,t,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&uv(n.nodeValue,t,(r.mode&1)!==0)}s&&(e.flags|=4)}else n=(t.nodeType===9?t:t.ownerDocument).createTextNode(n),n[Co]=e,e.stateNode=n}return Yn(e),null;case 13:if(_r(Ir),n=e.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Tr&&_s!==null&&e.mode&1&&!(e.flags&128))vj(),rm(),e.flags|=98560,s=!1;else if(s=hv(e),n!==null&&n.dehydrated!==null){if(r===null){if(!s)throw Error(Ve(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ve(317));s[Co]=e}else rm(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yn(e),s=!1}else Fa!==null&&(FA(Fa),Fa=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(n=n!==null,n!==(r!==null&&r.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(r===null||Ir.current&1?wn===0&&(wn=3):dN())),e.updateQueue!==null&&(e.flags|=4),Yn(e),null);case 4:return im(),kA(r,e),r===null&&c0(e.stateNode.containerInfo),Yn(e),null;case 10:return XS(e.type._context),Yn(e),null;case 17:return Qi(e.type)&&Mx(),Yn(e),null;case 19:if(_r(Ir),s=e.memoizedState,s===null)return Yn(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)cg(s,!1);else{if(wn!==0||r!==null&&r.flags&128)for(r=e.child;r!==null;){if(a=Wx(r),a!==null){for(e.flags|=128,cg(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=t,t=e.child;t!==null;)s=t,r=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,r=a.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t=t.sibling;return vr(Ir,Ir.current&1|2),e.child}r=r.sibling}s.tail!==null&&Yr()>am&&(e.flags|=128,n=!0,cg(s,!1),e.lanes=4194304)}else{if(!n)if(r=Wx(a),r!==null){if(e.flags|=128,n=!0,t=r.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),cg(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Tr)return Yn(e),null}else 2*Yr()-s.renderingStartTime>am&&t!==1073741824&&(e.flags|=128,n=!0,cg(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(t=s.last,t!==null?t.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Yr(),e.sibling=null,t=Ir.current,vr(Ir,n?t&1|2:t&1),e):(Yn(e),null);case 22:case 23:return hN(),n=e.memoizedState!==null,r!==null&&r.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ws&1073741824&&(Yn(e),e.subtreeFlags&6&&(e.flags|=8192)):Yn(e),null;case 24:return null;case 25:return null}throw Error(Ve(156,e.tag))}function VF(r,e){switch($S(e),e.tag){case 1:return Qi(e.type)&&Mx(),r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 3:return im(),_r(Yi),_r(mi),eN(),r=e.flags,r&65536&&!(r&128)?(e.flags=r&-65537|128,e):null;case 5:return ZS(e),null;case 13:if(_r(Ir),r=e.memoizedState,r!==null&&r.dehydrated!==null){if(e.alternate===null)throw Error(Ve(340));rm()}return r=e.flags,r&65536?(e.flags=r&-65537|128,e):null;case 19:return _r(Ir),null;case 4:return im(),null;case 10:return XS(e.type._context),null;case 22:case 23:return hN(),null;case 24:return null;default:return null}}var pv=!1,ui=!1,KF=typeof WeakSet=="function"?WeakSet:Set,st=null;function Sf(r,e){var t=r.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(n){qr(r,e,n)}else t.current=null}function CA(r,e,t){try{t()}catch(n){qr(r,e,n)}}var O6=!1;function XF(r,e){if(hA=Ix,r=sj(),qS(r)){if("selectionStart"in r)var t={start:r.selectionStart,end:r.selectionEnd};else e:{t=(t=r.ownerDocument)&&t.defaultView||window;var n=t.getSelection&&t.getSelection();if(n&&n.rangeCount!==0){t=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var a=0,o=-1,l=-1,u=0,h=0,f=r,p=null;t:for(;;){for(var d;f!==t||i!==0&&f.nodeType!==3||(o=a+i),f!==s||n!==0&&f.nodeType!==3||(l=a+n),f.nodeType===3&&(a+=f.nodeValue.length),(d=f.firstChild)!==null;)p=f,f=d;for(;;){if(f===r)break t;if(p===t&&++u===i&&(o=a),p===s&&++h===n&&(l=a),(d=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=d}t=o===-1||l===-1?null:{start:o,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(dA={focusedElem:r,selectionRange:t},Ix=!1,st=e;st!==null;)if(e=st,r=e.child,(e.subtreeFlags&1028)!==0&&r!==null)r.return=e,st=r;else for(;st!==null;){e=st;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,b=x.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?v:xa(e.type,v),b);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ve(163))}}catch(k){qr(e,e.return,k)}if(r=e.sibling,r!==null){r.return=e.return,st=r;break}st=e.return}return x=O6,O6=!1,x}function Vg(r,e,t){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&r)===r){var s=i.destroy;i.destroy=void 0,s!==void 0&&CA(e,t,s)}i=i.next}while(i!==n)}}function qw(r,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&r)===r){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}}function TA(r){var e=r.ref;if(e!==null){var t=r.stateNode;switch(r.tag){case 5:r=t;break;default:r=t}typeof e=="function"?e(r):e.current=r}}function tP(r){var e=r.alternate;e!==null&&(r.alternate=null,tP(e)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(e=r.stateNode,e!==null&&(delete e[Co],delete e[h0],delete e[mA],delete e[PF],delete e[LF])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function rP(r){return r.tag===5||r.tag===3||r.tag===4}function B6(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||rP(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function jA(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(r,e):t.insertBefore(r,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(r,t)):(e=t,e.appendChild(r)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Dx));else if(n!==4&&(r=r.child,r!==null))for(jA(r,e,t),r=r.sibling;r!==null;)jA(r,e,t),r=r.sibling}function PA(r,e,t){var n=r.tag;if(n===5||n===6)r=r.stateNode,e?t.insertBefore(r,e):t.appendChild(r);else if(n!==4&&(r=r.child,r!==null))for(PA(r,e,t),r=r.sibling;r!==null;)PA(r,e,t),r=r.sibling}var Hn=null,Ra=!1;function ac(r,e,t){for(t=t.child;t!==null;)nP(r,e,t),t=t.sibling}function nP(r,e,t){if(Po&&typeof Po.onCommitFiberUnmount=="function")try{Po.onCommitFiberUnmount(Fw,t)}catch{}switch(t.tag){case 5:ui||Sf(t,e);case 6:var n=Hn,i=Ra;Hn=null,ac(r,e,t),Hn=n,Ra=i,Hn!==null&&(Ra?(r=Hn,t=t.stateNode,r.nodeType===8?r.parentNode.removeChild(t):r.removeChild(t)):Hn.removeChild(t.stateNode));break;case 18:Hn!==null&&(Ra?(r=Hn,t=t.stateNode,r.nodeType===8?_2(r.parentNode,t):r.nodeType===1&&_2(r,t),a0(r)):_2(Hn,t.stateNode));break;case 4:n=Hn,i=Ra,Hn=t.stateNode.containerInfo,Ra=!0,ac(r,e,t),Hn=n,Ra=i;break;case 0:case 11:case 14:case 15:if(!ui&&(n=t.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&CA(t,e,a),i=i.next}while(i!==n)}ac(r,e,t);break;case 1:if(!ui&&(Sf(t,e),n=t.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=t.memoizedProps,n.state=t.memoizedState,n.componentWillUnmount()}catch(o){qr(t,e,o)}ac(r,e,t);break;case 21:ac(r,e,t);break;case 22:t.mode&1?(ui=(n=ui)||t.memoizedState!==null,ac(r,e,t),ui=n):ac(r,e,t);break;default:ac(r,e,t)}}function U6(r){var e=r.updateQueue;if(e!==null){r.updateQueue=null;var t=r.stateNode;t===null&&(t=r.stateNode=new KF),e.forEach(function(n){var i=i7.bind(null,r,n);t.has(n)||(t.add(n),n.then(i,i))})}}function pa(r,e){var t=e.deletions;if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];try{var s=r,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Hn=o.stateNode,Ra=!1;break e;case 3:Hn=o.stateNode.containerInfo,Ra=!0;break e;case 4:Hn=o.stateNode.containerInfo,Ra=!0;break e}o=o.return}if(Hn===null)throw Error(Ve(160));nP(s,a,i),Hn=null,Ra=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){qr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iP(e,r),e=e.sibling}function iP(r,e){var t=r.alternate,n=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(pa(e,r),to(r),n&4){try{Vg(3,r,r.return),qw(3,r)}catch(v){qr(r,r.return,v)}try{Vg(5,r,r.return)}catch(v){qr(r,r.return,v)}}break;case 1:pa(e,r),to(r),n&512&&t!==null&&Sf(t,t.return);break;case 5:if(pa(e,r),to(r),n&512&&t!==null&&Sf(t,t.return),r.flags&32){var i=r.stateNode;try{r0(i,"")}catch(v){qr(r,r.return,v)}}if(n&4&&(i=r.stateNode,i!=null)){var s=r.memoizedProps,a=t!==null?t.memoizedProps:s,o=r.type,l=r.updateQueue;if(r.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&ET(i,s),tA(o,a);var u=tA(o,s);for(a=0;a<l.length;a+=2){var h=l[a],f=l[a+1];h==="style"?PT(i,f):h==="dangerouslySetInnerHTML"?TT(i,f):h==="children"?r0(i,f):jS(i,h,f,u)}switch(o){case"input":Y5(i,s);break;case"textarea":kT(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?jf(i,!!s.multiple,d,!1):p!==!!s.multiple&&(s.defaultValue!=null?jf(i,!!s.multiple,s.defaultValue,!0):jf(i,!!s.multiple,s.multiple?[]:"",!1))}i[h0]=s}catch(v){qr(r,r.return,v)}}break;case 6:if(pa(e,r),to(r),n&4){if(r.stateNode===null)throw Error(Ve(162));i=r.stateNode,s=r.memoizedProps;try{i.nodeValue=s}catch(v){qr(r,r.return,v)}}break;case 3:if(pa(e,r),to(r),n&4&&t!==null&&t.memoizedState.isDehydrated)try{a0(e.containerInfo)}catch(v){qr(r,r.return,v)}break;case 4:pa(e,r),to(r);break;case 13:pa(e,r),to(r),i=r.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(cN=Yr())),n&4&&U6(r);break;case 22:if(h=t!==null&&t.memoizedState!==null,r.mode&1?(ui=(u=ui)||h,pa(e,r),ui=u):pa(e,r),to(r),n&8192){if(u=r.memoizedState!==null,(r.stateNode.isHidden=u)&&!h&&r.mode&1)for(st=r,h=r.child;h!==null;){for(f=st=h;st!==null;){switch(p=st,d=p.child,p.tag){case 0:case 11:case 14:case 15:Vg(4,p,p.return);break;case 1:Sf(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){n=p,t=p.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(v){qr(n,t,v)}}break;case 5:Sf(p,p.return);break;case 22:if(p.memoizedState!==null){H6(f);continue}}d!==null?(d.return=p,st=d):H6(f)}h=h.sibling}e:for(h=null,f=r;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=jT("display",a))}catch(v){qr(r,r.return,v)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){qr(r,r.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===r)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:pa(e,r),to(r),n&4&&U6(r);break;case 21:break;default:pa(e,r),to(r)}}function to(r){var e=r.flags;if(e&2){try{e:{for(var t=r.return;t!==null;){if(rP(t)){var n=t;break e}t=t.return}throw Error(Ve(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(r0(i,""),n.flags&=-33);var s=B6(r);PA(r,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=B6(r);jA(r,o,a);break;default:throw Error(Ve(161))}}catch(l){qr(r,r.return,l)}r.flags&=-3}e&4096&&(r.flags&=-4097)}function YF(r,e,t){st=r,sP(r)}function sP(r,e,t){for(var n=(r.mode&1)!==0;st!==null;){var i=st,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||pv;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||ui;o=pv;var u=ui;if(pv=a,(ui=l)&&!u)for(st=i;st!==null;)a=st,l=a.child,a.tag===22&&a.memoizedState!==null?q6(i):l!==null?(l.return=a,st=l):q6(i);for(;s!==null;)st=s,sP(s),s=s.sibling;st=i,pv=o,ui=u}z6(r)}else i.subtreeFlags&8772&&s!==null?(s.return=i,st=s):z6(r)}}function z6(r){for(;st!==null;){var e=st;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ui||qw(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ui)if(t===null)n.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:xa(e.type,t.memoizedProps);n.componentDidUpdate(i,t.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&N6(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}N6(e,a,t)}break;case 5:var o=e.stateNode;if(t===null&&e.flags&4){t=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&a0(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ve(163))}ui||e.flags&512&&TA(e)}catch(p){qr(e,e.return,p)}}if(e===r){st=null;break}if(t=e.sibling,t!==null){t.return=e.return,st=t;break}st=e.return}}function H6(r){for(;st!==null;){var e=st;if(e===r){st=null;break}var t=e.sibling;if(t!==null){t.return=e.return,st=t;break}st=e.return}}function q6(r){for(;st!==null;){var e=st;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{qw(4,e)}catch(l){qr(e,t,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){qr(e,i,l)}}var s=e.return;try{TA(e)}catch(l){qr(e,s,l)}break;case 5:var a=e.return;try{TA(e)}catch(l){qr(e,a,l)}}}catch(l){qr(e,e.return,l)}if(e===r){st=null;break}var o=e.sibling;if(o!==null){o.return=e.return,st=o;break}st=e.return}}var QF=Math.ceil,Vx=ql.ReactCurrentDispatcher,oN=ql.ReactCurrentOwner,ea=ql.ReactCurrentBatchConfig,qt=0,In=null,un=null,Wn=0,ws=0,Nf=yu(0),wn=0,y0=null,cd=0,Ww=0,lN=0,Kg=null,Vi=null,cN=0,am=1/0,el=null,Kx=!1,LA=null,tu=null,mv=!1,Vc=null,Xx=0,Xg=0,IA=null,qv=-1,Wv=0;function ki(){return qt&6?Yr():qv!==-1?qv:qv=Yr()}function ru(r){return r.mode&1?qt&2&&Wn!==0?Wn&-Wn:RF.transition!==null?(Wv===0&&(Wv=qT()),Wv):(r=ir,r!==0||(r=window.event,r=r===void 0?16:YT(r.type)),r):1}function Ba(r,e,t,n){if(50<Xg)throw Xg=0,IA=null,Error(Ve(185));J1(r,t,n),(!(qt&2)||r!==In)&&(r===In&&(!(qt&2)&&(Ww|=t),wn===4&&pc(r,Wn)),Ji(r,n),t===1&&qt===0&&!(e.mode&1)&&(am=Yr()+500,Uw&&vu()))}function Ji(r,e){var t=r.callbackNode;R4(r,e);var n=Lx(r,r===In?Wn:0);if(n===0)t!==null&&JE(t),r.callbackNode=null,r.callbackPriority=0;else if(e=n&-n,r.callbackPriority!==e){if(t!=null&&JE(t),e===1)r.tag===0?IF(W6.bind(null,r)):mj(W6.bind(null,r)),TF(function(){!(qt&6)&&vu()}),t=null;else{switch(WT(n)){case 1:t=FS;break;case 4:t=zT;break;case 16:t=Px;break;case 536870912:t=HT;break;default:t=Px}t=fP(t,aP.bind(null,r))}r.callbackPriority=e,r.callbackNode=t}}function aP(r,e){if(qv=-1,Wv=0,qt&6)throw Error(Ve(327));var t=r.callbackNode;if(Ff()&&r.callbackNode!==t)return null;var n=Lx(r,r===In?Wn:0);if(n===0)return null;if(n&30||n&r.expiredLanes||e)e=Yx(r,n);else{e=n;var i=qt;qt|=2;var s=lP();(In!==r||Wn!==e)&&(el=null,am=Yr()+500,td(r,e));do try{e7();break}catch(o){oP(r,o)}while(!0);KS(),Vx.current=s,qt=i,un!==null?e=0:(In=null,Wn=0,e=wn)}if(e!==0){if(e===2&&(i=aA(r),i!==0&&(n=i,e=RA(r,i))),e===1)throw t=y0,td(r,0),pc(r,n),Ji(r,Yr()),t;if(e===6)pc(r,n);else{if(i=r.current.alternate,!(n&30)&&!JF(i)&&(e=Yx(r,n),e===2&&(s=aA(r),s!==0&&(n=s,e=RA(r,s))),e===1))throw t=y0,td(r,0),pc(r,n),Ji(r,Yr()),t;switch(r.finishedWork=i,r.finishedLanes=n,e){case 0:case 1:throw Error(Ve(345));case 2:Ou(r,Vi,el);break;case 3:if(pc(r,n),(n&130023424)===n&&(e=cN+500-Yr(),10<e)){if(Lx(r,0)!==0)break;if(i=r.suspendedLanes,(i&n)!==n){ki(),r.pingedLanes|=r.suspendedLanes&i;break}r.timeoutHandle=pA(Ou.bind(null,r,Vi,el),e);break}Ou(r,Vi,el);break;case 4:if(pc(r,n),(n&4194240)===n)break;for(e=r.eventTimes,i=-1;0<n;){var a=31-Oa(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=Yr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*QF(n/1960))-n,10<n){r.timeoutHandle=pA(Ou.bind(null,r,Vi,el),n);break}Ou(r,Vi,el);break;case 5:Ou(r,Vi,el);break;default:throw Error(Ve(329))}}}return Ji(r,Yr()),r.callbackNode===t?aP.bind(null,r):null}function RA(r,e){var t=Kg;return r.current.memoizedState.isDehydrated&&(td(r,e).flags|=256),r=Yx(r,e),r!==2&&(e=Vi,Vi=t,e!==null&&FA(e)),r}function FA(r){Vi===null?Vi=r:Vi.push.apply(Vi,r)}function JF(r){for(var e=r;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var n=0;n<t.length;n++){var i=t[n],s=i.getSnapshot;i=i.value;try{if(!za(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===r)break;for(;e.sibling===null;){if(e.return===null||e.return===r)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function pc(r,e){for(e&=~lN,e&=~Ww,r.suspendedLanes|=e,r.pingedLanes&=~e,r=r.expirationTimes;0<e;){var t=31-Oa(e),n=1<<t;r[t]=-1,e&=~n}}function W6(r){if(qt&6)throw Error(Ve(327));Ff();var e=Lx(r,0);if(!(e&1))return Ji(r,Yr()),null;var t=Yx(r,e);if(r.tag!==0&&t===2){var n=aA(r);n!==0&&(e=n,t=RA(r,n))}if(t===1)throw t=y0,td(r,0),pc(r,e),Ji(r,Yr()),t;if(t===6)throw Error(Ve(345));return r.finishedWork=r.current.alternate,r.finishedLanes=e,Ou(r,Vi,el),Ji(r,Yr()),null}function uN(r,e){var t=qt;qt|=1;try{return r(e)}finally{qt=t,qt===0&&(am=Yr()+500,Uw&&vu())}}function ud(r){Vc!==null&&Vc.tag===0&&!(qt&6)&&Ff();var e=qt;qt|=1;var t=ea.transition,n=ir;try{if(ea.transition=null,ir=1,r)return r()}finally{ir=n,ea.transition=t,qt=e,!(qt&6)&&vu()}}function hN(){ws=Nf.current,_r(Nf)}function td(r,e){r.finishedWork=null,r.finishedLanes=0;var t=r.timeoutHandle;if(t!==-1&&(r.timeoutHandle=-1,CF(t)),un!==null)for(t=un.return;t!==null;){var n=t;switch($S(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Mx();break;case 3:im(),_r(Yi),_r(mi),eN();break;case 5:ZS(n);break;case 4:im();break;case 13:_r(Ir);break;case 19:_r(Ir);break;case 10:XS(n.type._context);break;case 22:case 23:hN()}t=t.return}if(In=r,un=r=nu(r.current,null),Wn=ws=e,wn=0,y0=null,lN=Ww=cd=0,Vi=Kg=null,Vu!==null){for(e=0;e<Vu.length;e++)if(t=Vu[e],n=t.interleaved,n!==null){t.interleaved=null;var i=n.next,s=t.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}t.pending=n}Vu=null}return r}function oP(r,e){do{var t=un;try{if(KS(),Uv.current=Gx,$x){for(var n=Fr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}$x=!1}if(ld=0,Pn=xn=Fr=null,Gg=!1,p0=0,oN.current=null,t===null||t.return===null){wn=1,y0=e,un=null;break}e:{var s=r,a=t.return,o=t,l=e;if(e=Wn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=o,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var d=P6(a);if(d!==null){d.flags&=-257,L6(d,a,o,s,e),d.mode&1&&j6(s,u,e),e=d,l=u;var x=e.updateQueue;if(x===null){var v=new Set;v.add(l),e.updateQueue=v}else x.add(l);break e}else{if(!(e&1)){j6(s,u,e),dN();break e}l=Error(Ve(426))}}else if(Tr&&o.mode&1){var b=P6(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),L6(b,a,o,s,e),GS(sm(l,o));break e}}s=l=sm(l,o),wn!==4&&(wn=2),Kg===null?Kg=[s]:Kg.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=Wj(s,l,e);S6(s,y);break e;case 1:o=l;var w=s.type,A=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(tu===null||!tu.has(A)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=$j(s,o,e);S6(s,k);break e}}s=s.return}while(s!==null)}uP(t)}catch(M){e=M,un===t&&t!==null&&(un=t=t.return);continue}break}while(!0)}function lP(){var r=Vx.current;return Vx.current=Gx,r===null?Gx:r}function dN(){(wn===0||wn===3||wn===2)&&(wn=4),In===null||!(cd&268435455)&&!(Ww&268435455)||pc(In,Wn)}function Yx(r,e){var t=qt;qt|=2;var n=lP();(In!==r||Wn!==e)&&(el=null,td(r,e));do try{ZF();break}catch(i){oP(r,i)}while(!0);if(KS(),qt=t,Vx.current=n,un!==null)throw Error(Ve(261));return In=null,Wn=0,wn}function ZF(){for(;un!==null;)cP(un)}function e7(){for(;un!==null&&!N4();)cP(un)}function cP(r){var e=dP(r.alternate,r,ws);r.memoizedProps=r.pendingProps,e===null?uP(r):un=e,oN.current=null}function uP(r){var e=r;do{var t=e.alternate;if(r=e.return,e.flags&32768){if(t=VF(t,e),t!==null){t.flags&=32767,un=t;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{wn=6,un=null;return}}else if(t=GF(t,e,ws),t!==null){un=t;return}if(e=e.sibling,e!==null){un=e;return}un=e=r}while(e!==null);wn===0&&(wn=5)}function Ou(r,e,t){var n=ir,i=ea.transition;try{ea.transition=null,ir=1,t7(r,e,t,n)}finally{ea.transition=i,ir=n}return null}function t7(r,e,t,n){do Ff();while(Vc!==null);if(qt&6)throw Error(Ve(327));t=r.finishedWork;var i=r.finishedLanes;if(t===null)return null;if(r.finishedWork=null,r.finishedLanes=0,t===r.current)throw Error(Ve(177));r.callbackNode=null,r.callbackPriority=0;var s=t.lanes|t.childLanes;if(F4(r,s),r===In&&(un=In=null,Wn=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||mv||(mv=!0,fP(Px,function(){return Ff(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=ea.transition,ea.transition=null;var a=ir;ir=1;var o=qt;qt|=4,oN.current=null,XF(r,t),iP(t,r),bF(dA),Ix=!!hA,dA=hA=null,r.current=t,YF(t),E4(),qt=o,ir=a,ea.transition=s}else r.current=t;if(mv&&(mv=!1,Vc=r,Xx=i),s=r.pendingLanes,s===0&&(tu=null),T4(t.stateNode),Ji(r,Yr()),e!==null)for(n=r.onRecoverableError,t=0;t<e.length;t++)i=e[t],n(i.value,{componentStack:i.stack,digest:i.digest});if(Kx)throw Kx=!1,r=LA,LA=null,r;return Xx&1&&r.tag!==0&&Ff(),s=r.pendingLanes,s&1?r===IA?Xg++:(Xg=0,IA=r):Xg=0,vu(),null}function Ff(){if(Vc!==null){var r=WT(Xx),e=ea.transition,t=ir;try{if(ea.transition=null,ir=16>r?16:r,Vc===null)var n=!1;else{if(r=Vc,Vc=null,Xx=0,qt&6)throw Error(Ve(331));var i=qt;for(qt|=4,st=r.current;st!==null;){var s=st,a=s.child;if(st.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(st=u;st!==null;){var h=st;switch(h.tag){case 0:case 11:case 15:Vg(8,h,s)}var f=h.child;if(f!==null)f.return=h,st=f;else for(;st!==null;){h=st;var p=h.sibling,d=h.return;if(tP(h),h===u){st=null;break}if(p!==null){p.return=d,st=p;break}st=d}}}var x=s.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}st=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,st=a;else e:for(;st!==null;){if(s=st,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Vg(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,st=y;break e}st=s.return}}var w=r.current;for(st=w;st!==null;){a=st;var A=a.child;if(a.subtreeFlags&2064&&A!==null)A.return=a,st=A;else e:for(a=w;st!==null;){if(o=st,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:qw(9,o)}}catch(M){qr(o,o.return,M)}if(o===a){st=null;break e}var k=o.sibling;if(k!==null){k.return=o.return,st=k;break e}st=o.return}}if(qt=i,vu(),Po&&typeof Po.onPostCommitFiberRoot=="function")try{Po.onPostCommitFiberRoot(Fw,r)}catch{}n=!0}return n}finally{ir=t,ea.transition=e}}return!1}function $6(r,e,t){e=sm(t,e),e=Wj(r,e,1),r=eu(r,e,1),e=ki(),r!==null&&(J1(r,1,e),Ji(r,e))}function qr(r,e,t){if(r.tag===3)$6(r,r,t);else for(;e!==null;){if(e.tag===3){$6(e,r,t);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(tu===null||!tu.has(n))){r=sm(t,r),r=$j(e,r,1),e=eu(e,r,1),r=ki(),e!==null&&(J1(e,1,r),Ji(e,r));break}}e=e.return}}function r7(r,e,t){var n=r.pingCache;n!==null&&n.delete(e),e=ki(),r.pingedLanes|=r.suspendedLanes&t,In===r&&(Wn&t)===t&&(wn===4||wn===3&&(Wn&130023424)===Wn&&500>Yr()-cN?td(r,0):lN|=t),Ji(r,e)}function hP(r,e){e===0&&(r.mode&1?(e=sv,sv<<=1,!(sv&130023424)&&(sv=4194304)):e=1);var t=ki();r=Bl(r,e),r!==null&&(J1(r,e,t),Ji(r,t))}function n7(r){var e=r.memoizedState,t=0;e!==null&&(t=e.retryLane),hP(r,t)}function i7(r,e){var t=0;switch(r.tag){case 13:var n=r.stateNode,i=r.memoizedState;i!==null&&(t=i.retryLane);break;case 19:n=r.stateNode;break;default:throw Error(Ve(314))}n!==null&&n.delete(e),hP(r,t)}var dP;dP=function(r,e,t){if(r!==null)if(r.memoizedProps!==e.pendingProps||Yi.current)Xi=!0;else{if(!(r.lanes&t)&&!(e.flags&128))return Xi=!1,$F(r,e,t);Xi=!!(r.flags&131072)}else Xi=!1,Tr&&e.flags&1048576&&gj(e,Ux,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Hv(r,e),r=e.pendingProps;var i=tm(e,mi.current);Rf(e,t),i=rN(null,e,n,r,i,t);var s=nN();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qi(n)?(s=!0,Ox(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,QS(e),i.updater=Hw,e.stateNode=i,i._reactInternals=e,bA(e,n,r,t),e=SA(null,e,n,!0,s,t)):(e.tag=0,Tr&&s&&WS(e),Ei(null,e,i,t),e=e.child),e;case 16:n=e.elementType;e:{switch(Hv(r,e),r=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=a7(n),r=xa(n,r),i){case 0:e=_A(null,e,n,r,t);break e;case 1:e=F6(null,e,n,r,t);break e;case 11:e=I6(null,e,n,r,t);break e;case 14:e=R6(null,e,n,xa(n.type,r),t);break e}throw Error(Ve(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:xa(n,i),_A(r,e,n,i,t);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:xa(n,i),F6(r,e,n,i,t);case 3:e:{if(Xj(e),r===null)throw Error(Ve(387));n=e.pendingProps,s=e.memoizedState,i=s.element,Aj(r,e),qx(e,n,null,t);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=sm(Error(Ve(423)),e),e=D6(r,e,n,t,i);break e}else if(n!==i){i=sm(Error(Ve(424)),e),e=D6(r,e,n,t,i);break e}else for(_s=Zc(e.stateNode.containerInfo.firstChild),Ns=e,Tr=!0,Fa=null,t=wj(e,null,n,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(rm(),n===i){e=Ul(r,e,t);break e}Ei(r,e,n,t)}e=e.child}return e;case 5:return _j(e),r===null&&vA(e),n=e.type,i=e.pendingProps,s=r!==null?r.memoizedProps:null,a=i.children,fA(n,i)?a=null:s!==null&&fA(n,s)&&(e.flags|=32),Kj(r,e),Ei(r,e,a,t),e.child;case 6:return r===null&&vA(e),null;case 13:return Yj(r,e,t);case 4:return JS(e,e.stateNode.containerInfo),n=e.pendingProps,r===null?e.child=nm(e,null,n,t):Ei(r,e,n,t),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:xa(n,i),I6(r,e,n,i,t);case 7:return Ei(r,e,e.pendingProps,t),e.child;case 8:return Ei(r,e,e.pendingProps.children,t),e.child;case 12:return Ei(r,e,e.pendingProps.children,t),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,vr(zx,n._currentValue),n._currentValue=a,s!==null)if(za(s.value,a)){if(s.children===i.children&&!Yi.current){e=Ul(r,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Il(-1,t&-t),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),xA(s.return,t,e),o.lanes|=t;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Ve(341));a.lanes|=t,o=a.alternate,o!==null&&(o.lanes|=t),xA(a,t,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Ei(r,e,i.children,t),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Rf(e,t),i=ra(i),n=n(i),e.flags|=1,Ei(r,e,n,t),e.child;case 14:return n=e.type,i=xa(n,e.pendingProps),i=xa(n.type,i),R6(r,e,n,i,t);case 15:return Gj(r,e,e.type,e.pendingProps,t);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:xa(n,i),Hv(r,e),e.tag=1,Qi(n)?(r=!0,Ox(e)):r=!1,Rf(e,t),qj(e,n,i),bA(e,n,i,t),SA(null,e,n,!0,r,t);case 19:return Qj(r,e,t);case 22:return Vj(r,e,t)}throw Error(Ve(156,e.tag))};function fP(r,e){return UT(r,e)}function s7(r,e,t,n){this.tag=r,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zs(r,e,t,n){return new s7(r,e,t,n)}function fN(r){return r=r.prototype,!(!r||!r.isReactComponent)}function a7(r){if(typeof r=="function")return fN(r)?1:0;if(r!=null){if(r=r.$$typeof,r===LS)return 11;if(r===IS)return 14}return 2}function nu(r,e){var t=r.alternate;return t===null?(t=Zs(r.tag,e,r.key,r.mode),t.elementType=r.elementType,t.type=r.type,t.stateNode=r.stateNode,t.alternate=r,r.alternate=t):(t.pendingProps=e,t.type=r.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=r.flags&14680064,t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,e=r.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=r.sibling,t.index=r.index,t.ref=r.ref,t}function $v(r,e,t,n,i,s){var a=2;if(n=r,typeof r=="function")fN(r)&&(a=1);else if(typeof r=="string")a=5;else e:switch(r){case mf:return rd(t.children,i,s,e);case PS:a=8,i|=8;break;case $5:return r=Zs(12,t,e,i|2),r.elementType=$5,r.lanes=s,r;case G5:return r=Zs(13,t,e,i),r.elementType=G5,r.lanes=s,r;case V5:return r=Zs(19,t,e,i),r.elementType=V5,r.lanes=s,r;case _T:return $w(t,i,s,e);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case bT:a=10;break e;case AT:a=9;break e;case LS:a=11;break e;case IS:a=14;break e;case hc:a=16,n=null;break e}throw Error(Ve(130,r==null?r:typeof r,""))}return e=Zs(a,t,e,i),e.elementType=r,e.type=n,e.lanes=s,e}function rd(r,e,t,n){return r=Zs(7,r,n,e),r.lanes=t,r}function $w(r,e,t,n){return r=Zs(22,r,n,e),r.elementType=_T,r.lanes=t,r.stateNode={isHidden:!1},r}function P2(r,e,t){return r=Zs(6,r,null,e),r.lanes=t,r}function L2(r,e,t){return e=Zs(4,r.children!==null?r.children:[],r.key,e),e.lanes=t,e.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},e}function o7(r,e,t,n,i){this.tag=e,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=d2(0),this.expirationTimes=d2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=d2(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function pN(r,e,t,n,i,s,a,o,l){return r=new o7(r,e,t,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Zs(3,null,null,e),r.current=s,s.stateNode=r,s.memoizedState={element:n,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},QS(s),r}function l7(r,e,t){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pf,key:n==null?null:""+n,children:r,containerInfo:e,implementation:t}}function pP(r){if(!r)return cu;r=r._reactInternals;e:{if(vd(r)!==r||r.tag!==1)throw Error(Ve(170));var e=r;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ve(171))}if(r.tag===1){var t=r.type;if(Qi(t))return pj(r,t,e)}return e}function mP(r,e,t,n,i,s,a,o,l){return r=pN(t,n,!0,r,i,s,a,o,l),r.context=pP(null),t=r.current,n=ki(),i=ru(t),s=Il(n,i),s.callback=e??null,eu(t,s,i),r.current.lanes=i,J1(r,i,n),Ji(r,n),r}function Gw(r,e,t,n){var i=e.current,s=ki(),a=ru(i);return t=pP(t),e.context===null?e.context=t:e.pendingContext=t,e=Il(s,a),e.payload={element:r},n=n===void 0?null:n,n!==null&&(e.callback=n),r=eu(i,e,a),r!==null&&(Ba(r,i,a,s),Bv(r,i,a)),a}function Qx(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function G6(r,e){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var t=r.retryLane;r.retryLane=t!==0&&t<e?t:e}}function mN(r,e){G6(r,e),(r=r.alternate)&&G6(r,e)}function c7(){return null}var gP=typeof reportError=="function"?reportError:function(r){console.error(r)};function gN(r){this._internalRoot=r}Vw.prototype.render=gN.prototype.render=function(r){var e=this._internalRoot;if(e===null)throw Error(Ve(409));Gw(r,e,null,null)};Vw.prototype.unmount=gN.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var e=r.containerInfo;ud(function(){Gw(null,r,null,null)}),e[Ol]=null}};function Vw(r){this._internalRoot=r}Vw.prototype.unstable_scheduleHydration=function(r){if(r){var e=VT();r={blockedOn:null,target:r,priority:e};for(var t=0;t<fc.length&&e!==0&&e<fc[t].priority;t++);fc.splice(t,0,r),t===0&&XT(r)}};function yN(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Kw(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function V6(){}function u7(r,e,t,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=Qx(a);s.call(u)}}var a=mP(e,n,r,0,null,!1,!1,"",V6);return r._reactRootContainer=a,r[Ol]=a.current,c0(r.nodeType===8?r.parentNode:r),ud(),a}for(;i=r.lastChild;)r.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Qx(l);o.call(u)}}var l=pN(r,0,!1,null,null,!1,!1,"",V6);return r._reactRootContainer=l,r[Ol]=l.current,c0(r.nodeType===8?r.parentNode:r),ud(function(){Gw(e,l,t,n)}),l}function Xw(r,e,t,n,i){var s=t._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Qx(a);o.call(l)}}Gw(e,a,r,i)}else a=u7(t,e,r,i,n);return Qx(a)}$T=function(r){switch(r.tag){case 3:var e=r.stateNode;if(e.current.memoizedState.isDehydrated){var t=_g(e.pendingLanes);t!==0&&(DS(e,t|1),Ji(e,Yr()),!(qt&6)&&(am=Yr()+500,vu()))}break;case 13:ud(function(){var n=Bl(r,1);if(n!==null){var i=ki();Ba(n,r,1,i)}}),mN(r,1)}};MS=function(r){if(r.tag===13){var e=Bl(r,134217728);if(e!==null){var t=ki();Ba(e,r,134217728,t)}mN(r,134217728)}};GT=function(r){if(r.tag===13){var e=ru(r),t=Bl(r,e);if(t!==null){var n=ki();Ba(t,r,e,n)}mN(r,e)}};VT=function(){return ir};KT=function(r,e){var t=ir;try{return ir=r,e()}finally{ir=t}};nA=function(r,e,t){switch(e){case"input":if(Y5(r,t),e=t.name,t.type==="radio"&&e!=null){for(t=r;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var n=t[e];if(n!==r&&n.form===r.form){var i=Bw(n);if(!i)throw Error(Ve(90));NT(n),Y5(n,i)}}}break;case"textarea":kT(r,t);break;case"select":e=t.value,e!=null&&jf(r,!!t.multiple,e,!1)}};RT=uN;FT=ud;var h7={usingClientEntryPoint:!1,Events:[ey,xf,Bw,LT,IT,uN]},ug={findFiberByHostInstance:Gu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},d7={bundleType:ug.bundleType,version:ug.version,rendererPackageName:ug.rendererPackageName,rendererConfig:ug.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ql.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=OT(r),r===null?null:r.stateNode},findFiberByHostInstance:ug.findFiberByHostInstance||c7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gv.isDisabled&&gv.supportsFiber)try{Fw=gv.inject(d7),Po=gv}catch{}}Ts.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=h7;Ts.createPortal=function(r,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yN(e))throw Error(Ve(200));return l7(r,e,null,t)};Ts.createRoot=function(r,e){if(!yN(r))throw Error(Ve(299));var t=!1,n="",i=gP;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=pN(r,1,!1,null,null,t,!1,n,i),r[Ol]=e.current,c0(r.nodeType===8?r.parentNode:r),new gN(e)};Ts.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var e=r._reactInternals;if(e===void 0)throw typeof r.render=="function"?Error(Ve(188)):(r=Object.keys(r).join(","),Error(Ve(268,r)));return r=OT(e),r=r===null?null:r.stateNode,r};Ts.flushSync=function(r){return ud(r)};Ts.hydrate=function(r,e,t){if(!Kw(e))throw Error(Ve(200));return Xw(null,r,e,!0,t)};Ts.hydrateRoot=function(r,e,t){if(!yN(r))throw Error(Ve(405));var n=t!=null&&t.hydratedSources||null,i=!1,s="",a=gP;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=mP(e,null,r,1,t??null,i,!1,s,a),r[Ol]=e.current,c0(r),n)for(r=0;r<n.length;r++)t=n[r],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new Vw(e)};Ts.render=function(r,e,t){if(!Kw(e))throw Error(Ve(200));return Xw(null,r,e,!1,t)};Ts.unmountComponentAtNode=function(r){if(!Kw(r))throw Error(Ve(40));return r._reactRootContainer?(ud(function(){Xw(null,null,r,!1,function(){r._reactRootContainer=null,r[Ol]=null})}),!0):!1};Ts.unstable_batchedUpdates=uN;Ts.unstable_renderSubtreeIntoContainer=function(r,e,t,n){if(!Kw(t))throw Error(Ve(200));if(r==null||r._reactInternals===void 0)throw Error(Ve(38));return Xw(r,e,t,!1,n)};Ts.version="18.3.1-next-f1338f8080-20240426";function yP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yP)}catch(r){console.error(r)}}yP(),yT.exports=Ts;var f7=yT.exports,vP,K6=f7;vP=K6.createRoot,K6.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function v0(){return v0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},v0.apply(this,arguments)}var Kc;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Kc||(Kc={}));const X6="popstate";function p7(r){r===void 0&&(r={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return DA("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(n,i){return typeof i=="string"?i:Jx(i)}return g7(e,t,null,r)}function en(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function xP(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function m7(){return Math.random().toString(36).substr(2,8)}function Y6(r,e){return{usr:r.state,key:r.key,idx:e}}function DA(r,e,t,n){return t===void 0&&(t=null),v0({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?ym(e):e,{state:t,key:e&&e.key||n||m7()})}function Jx(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ym(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function g7(r,e,t,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Kc.Pop,l=null,u=h();u==null&&(u=0,a.replaceState(v0({},a.state,{idx:u}),""));function h(){return(a.state||{idx:null}).idx}function f(){o=Kc.Pop;let b=h(),y=b==null?null:b-u;u=b,l&&l({action:o,location:v.location,delta:y})}function p(b,y){o=Kc.Push;let w=DA(v.location,b,y);u=h()+1;let A=Y6(w,u),k=v.createHref(w);try{a.pushState(A,"",k)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(k)}s&&l&&l({action:o,location:v.location,delta:1})}function d(b,y){o=Kc.Replace;let w=DA(v.location,b,y);u=h();let A=Y6(w,u),k=v.createHref(w);a.replaceState(A,"",k),s&&l&&l({action:o,location:v.location,delta:0})}function x(b){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof b=="string"?b:Jx(b);return w=w.replace(/ $/,"%20"),en(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let v={get action(){return o},get location(){return r(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(X6,f),l=b,()=>{i.removeEventListener(X6,f),l=null}},createHref(b){return e(i,b)},createURL:x,encodeLocation(b){let y=x(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:d,go(b){return a.go(b)}};return v}var Q6;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Q6||(Q6={}));function y7(r,e,t){return t===void 0&&(t="/"),v7(r,e,t,!1)}function v7(r,e,t,n){let i=typeof e=="string"?ym(e):e,s=vN(i.pathname||"/",t);if(s==null)return null;let a=wP(r);x7(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=j7(s);o=C7(a[l],u,n)}return o}function wP(r,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(en(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=iu([n,l.relativePath]),h=t.concat(l);s.children&&s.children.length>0&&(en(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),wP(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:E7(u,s.index),routesMeta:h})};return r.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of bP(s.path))i(s,a,l)}),e}function bP(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=bP(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>r.startsWith("/")&&l===""?"/":l)}function x7(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:k7(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const w7=/^:[\w-]+$/,b7=3,A7=2,_7=1,S7=10,N7=-2,J6=r=>r==="*";function E7(r,e){let t=r.split("/"),n=t.length;return t.some(J6)&&(n+=N7),e&&(n+=A7),t.filter(i=>!J6(i)).reduce((i,s)=>i+(w7.test(s)?b7:s===""?_7:S7),n)}function k7(r,e){return r.length===e.length&&r.slice(0,-1).every((n,i)=>n===e[i])?r[r.length-1]-e[e.length-1]:0}function C7(r,e,t){let{routesMeta:n}=r,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=Z6({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),p=l.route;if(!f&&u&&t&&!n[n.length-1].route.index&&(f=Z6({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:iu([s,f.pathname]),pathnameBase:R7(iu([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=iu([s,f.pathnameBase]))}return a}function Z6(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=T7(r.path,r.caseSensitive,r.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,h,f)=>{let{paramName:p,isOptional:d}=h;if(p==="*"){let v=o[f]||"";a=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const x=o[f];return d&&!x?u[p]=void 0:u[p]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:r}}function T7(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),xP(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],i="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),i+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":r!==""&&r!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function j7(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xP(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function vN(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function P7(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:i=""}=typeof r=="string"?ym(r):r;return{pathname:t?t.startsWith("/")?t:L7(t,e):e,search:F7(n),hash:D7(i)}}function L7(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function I2(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function I7(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function xN(r,e){let t=I7(r);return e?t.map((n,i)=>i===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function wN(r,e,t,n){n===void 0&&(n=!1);let i;typeof r=="string"?i=ym(r):(i=v0({},r),en(!i.pathname||!i.pathname.includes("?"),I2("?","pathname","search",i)),en(!i.pathname||!i.pathname.includes("#"),I2("#","pathname","hash",i)),en(!i.search||!i.search.includes("#"),I2("#","search","hash",i)));let s=r===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=t;else{let f=e.length-1;if(!n&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}o=f>=0?e[f]:"/"}let l=P7(i,o),u=a&&a!=="/"&&a.endsWith("/"),h=(s||a===".")&&t.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const iu=r=>r.join("/").replace(/\/\/+/g,"/"),R7=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),F7=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,D7=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function M7(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const AP=["post","put","patch","delete"];new Set(AP);const O7=["get",...AP];new Set(O7);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function x0(){return x0=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},x0.apply(this,arguments)}const bN=je.createContext(null),B7=je.createContext(null),xu=je.createContext(null),Yw=je.createContext(null),Wl=je.createContext({outlet:null,matches:[],isDataRoute:!1}),_P=je.createContext(null);function U7(r,e){let{relative:t}=e===void 0?{}:e;vm()||en(!1);let{basename:n,navigator:i}=je.useContext(xu),{hash:s,pathname:a,search:o}=NP(r,{relative:t}),l=a;return n!=="/"&&(l=a==="/"?n:iu([n,a])),i.createHref({pathname:l,search:o,hash:s})}function vm(){return je.useContext(Yw)!=null}function xm(){return vm()||en(!1),je.useContext(Yw).location}function SP(r){je.useContext(xu).static||je.useLayoutEffect(r)}function wm(){let{isDataRoute:r}=je.useContext(Wl);return r?eD():z7()}function z7(){vm()||en(!1);let r=je.useContext(bN),{basename:e,future:t,navigator:n}=je.useContext(xu),{matches:i}=je.useContext(Wl),{pathname:s}=xm(),a=JSON.stringify(xN(i,t.v7_relativeSplatPath)),o=je.useRef(!1);return SP(()=>{o.current=!0}),je.useCallback(function(u,h){if(h===void 0&&(h={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=wN(u,JSON.parse(a),s,h.relative==="path");r==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:iu([e,f.pathname])),(h.replace?n.replace:n.push)(f,h.state,h)},[e,n,a,s,r])}function H7(){let{matches:r}=je.useContext(Wl),e=r[r.length-1];return e?e.params:{}}function NP(r,e){let{relative:t}=e===void 0?{}:e,{future:n}=je.useContext(xu),{matches:i}=je.useContext(Wl),{pathname:s}=xm(),a=JSON.stringify(xN(i,n.v7_relativeSplatPath));return je.useMemo(()=>wN(r,JSON.parse(a),s,t==="path"),[r,a,s,t])}function q7(r,e){return W7(r,e)}function W7(r,e,t,n){vm()||en(!1);let{navigator:i}=je.useContext(xu),{matches:s}=je.useContext(Wl),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=xm(),h;if(e){var f;let b=typeof e=="string"?ym(e):e;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||en(!1),h=b}else h=u;let p=h.pathname||"/",d=p;if(l!=="/"){let b=l.replace(/^\//,"").split("/");d="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let x=y7(r,{pathname:d}),v=X7(x&&x.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:iu([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:iu([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,t,n);return e&&v?je.createElement(Yw.Provider,{value:{location:x0({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Kc.Pop}},v):v}function $7(){let r=Z7(),e=M7(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return je.createElement(je.Fragment,null,je.createElement("h2",null,"Unexpected Application Error!"),je.createElement("h3",{style:{fontStyle:"italic"}},e),t?je.createElement("pre",{style:i},t):null,null)}const G7=je.createElement($7,null);class V7 extends je.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?je.createElement(Wl.Provider,{value:this.props.routeContext},je.createElement(_P.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function K7(r){let{routeContext:e,match:t,children:n}=r,i=je.useContext(bN);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),je.createElement(Wl.Provider,{value:e},n)}function X7(r,e,t,n){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),r==null){var s;if(!t)return null;if(t.errors)r=t.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let a=r,o=(i=t)==null?void 0:i.errors;if(o!=null){let h=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);h>=0||en(!1),a=a.slice(0,Math.min(a.length,h+1))}let l=!1,u=-1;if(t&&n&&n.v7_partialHydration)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:p,errors:d}=t,x=f.route.loader&&p[f.route.id]===void 0&&(!d||d[f.route.id]===void 0);if(f.route.lazy||x){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,f,p)=>{let d,x=!1,v=null,b=null;t&&(d=o&&f.route.id?o[f.route.id]:void 0,v=f.route.errorElement||G7,l&&(u<0&&p===0?(x=!0,b=null):u===p&&(x=!0,b=f.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,p+1)),w=()=>{let A;return d?A=v:x?A=b:f.route.Component?A=je.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=h,je.createElement(K7,{match:f,routeContext:{outlet:h,matches:y,isDataRoute:t!=null},children:A})};return t&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?je.createElement(V7,{location:t.location,revalidation:t.revalidation,component:v,error:d,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var EP=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(EP||{}),Zx=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(Zx||{});function Y7(r){let e=je.useContext(bN);return e||en(!1),e}function Q7(r){let e=je.useContext(B7);return e||en(!1),e}function J7(r){let e=je.useContext(Wl);return e||en(!1),e}function kP(r){let e=J7(),t=e.matches[e.matches.length-1];return t.route.id||en(!1),t.route.id}function Z7(){var r;let e=je.useContext(_P),t=Q7(Zx.UseRouteError),n=kP(Zx.UseRouteError);return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function eD(){let{router:r}=Y7(EP.UseNavigateStable),e=kP(Zx.UseNavigateStable),t=je.useRef(!1);return SP(()=>{t.current=!0}),je.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?r.navigate(i):r.navigate(i,x0({fromRouteId:e},s)))},[r,e])}function tD(r,e){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function rD(r){let{to:e,replace:t,state:n,relative:i}=r;vm()||en(!1);let{future:s,static:a}=je.useContext(xu),{matches:o}=je.useContext(Wl),{pathname:l}=xm(),u=wm(),h=wN(e,xN(o,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(h);return je.useEffect(()=>u(JSON.parse(f),{replace:t,state:n,relative:i}),[u,f,i,t,n]),null}function zs(r){en(!1)}function nD(r){let{basename:e="/",children:t=null,location:n,navigationType:i=Kc.Pop,navigator:s,static:a=!1,future:o}=r;vm()&&en(!1);let l=e.replace(/^\/*/,"/"),u=je.useMemo(()=>({basename:l,navigator:s,static:a,future:x0({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=ym(n));let{pathname:h="/",search:f="",hash:p="",state:d=null,key:x="default"}=n,v=je.useMemo(()=>{let b=vN(h,l);return b==null?null:{location:{pathname:b,search:f,hash:p,state:d,key:x},navigationType:i}},[l,h,f,p,d,x,i]);return v==null?null:je.createElement(xu.Provider,{value:u},je.createElement(Yw.Provider,{children:t,value:v}))}function iD(r){let{children:e,location:t}=r;return q7(MA(e),t)}new Promise(()=>{});function MA(r,e){e===void 0&&(e=[]);let t=[];return je.Children.forEach(r,(n,i)=>{if(!je.isValidElement(n))return;let s=[...e,i];if(n.type===je.Fragment){t.push.apply(t,MA(n.props.children,s));return}n.type!==zs&&en(!1),!n.props.index||!n.props.children||en(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=MA(n.props.children,s)),t.push(a)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function OA(){return OA=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},OA.apply(this,arguments)}function sD(r,e){if(r==null)return{};var t={},n=Object.keys(r),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(t[i]=r[i]);return t}function aD(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function oD(r,e){return r.button===0&&(!e||e==="_self")&&!aD(r)}const lD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],cD="6";try{window.__reactRouterVersion=cD}catch{}const uD="startTransition",ek=r4[uD];function hD(r){let{basename:e,children:t,future:n,window:i}=r,s=je.useRef();s.current==null&&(s.current=p7({window:i,v5Compat:!0}));let a=s.current,[o,l]=je.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},h=je.useCallback(f=>{u&&ek?ek(()=>l(f)):l(f)},[l,u]);return je.useLayoutEffect(()=>a.listen(h),[a,h]),je.useEffect(()=>tD(n),[n]),je.createElement(nD,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,future:n})}const dD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ki=je.forwardRef(function(e,t){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:h,viewTransition:f}=e,p=sD(e,lD),{basename:d}=je.useContext(xu),x,v=!1;if(typeof u=="string"&&fD.test(u)&&(x=u,dD))try{let A=new URL(window.location.href),k=u.startsWith("//")?new URL(A.protocol+u):new URL(u),M=vN(k.pathname,d);k.origin===A.origin&&M!=null?u=M+k.search+k.hash:v=!0}catch{}let b=U7(u,{relative:i}),y=pD(u,{replace:a,state:o,target:l,preventScrollReset:h,relative:i,viewTransition:f});function w(A){n&&n(A),A.defaultPrevented||y(A)}return je.createElement("a",OA({},p,{href:x||b,onClick:v||s?n:w,ref:t,target:l}))});var tk;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(tk||(tk={}));var rk;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(rk||(rk={}));function pD(r,e){let{target:t,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=wm(),u=xm(),h=NP(r,{relative:a});return je.useCallback(f=>{if(oD(f,t)){f.preventDefault();let p=n!==void 0?n:Jx(u)===Jx(h);l(r,{replace:p,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,h,n,i,t,r,s,a,o])}const CP=je.createContext(void 0),bm=()=>{const r=je.useContext(CP);if(!r)throw new Error("useAuth must be used within an AuthProvider");return r},mD=({children:r})=>{const[e,t]=je.useState(null),[n,i]=je.useState(!0),s=()=>{var x,v,b,y;try{const w=localStorage.getItem("smartrfp_user");if(w){const A=JSON.parse(w);return A.companyProfile||(A.companyProfile=o(A)),A.companyProfile={...o(A),...A.companyProfile,address:{...o(A).address,...((x=A.companyProfile)==null?void 0:x.address)||{}},contact:{...o(A).contact,...((v=A.companyProfile)==null?void 0:v.contact)||{}},business:{...o(A).business,...((b=A.companyProfile)==null?void 0:b.business)||{}},social:{...o(A).social,...((y=A.companyProfile)==null?void 0:y.social)||{}}},A}}catch(w){console.error("Error parsing saved user data:",w),localStorage.removeItem("smartrfp_user")}return null},a=x=>{try{localStorage.setItem("smartrfp_user",JSON.stringify(x)),console.log("User data saved to localStorage:",x)}catch(v){console.error("Error saving user data to localStorage:",v)}},o=x=>({name:x.company||"",logo:"",address:{street:"",city:"",state:"",zipCode:"",country:"India"},contact:{phone:x.phone||"",email:x.email||"",website:x.website||"",fax:""},business:{industry:"Software Development",founded:"",employees:"",registration:"",taxId:""},social:{linkedin:"",twitter:"",facebook:""}}),l=()=>{const x=s();x&&(t(x),console.log("User data refreshed from localStorage"))};je.useEffect(()=>{const x=s();x&&t(x),i(!1)},[]);const u=async(x,v)=>{i(!0);try{await new Promise(w=>setTimeout(w,1e3));const b=s();if(b&&b.email===x)return t(b),console.log("Logged in with existing user data"),!0;const y={id:"1",email:x,name:"John Doe",company:"TechCorp Solutions",role:"Business Development Manager",avatar:"https://images.pexels.com/photos/614810/pexels-photo-614810.jpeg?auto=compress&cs=tinysrgb&w=400",phone:"+91 98765 43210",location:"Bangalore, India",website:"https://techcorp.com",bio:"Experienced business development professional with 8+ years in software industry.",companyProfile:{name:"TechCorp Solutions",logo:"https://images.pexels.com/photos/3184291/pexels-photo-3184291.jpeg?auto=compress&cs=tinysrgb&w=200",address:{street:"123 Tech Park, Electronic City",city:"Bangalore",state:"Karnataka",zipCode:"560100",country:"India"},contact:{phone:"+91 80 4567 8900",email:"info@techcorp.com",website:"https://techcorp.com",fax:"+91 80 4567 8901"},business:{industry:"Software Development",founded:"2016",employees:"50-100",registration:"U72900KA2016PTC089123",taxId:"AABCT1234C1Z5"},social:{linkedin:"https://linkedin.com/company/techcorp-solutions",twitter:"https://twitter.com/techcorp",facebook:"https://facebook.com/techcorp"}}};return t(y),a(y),!0}catch(b){return console.error("Login error:",b),!1}finally{i(!1)}},h=async x=>{i(!0);try{await new Promise(b=>setTimeout(b,1e3));const v={id:Date.now().toString(),email:x.email,name:x.name,company:x.company,role:x.role,avatar:"https://images.pexels.com/photos/614810/pexels-photo-614810.jpeg?auto=compress&cs=tinysrgb&w=400",phone:"",location:"",website:"",bio:"",companyProfile:o(x)};return t(v),a(v),!0}catch(v){return console.error("Registration error:",v),!1}finally{i(!1)}},f=x=>{if(e){const v={...e,...x,companyProfile:x.companyProfile||e.companyProfile};t(v),a(v),console.log("User updated:",v),setTimeout(()=>{const b=s();b&&t({...b})},100)}},p=x=>{if(e&&e.companyProfile){const v={...e.companyProfile,...x,address:{...e.companyProfile.address,...x.address||{}},contact:{...e.companyProfile.contact,...x.contact||{}},business:{...e.companyProfile.business,...x.business||{}},social:{...e.companyProfile.social,...x.social||{}}},b={...e,companyProfile:v};t(b),a(b),console.log("Company profile updated:",v),setTimeout(()=>{const y=s();y&&t({...y})},100)}},d=()=>{t(null),localStorage.removeItem("smartrfp_user"),console.log("User logged out and data cleared")};return c.jsx(CP.Provider,{value:{user:e,login:u,register:h,logout:d,updateUser:f,updateCompanyProfile:p,refreshUser:l,isLoading:n},children:r})},TP=je.createContext(void 0),wu=()=>{const r=je.useContext(TP);if(!r)throw new Error("useApp must be used within an AppProvider");return r},Zd={PROPOSALS:"smartrfp_proposals",TEMPLATES:"smartrfp_templates",KNOWLEDGE_BASES:"smartrfp_knowledge_bases"},gD=({children:r})=>{const[e,t]=je.useState([]),[n,i]=je.useState([]),[s,a]=je.useState([]),o=(D,se)=>{try{localStorage.setItem(D,JSON.stringify(se)),console.log(`Data saved to ${D}:`,se)}catch(z){console.error(`Error saving to ${D}:`,z)}},l=(D,se=[])=>{try{const z=localStorage.getItem(D);if(z){const R=JSON.parse(z);return console.log(`Data loaded from ${D}:`,R),R}}catch(z){console.error(`Error loading from ${D}:`,z)}return se};je.useEffect(()=>{console.log("Initializing AppContext data from localStorage...");const D=l(Zd.PROPOSALS,[]);D.length>0&&(t(D),console.log(`Loaded ${D.length} proposals from storage`));const se=l(Zd.TEMPLATES,yD());i(se),console.log(`Loaded ${se.length} templates from storage`);const z=l(Zd.KNOWLEDGE_BASES,vD());a(z),console.log(`Loaded ${z.length} knowledge bases from storage`)},[]),je.useEffect(()=>{e.length>0&&o(Zd.PROPOSALS,e)},[e]),je.useEffect(()=>{n.length>0&&o(Zd.TEMPLATES,n)},[n]),je.useEffect(()=>{s.length>0&&o(Zd.KNOWLEDGE_BASES,s)},[s]);const u=D=>{const se=new Date().toISOString(),z={...D,id:Date.now().toString(),createdAt:se,updatedAt:se};return console.log("Adding new proposal:",z),t(R=>{const V=[...R,z];return console.log("Updated proposals list:",V),V}),z.id},h=(D,se)=>{console.log(`Updating proposal ${D}:`,se),t(z=>{const R=z.map(V=>V.id===D?{...V,...se,updatedAt:new Date().toISOString()}:V);return console.log("Updated proposals after update:",R),R})},f=D=>{console.log(`Deleting proposal ${D}`),t(se=>{const z=se.filter(R=>R.id!==D);return console.log("Updated proposals after delete:",z),z})},p=D=>{const se=e.find(z=>z.id===D);return console.log(`Getting proposal ${D}:`,se),se},d=D=>{const se={...D,id:Date.now().toString()};console.log("Adding new template:",se),i(z=>[...z,se])},x=(D,se)=>{console.log(`Updating template ${D}:`,se),i(z=>z.map(R=>R.id===D?{...R,...se}:R))},v=D=>{console.log(`Deleting template ${D}`),i(se=>se.filter(z=>z.id!==D))},b=D=>{const se={...D,id:Date.now().toString()};console.log("Adding new knowledge base:",se),a(z=>[...z,se])},y=(D,se)=>{console.log(`Updating knowledge base ${D}:`,se),a(z=>z.map(R=>R.id===D?{...R,...se}:R))},w=D=>{console.log(`Deleting knowledge base ${D}`),a(se=>se.filter(z=>z.id!==D))},A=(D,se)=>{const z={...se,id:Date.now().toString(),usageCount:0};console.log(`Adding item to knowledge base ${D}:`,z),a(R=>R.map(V=>V.id===D?{...V,items:[...V.items,z]}:V))},k=(D,se,z)=>{console.log(`Updating item ${se} in knowledge base ${D}:`,z),a(R=>R.map(V=>V.id===D?{...V,items:V.items.map(T=>T.id===se?{...T,...z}:T)}:V))},M=(D,se)=>{console.log(`Deleting item ${se} from knowledge base ${D}`),a(z=>z.map(R=>R.id===D?{...R,items:R.items.filter(V=>V.id!==se)}:R))},$=D=>{const se=D.toLowerCase(),z=[];return s.forEach(R=>{R.items.forEach(V=>{if(V.isActive){const T=V.title.toLowerCase().includes(se),K=V.content.toLowerCase().includes(se),he=V.tags.some(le=>le.toLowerCase().includes(se));(T||K||he)&&z.push({...V,usageCount:V.usageCount+1,lastUsed:new Date().toLocaleDateString()})}})}),z.sort((R,V)=>V.usageCount-R.usageCount)},H=(D,se)=>{console.log(`Updating financial breakdown for proposal ${D}:`,se),h(D,{financialBreakdown:se})},q=(D,se)=>{const z=p(D);if(z!=null&&z.financialBreakdown){const R={...z.financialBreakdown,isApproved:!0,approvedBy:se,approvedAt:new Date().toISOString()};console.log(`Approving financial breakdown for proposal ${D} by ${se}`),h(D,{financialBreakdown:R})}};return c.jsx(TP.Provider,{value:{proposals:e,templates:n,knowledgeBases:s,addProposal:u,updateProposal:h,deleteProposal:f,getProposal:p,addTemplate:d,updateTemplate:x,deleteTemplate:v,addKnowledgeBase:b,updateKnowledgeBase:y,deleteKnowledgeBase:w,addKnowledgeBaseItem:A,updateKnowledgeBaseItem:k,deleteKnowledgeBaseItem:M,searchKnowledgeBase:$,updateFinancialBreakdown:H,approveFinancialBreakdown:q},children:r})};function yD(){return[{id:"template-1",name:"Web Development Standard",category:"Web Development",description:"Standard template for web development projects",content:`# Web Development Proposal

## Executive Summary
We propose to develop a modern, responsive web application that meets your business requirements and delivers exceptional user experience.

## Technical Approach
- Frontend: React.js with TypeScript
- Backend: Node.js with Express
- Database: PostgreSQL
- Cloud: AWS deployment

## Timeline
- Phase 1: Planning & Design (2 weeks)
- Phase 2: Development (8 weeks)
- Phase 3: Testing & Deployment (2 weeks)

## Investment
Total Project Cost: ₹15-25 Lakhs`,isDefault:!0},{id:"template-2",name:"Mobile App Development",category:"Mobile Development",description:"Template for mobile application development",content:`# Mobile Application Development

## Executive Summary
We will develop a cross-platform mobile application that provides seamless user experience across iOS and Android devices.

## Technical Specifications
- Framework: React Native / Flutter
- Backend: Node.js API
- Database: MongoDB
- Push Notifications: Firebase

## Deliverables
- Native iOS and Android applications
- Admin dashboard
- API documentation
- App store deployment

## Investment
Total Project Cost: ₹20-35 Lakhs`,isDefault:!0}]}function vD(){return[{id:"kb-1",name:"Company Knowledge Base",description:"Main knowledge base containing company information and capabilities",isDefault:!0,items:[{id:"kb-item-1",title:"Company Overview",category:"Company Information",type:"company-info",content:`TechCorp Solutions is a leading software development company based in Bangalore, India. Founded in 2016, we specialize in creating innovative digital solutions for businesses across various industries.

Our core competencies include:
- Web Application Development
- Mobile App Development
- Cloud Solutions & Migration
- E-commerce Platforms
- Enterprise Software Development
- UI/UX Design
- Digital Transformation Consulting

We have successfully delivered 200+ projects for clients ranging from startups to Fortune 500 companies. Our team of 50+ experienced professionals follows agile methodologies and industry best practices to ensure timely delivery and exceptional quality.

Key achievements:
- 95% client satisfaction rate
- 40% average improvement in client business metrics
- ISO 27001 certified for information security
- 24/7 support and maintenance services`,tags:["company","overview","capabilities","experience"],isActive:!0,usageCount:0},{id:"kb-item-2",title:"E-commerce Platform Case Study",category:"Case Studies",type:"case-study",content:`Project: Multi-vendor E-commerce Platform
Client: RetailMax India
Duration: 6 months
Team Size: 8 developers

Challenge:
RetailMax needed a scalable e-commerce platform to support multiple vendors, handle high traffic, and provide seamless user experience across web and mobile.

Solution:
- Developed using React.js frontend and Node.js backend
- Implemented microservices architecture for scalability
- Integrated payment gateways (Razorpay, PayU, Stripe)
- Built vendor management system
- Implemented real-time inventory management
- Added AI-powered product recommendations

Results:
- 300% increase in online sales within 6 months
- 50% reduction in page load times
- 99.9% uptime achieved
- Successfully handling 10,000+ concurrent users
- 25% increase in customer retention

Technologies Used: React.js, Node.js, MongoDB, Redis, AWS, Docker, Kubernetes`,tags:["e-commerce","case-study","retail","scalability"],isActive:!0,usageCount:0},{id:"kb-item-3",title:"Technical Capabilities",category:"Technical Specifications",type:"technical-spec",content:`Frontend Technologies:
- React.js, Angular, Vue.js
- TypeScript, JavaScript (ES6+)
- HTML5, CSS3, SASS/SCSS
- Responsive design and PWA development
- State management (Redux, MobX, Vuex)

Backend Technologies:
- Node.js, Python (Django, Flask)
- Java (Spring Boot), .NET Core
- RESTful APIs and GraphQL
- Microservices architecture
- Serverless computing (AWS Lambda)

Databases:
- PostgreSQL, MySQL, MongoDB
- Redis for caching
- Elasticsearch for search
- Data warehousing solutions

Cloud & DevOps:
- AWS, Azure, Google Cloud Platform
- Docker containerization
- Kubernetes orchestration
- CI/CD pipelines (Jenkins, GitLab CI)
- Infrastructure as Code (Terraform)

Security:
- OAuth 2.0, JWT authentication
- SSL/TLS encryption
- OWASP security standards
- Regular security audits
- GDPR compliance implementation`,tags:["technical","capabilities","technology","stack"],isActive:!0,usageCount:0}]}]}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),tt=(r,e)=>{const t=je.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...u},h)=>je.createElement("svg",{ref:h,...xD,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${wD(r)}`,o].join(" "),...u},[...e.map(([f,p])=>je.createElement(f,p)),...Array.isArray(l)?l:[l]]));return t.displayName=`${r}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=tt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=tt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=tt("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=tt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=tt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=tt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=tt("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=tt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=tt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=tt("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=tt("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=tt("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=tt("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=tt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=tt("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=tt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=tt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dt=tt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=tt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yg=tt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=tt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=tt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=tt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=tt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=tt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=tt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jP=tt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nd=tt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=tt("FileSearch",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"1vg67v"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["circle",{cx:"5",cy:"14",r:"3",key:"ufru5t"}],["path",{d:"m9 18-1.5-1.5",key:"1j6qii"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=tt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=tt("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=tt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=tt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=tt("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=tt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=tt("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=tt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=tt("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=tt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=tt("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=tt("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=tt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=tt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AN=tt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=tt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=tt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=tt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=tt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=tt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=tt("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=tt("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=tt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=tt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=tt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=tt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _N=tt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=tt("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SN=tt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=tt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=tt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=tt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NN=tt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=tt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=tt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=tt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=tt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=tt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=tt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=tt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=tt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),XD=()=>{const r=[{icon:Ua,title:"AI-Powered Generation",description:"Advanced AI analyzes RFPs and generates compelling, tailored proposals in minutes"},{icon:hd,title:"Smart Matching",description:"Intelligent algorithms match your expertise with RFP requirements for higher win rates"},{icon:ny,title:"Lightning Fast",description:"Reduce proposal creation time by 90% while maintaining quality and customization"},{icon:dd,title:"Team Collaboration",description:"Real-time collaboration tools for seamless teamwork on complex proposals"},{icon:Am,title:"Success Analytics",description:"Track performance metrics and optimize your proposal strategy with data insights"},{icon:lm,title:"Enterprise Security",description:"Bank-grade security ensures your confidential business data stays protected"}],e=[{name:"Rajesh Kumar",company:"TechInnovate Solutions",role:"Business Development Director",content:"SmartRFP AI transformed our proposal process. We've increased our win rate by 40% and reduced preparation time from weeks to days.",rating:5},{name:"Priya Sharma",company:"Digital Dynamics",role:"Founder & CEO",content:"The AI-generated proposals are incredibly accurate and professional. Our team can now focus on relationship building instead of document creation.",rating:5},{name:"Arjun Patel",company:"CloudScale Systems",role:"Sales Manager",content:"From startup to enterprise clients, SmartRFP AI adapts perfectly to any requirement. Best investment we've made for our sales process.",rating:5}],t=[{value:"90%",label:"Time Saved"},{value:"40%",label:"Higher Win Rate"},{value:"500+",label:"Companies Trust Us"},{value:"10k+",label:"Proposals Generated"}];return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:[c.jsx("header",{className:"bg-white/80 backdrop-blur-md shadow-sm border-b border-gray-200/50 sticky top-0 z-50",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"p-2 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-lg",children:c.jsx(Ua,{className:"h-6 w-6 text-white"})}),c.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent",children:"SmartRFP AI"})]}),c.jsx(Ki,{to:"/auth",className:"bg-gradient-to-r from-primary-500 to-secondary-500 text-white px-6 py-2 rounded-lg font-medium hover:from-primary-600 hover:to-secondary-600 transition-all duration-200 shadow-sm hover:shadow-md",children:"Get Started"})]})})}),c.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto text-center",children:[c.jsxs("div",{className:"inline-flex items-center space-x-2 bg-gradient-to-r from-primary-100 to-secondary-100 px-4 py-2 rounded-full text-sm font-medium text-primary-700 mb-8 animate-fade-in",children:[c.jsx(LP,{className:"h-4 w-4"}),c.jsx("span",{children:"Trusted by 500+ Software Development Companies"})]}),c.jsxs("h1",{className:"text-5xl sm:text-6xl lg:text-7xl font-bold text-gray-900 mb-6 animate-slide-up",children:["Generate"," ",c.jsx("span",{className:"bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent",children:"Winning Proposals"})," ","with AI"]}),c.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed animate-slide-up",children:"Transform your RFP response process with AI-powered proposal generation. Create compelling, customized proposals in minutes, not weeks."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center mb-12 animate-slide-up",children:[c.jsxs(Ki,{to:"/auth",className:"bg-gradient-to-r from-primary-500 to-secondary-500 text-white px-8 py-4 rounded-lg text-lg font-semibold hover:from-primary-600 hover:to-secondary-600 transition-all duration-200 shadow-lg hover:shadow-xl flex items-center space-x-2",children:[c.jsx("span",{children:"Start Free Trial"}),c.jsx(BA,{className:"h-5 w-5"})]}),c.jsx("button",{className:"text-primary-600 px-8 py-4 rounded-lg text-lg font-semibold hover:bg-primary-50 transition-colors duration-200 flex items-center space-x-2",children:c.jsx("span",{children:"Watch Demo"})})]}),c.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 max-w-4xl mx-auto animate-fade-in",children:t.map((n,i)=>c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-3xl font-bold text-primary-600 mb-2",children:n.value}),c.jsx("div",{className:"text-gray-600",children:n.label})]},i))})]})}),c.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-white/50",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsxs("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:["Powerful Features for"," ",c.jsx("span",{className:"bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent",children:"Modern Teams"})]}),c.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"Everything you need to create winning proposals and grow your software development business"})]}),c.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:r.map((n,i)=>{const s=n.icon;return c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-8 rounded-xl shadow-sm hover:shadow-lg transition-all duration-300 border border-gray-200/50 hover:border-primary-200",children:[c.jsx("div",{className:"p-3 bg-gradient-to-r from-primary-100 to-secondary-100 rounded-lg w-fit mb-4",children:c.jsx(s,{className:"h-6 w-6 text-primary-600"})}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-3",children:n.title}),c.jsx("p",{className:"text-gray-600 leading-relaxed",children:n.description})]},i)})})]})}),c.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"max-w-7xl mx-auto",children:[c.jsxs("div",{className:"text-center mb-16",children:[c.jsxs("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:["Trusted by"," ",c.jsx("span",{className:"bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent",children:"Industry Leaders"})]}),c.jsx("p",{className:"text-xl text-gray-600",children:"See what our customers say about SmartRFP AI"})]}),c.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:e.map((n,i)=>c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm p-8 rounded-xl shadow-sm border border-gray-200/50",children:[c.jsx("div",{className:"flex items-center mb-4",children:[...Array(n.rating)].map((s,a)=>c.jsx(NN,{className:"h-5 w-5 text-yellow-400 fill-current"},a))}),c.jsxs("p",{className:"text-gray-700 mb-6 leading-relaxed",children:['"',n.content,'"']}),c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold text-gray-900",children:n.name}),c.jsx("div",{className:"text-sm text-gray-600",children:n.role}),c.jsx("div",{className:"text-sm text-primary-600",children:n.company})]})]},i))})]})}),c.jsx("section",{className:"py-20 px-4 sm:px-6 lg:px-8 bg-gradient-to-r from-primary-500 to-secondary-500",children:c.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[c.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-6",children:[c.jsx(PP,{className:"h-8 w-8 text-white/80"}),c.jsx("span",{className:"text-white/80 text-lg",children:"Start in India, Scale Globally"})]}),c.jsx("h2",{className:"text-4xl font-bold text-white mb-6",children:"Ready to Transform Your Proposal Process?"}),c.jsx("p",{className:"text-xl text-white/90 mb-8",children:"Join hundreds of software development companies already winning more business with SmartRFP AI"}),c.jsxs(Ki,{to:"/auth",className:"bg-white text-primary-600 px-8 py-4 rounded-lg text-lg font-semibold hover:bg-gray-50 transition-colors duration-200 inline-flex items-center space-x-2 shadow-lg",children:[c.jsx("span",{children:"Start Your Free Trial"}),c.jsx(BA,{className:"h-5 w-5"})]}),c.jsxs("div",{className:"mt-6 text-white/80",children:[c.jsx(Dt,{className:"h-5 w-5 inline mr-2"}),"No credit card required • 14-day free trial • Cancel anytime"]})]})}),c.jsx("footer",{className:"bg-gray-900 text-white py-12 px-4 sm:px-6 lg:px-8",children:c.jsx("div",{className:"max-w-7xl mx-auto",children:c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[c.jsx("div",{className:"p-2 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-lg",children:c.jsx(Ua,{className:"h-6 w-6 text-white"})}),c.jsx("span",{className:"text-xl font-bold",children:"SmartRFP AI"})]}),c.jsx("p",{className:"text-gray-400 mb-8",children:"Empowering software development teams to win more business with AI-powered proposals"}),c.jsx("div",{className:"text-sm text-gray-500",children:"© 2024 SmartRFP AI. All rights reserved. • Made in India for the World 🇮🇳"})]})})})]})},YD=()=>{const{proposals:r}=wu(),e=[{label:"Total Proposals",value:r.length,change:"+12%",trend:"up",icon:Cs,color:"blue"},{label:"Win Rate",value:"68%",change:"+8%",trend:"up",icon:hd,color:"green"},{label:"Active RFPs",value:r.filter(s=>s.status==="in-review"||s.status==="submitted").length,change:"+3",trend:"up",icon:ry,color:"orange"},{label:"Total Value",value:`₹${(r.reduce((s,a)=>s+(a.value||0),0)/1e5).toFixed(1)}L`,change:"+15%",trend:"up",icon:om,color:"purple"}],t=r.slice(0,5),n=s=>({draft:"bg-gray-100 text-gray-700","in-review":"bg-blue-100 text-blue-700",submitted:"bg-yellow-100 text-yellow-700",won:"bg-green-100 text-green-700",lost:"bg-red-100 text-red-700"})[s]||"bg-gray-100 text-gray-700",i=[{title:"Create New Proposal",description:"Start with AI-powered proposal generation",icon:Rl,color:"bg-gradient-to-r from-primary-500 to-secondary-500",href:"/create"},{title:"Browse Templates",description:"Use proven proposal templates",icon:Cs,color:"bg-gradient-to-r from-accent-500 to-green-500",href:"/templates"},{title:"View Analytics",description:"Track your proposal performance",icon:Am,color:"bg-gradient-to-r from-orange-500 to-red-500",href:"/analytics"}];return c.jsx("div",{className:"min-h-screen pt-16 pb-12",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Dashboard"}),c.jsx("p",{className:"text-gray-600",children:"Welcome back! Here's what's happening with your proposals."})]}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:e.map((s,a)=>{const o=s.icon;return c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 shadow-sm border border-gray-200/50",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:`p-2 rounded-lg bg-${s.color}-100`,children:c.jsx(o,{className:`h-5 w-5 text-${s.color}-600`})}),c.jsx("span",{className:`text-sm font-medium ${s.trend==="up"?"text-green-600":"text-red-600"}`,children:s.change})]}),c.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:s.value}),c.jsx("div",{className:"text-sm text-gray-500",children:s.label})]},a)})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsx("div",{className:"lg:col-span-2",children:c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Recent Proposals"}),c.jsxs(Ki,{to:"/create",className:"text-primary-600 hover:text-primary-700 text-sm font-medium flex items-center space-x-1",children:[c.jsx("span",{children:"View All"}),c.jsx(Yg,{className:"h-4 w-4"})]})]}),c.jsx("div",{className:"space-y-4",children:t.map(s=>c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50/50 rounded-lg hover:bg-gray-100/50 transition-colors",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:s.title}),c.jsx("p",{className:"text-sm text-gray-600 mb-2",children:s.client}),c.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Jw,{className:"h-3 w-3"}),c.jsxs("span",{children:["Updated ",s.updatedAt]})]}),s.value&&c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(om,{className:"h-3 w-3"}),c.jsxs("span",{children:["₹",(s.value/1e5).toFixed(1),"L"]})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${n(s.status)}`,children:s.status}),c.jsx(Ki,{to:`/proposal/${s.id}`,className:"text-primary-600 hover:text-primary-700",children:c.jsx(Yg,{className:"h-5 w-5"})})]})]},s.id))})]})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Quick Actions"}),c.jsx("div",{className:"space-y-3",children:i.map((s,a)=>{const o=s.icon;return c.jsxs(Ki,{to:s.href,className:"flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-50 transition-colors group",children:[c.jsx("div",{className:`p-2 rounded-lg ${s.color} text-white group-hover:scale-105 transition-transform`,children:c.jsx(o,{className:"h-4 w-4"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium text-gray-900 text-sm",children:s.title}),c.jsx("div",{className:"text-xs text-gray-500",children:s.description})]}),c.jsx(Yg,{className:"h-4 w-4 text-gray-400 group-hover:text-gray-600"})]},a)})})]}),c.jsxs("div",{className:"bg-gradient-to-br from-primary-50 to-secondary-50 rounded-lg p-6 border border-primary-200/50",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:c.jsx(EN,{className:"h-5 w-5 text-primary-600"})}),c.jsx("h3",{className:"font-semibold text-gray-900",children:"Performance Insights"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"This Month"}),c.jsx("span",{className:"font-semibold text-green-600",children:"+25% Win Rate"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Avg. Response Time"}),c.jsx("span",{className:"font-semibold text-blue-600",children:"2.3 days"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Top Category"}),c.jsx("span",{className:"font-semibold text-purple-600",children:"Web Development"})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-accent-50 to-green-50 rounded-lg p-6 border border-accent-200/50",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[c.jsx("div",{className:"p-2 bg-accent-100 rounded-lg",children:c.jsx(ny,{className:"h-5 w-5 text-accent-600"})}),c.jsx("h3",{className:"font-semibold text-gray-900",children:"AI Tip"})]}),c.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"Include specific technical details and past project examples to increase your proposal's credibility by up to 40%."}),c.jsx(Ki,{to:"/templates",className:"text-accent-600 hover:text-accent-700 text-sm font-medium",children:"Browse winning templates →"})]})]})]})]})})};var lk=["buffer","Buffer"],Jg={};Jg.d=(r,e)=>{for(var t in e)Jg.o(e,t)&&!Jg.o(r,t)&&Object.defineProperty(r,t,{enumerable:!0,get:e[t]})};Jg.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e);var At=globalThis.pdfjsLib={};Jg.d(At,{AbortException:()=>uu,AnnotationEditorLayer:()=>Q_,AnnotationEditorParamsType:()=>Bt,AnnotationEditorType:()=>jt,AnnotationEditorUIManager:()=>pd,AnnotationLayer:()=>$O,AnnotationMode:()=>mc,ColorPicker:()=>ow,DOMSVGFactory:()=>FN,DrawLayer:()=>eS,FeatureTest:()=>Ci,GlobalWorkerOptions:()=>Tl,ImageKind:()=>Gv,InvalidPDFException:()=>WA,MissingPDFException:()=>b0,OPS:()=>wa,OutputScale:()=>GA,PDFDataRangeTransport:()=>FL,PDFDateString:()=>PN,PDFWorker:()=>Bf,PasswordResponses:()=>eM,PermissionFlag:()=>ZD,PixelsPerInch:()=>hu,RenderingCancelledException:()=>TN,TextLayer:()=>A0,TouchManager:()=>sw,UnexpectedResponseException:()=>rw,Util:()=>ut,VerbosityLevel:()=>Zw,XfaLayer:()=>ML,build:()=>NO,createValidAbsoluteUrl:()=>iM,fetchData:()=>nb,getDocument:()=>gO,getFilenameFromUrl:()=>fM,getPdfFilenameFromUrl:()=>pM,getXfaPageViewport:()=>mM,isDataScheme:()=>ib,isPdfFile:()=>jN,noContextMenu:()=>Ha,normalizeUnicode:()=>uM,setLayerDimensions:()=>fd,shadow:()=>Ft,stopEvent:()=>As,version:()=>SO});const hi=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),RP=[1,0,0,1,0,0],qA=[.001,0,0,.001,0,0],QD=1e7,R2=1.35,xs={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},mc={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},JD="pdfjs_internal_editor_",jt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Bt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35,DRAW_STEP:41},ZD={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ti={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},Gv={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},mn={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},hg={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Zw={ERRORS:0,WARNINGS:1,INFOS:5},wa={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},eM={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let eb=Zw.WARNINGS;function tM(r){Number.isInteger(r)&&(eb=r)}function rM(){return eb}function tb(r){eb>=Zw.INFOS&&console.log(`Info: ${r}`)}function Pt(r){eb>=Zw.WARNINGS&&console.log(`Warning: ${r}`)}function fr(r){throw new Error(r)}function hn(r,e){r||fr(e)}function nM(r){switch(r==null?void 0:r.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function iM(r,e=null,t=null){if(!r)return null;try{if(t&&typeof r=="string"){if(t.addDefaultProtocol&&r.startsWith("www.")){const i=r.match(/\./g);(i==null?void 0:i.length)>=2&&(r=`http://${r}`)}if(t.tryConvertEncoding)try{r=cM(r)}catch{}}const n=e?new URL(r,e):new URL(r);if(nM(n))return n}catch{}return null}function Ft(r,e,t,n=!1){return Object.defineProperty(r,e,{value:t,enumerable:!n,configurable:!0,writable:!1}),t}const bu=function(){function e(t,n){this.message=t,this.name=n}return e.prototype=new Error,e.constructor=e,e}();class ck extends bu{constructor(e,t){super(e,"PasswordException"),this.code=t}}class F2 extends bu{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class WA extends bu{constructor(e){super(e,"InvalidPDFException")}}class b0 extends bu{constructor(e){super(e,"MissingPDFException")}}class rw extends bu{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class sM extends bu{constructor(e){super(e,"FormatError")}}class uu extends bu{constructor(e){super(e,"AbortException")}}function FP(r){(typeof r!="object"||(r==null?void 0:r.length)===void 0)&&fr("Invalid argument for bytesToString");const e=r.length,t=8192;if(e<t)return String.fromCharCode.apply(null,r);const n=[];for(let i=0;i<e;i+=t){const s=Math.min(i+t,e),a=r.subarray(i,s);n.push(String.fromCharCode.apply(null,a))}return n.join("")}function rb(r){typeof r!="string"&&fr("Invalid argument for stringToBytes");const e=r.length,t=new Uint8Array(e);for(let n=0;n<e;++n)t[n]=r.charCodeAt(n)&255;return t}function aM(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function kN(r){const e=Object.create(null);for(const[t,n]of r)e[t]=n;return e}function oM(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function lM(){try{return new Function(""),!0}catch{return!1}}class Ci{static get isLittleEndian(){return Ft(this,"isLittleEndian",oM())}static get isEvalSupported(){return Ft(this,"isEvalSupported",lM())}static get isOffscreenCanvasSupported(){return Ft(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return Ft(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Ft(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:typeof(navigator==null?void 0:navigator.userAgent)=="string"&&navigator.userAgent.includes("Firefox")}):Ft(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return Ft(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const D2=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));var Fl,Vv,$A;class ut{static makeHexColor(e,t,n){return`#${D2[e]}${D2[t]}${D2[n]}`}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){const n=e[0]*t[0]+e[1]*t[2]+t[4],i=e[0]*t[1]+e[1]*t[3]+t[5];return[n,i]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2],i=(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,s=(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n;return[i,s]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),i=this.applyTransform(e.slice(2,4),t),s=this.applyTransform([e[0],e[3]],t),a=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],i[0],s[0],a[0]),Math.min(n[1],i[1],s[1],a[1]),Math.max(n[0],i[0],s[0],a[0]),Math.max(n[1],i[1],s[1],a[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],i=e[0]*t[1]+e[1]*t[3],s=e[2]*t[0]+e[3]*t[2],a=e[2]*t[1]+e[3]*t[3],o=(n+a)/2,l=Math.sqrt((n+a)**2-4*(n*a-s*i))/2,u=o+l||1,h=o-l||1;return[Math.sqrt(u),Math.sqrt(h)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),i=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>i)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),a=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>a?null:[n,s,i,a]}static bezierBoundingBox(e,t,n,i,s,a,o,l,u){return u?(u[0]=Math.min(u[0],e,o),u[1]=Math.min(u[1],t,l),u[2]=Math.max(u[2],e,o),u[3]=Math.max(u[3],t,l)):u=[Math.min(e,o),Math.min(t,l),Math.max(e,o),Math.max(t,l)],re(this,Fl,$A).call(this,e,n,s,o,t,i,a,l,3*(-e+3*(n-s)+o),6*(e-2*n+s),3*(n-e),u),re(this,Fl,$A).call(this,e,n,s,o,t,i,a,l,3*(-t+3*(i-a)+l),6*(t-2*i+a),3*(i-t),u),u}}Fl=new WeakSet,Vv=function(e,t,n,i,s,a,o,l,u,h){if(u<=0||u>=1)return;const f=1-u,p=u*u,d=p*u,x=f*(f*(f*e+3*u*t)+3*p*n)+d*i,v=f*(f*(f*s+3*u*a)+3*p*o)+d*l;h[0]=Math.min(h[0],x),h[1]=Math.min(h[1],v),h[2]=Math.max(h[2],x),h[3]=Math.max(h[3],v)},$A=function(e,t,n,i,s,a,o,l,u,h,f,p){if(Math.abs(u)<1e-12){Math.abs(h)>=1e-12&&re(this,Fl,Vv).call(this,e,t,n,i,s,a,o,l,-f/h,p);return}const d=h**2-4*f*u;if(d<0)return;const x=Math.sqrt(d),v=2*u;re(this,Fl,Vv).call(this,e,t,n,i,s,a,o,l,(-h+x)/v,p),re(this,Fl,Vv).call(this,e,t,n,i,s,a,o,l,(-h-x)/v,p)},ee(ut,Fl);function cM(r){return decodeURIComponent(escape(r))}let M2=null,uk=null;function uM(r){return M2||(M2=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,uk=new Map([["ﬅ","ſt"]])),r.replaceAll(M2,(e,t,n)=>t?t.normalize("NFKC"):uk.get(n))}function hM(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const r=new Uint8Array(32);return crypto.getRandomValues(r),FP(r)}const CN="pdfjs_internal_id_";function dM(r){return Uint8Array.prototype.toBase64?r.toBase64():btoa(FP(r))}typeof Promise.try!="function"&&(Promise.try=function(r,...e){return new Promise(t=>{t(r(...e))})});const Qo="http://www.w3.org/2000/svg",Wu=class Wu{};dt(Wu,"CSS",96),dt(Wu,"PDF",72),dt(Wu,"PDF_TO_CSS_UNITS",Wu.CSS/Wu.PDF);let hu=Wu;async function nb(r,e="text"){if(Ng(r,document.baseURI)){const t=await fetch(r);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,n)=>{const i=new XMLHttpRequest;i.open("GET",r,!0),i.responseType=e,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE){if(i.status===200||i.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(i.response);return}t(i.responseText);return}n(new Error(i.statusText))}},i.send(null)})}class iy{constructor({viewBox:e,userUnit:t,scale:n,rotation:i,offsetX:s=0,offsetY:a=0,dontFlip:o=!1}){this.viewBox=e,this.userUnit=t,this.scale=n,this.rotation=i,this.offsetX=s,this.offsetY=a,n*=t;const l=(e[2]+e[0])/2,u=(e[3]+e[1])/2;let h,f,p,d;switch(i%=360,i<0&&(i+=360),i){case 180:h=-1,f=0,p=0,d=1;break;case 90:h=0,f=1,p=1,d=0;break;case 270:h=0,f=-1,p=-1,d=0;break;case 0:h=1,f=0,p=0,d=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}o&&(p=-p,d=-d);let x,v,b,y;h===0?(x=Math.abs(u-e[1])*n+s,v=Math.abs(l-e[0])*n+a,b=(e[3]-e[1])*n,y=(e[2]-e[0])*n):(x=Math.abs(l-e[0])*n+s,v=Math.abs(u-e[1])*n+a,b=(e[2]-e[0])*n,y=(e[3]-e[1])*n),this.transform=[h*n,f*n,p*n,d*n,x-h*n*l-p*n*u,v-f*n*l-d*n*u],this.width=b,this.height=y}get rawDims(){const{userUnit:e,viewBox:t}=this,n=t.map(i=>i*e);return Ft(this,"rawDims",{pageWidth:n[2]-n[0],pageHeight:n[3]-n[1],pageX:n[0],pageY:n[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:i=this.offsetY,dontFlip:s=!1}={}){return new iy({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:s})}convertToViewportPoint(e,t){return ut.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=ut.applyTransform([e[0],e[1]],this.transform),n=ut.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return ut.applyInverseTransform([e,t],this.transform)}}class TN extends bu{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function ib(r){const e=r.length;let t=0;for(;t<e&&r[t].trim()==="";)t++;return r.substring(t,t+5).toLowerCase()==="data:"}function jN(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function fM(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function pM(r,e="document.pdf"){if(typeof r!="string")return e;if(ib(r))return Pt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const t=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,i=t.exec(r);let s=n.exec(i[1])||n.exec(i[2])||n.exec(i[3]);if(s&&(s=s[0],s.includes("%")))try{s=n.exec(decodeURIComponent(s))[0]}catch{}return s||e}class hk{constructor(){dt(this,"started",Object.create(null));dt(this,"times",[])}time(e){e in this.started&&Pt(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||Pt(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:i,end:s}of this.times)e.push(`${n.padEnd(t)} ${s-i}ms
`);return e.join("")}}function Ng(r,e){try{const{protocol:t}=e?new URL(r,e):new URL(r);return t==="http:"||t==="https:"}catch{return!1}}function Ha(r){r.preventDefault()}function As(r){r.preventDefault(),r.stopPropagation()}var E0;class PN{static toDateObject(e){if(!e||typeof e!="string")return null;m(this,E0)||W(this,E0,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=m(this,E0).exec(e);if(!t)return null;const n=parseInt(t[1],10);let i=parseInt(t[2],10);i=i>=1&&i<=12?i-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let a=parseInt(t[4],10);a=a>=0&&a<=23?a:0;let o=parseInt(t[5],10);o=o>=0&&o<=59?o:0;let l=parseInt(t[6],10);l=l>=0&&l<=59?l:0;const u=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let f=parseInt(t[9],10)||0;return f=f>=0&&f<=59?f:0,u==="-"?(a+=h,o+=f):u==="+"&&(a-=h,o-=f),new Date(Date.UTC(n,i,s,a,o,l))}}E0=new WeakMap,ee(PN,E0);function mM(r,{scale:e=1,rotation:t=0}){const{width:n,height:i}=r.attributes.style,s=[0,0,parseInt(n),parseInt(i)];return new iy({viewBox:s,userUnit:1,scale:e,rotation:t})}function LN(r){if(r.startsWith("#")){const e=parseInt(r.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(e=>parseInt(e)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(Pt(`Not a valid color format: "${r}"`),[0,0,0])}function gM(r){const e=document.createElement("span");e.style.visibility="hidden",document.body.append(e);for(const t of r.keys()){e.style.color=t;const n=window.getComputedStyle(e).color;r.set(t,LN(n))}e.remove()}function Er(r){const{a:e,b:t,c:n,d:i,e:s,f:a}=r.getTransform();return[e,t,n,i,s,a]}function ro(r){const{a:e,b:t,c:n,d:i,e:s,f:a}=r.getTransform().invertSelf();return[e,t,n,i,s,a]}function fd(r,e,t=!1,n=!0){if(e instanceof iy){const{pageWidth:i,pageHeight:s}=e.rawDims,{style:a}=r,o=Ci.isCSSRoundSupported,l=`var(--scale-factor) * ${i}px`,u=`var(--scale-factor) * ${s}px`,h=o?`round(down, ${l}, var(--scale-round-x, 1px))`:`calc(${l})`,f=o?`round(down, ${u}, var(--scale-round-y, 1px))`:`calc(${u})`;!t||e.rotation%180===0?(a.width=h,a.height=f):(a.width=f,a.height=h)}n&&r.setAttribute("data-main-rotation",e.rotation)}class GA{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}}var gc,Qu,Aa,Ju,k0,C0,mw,DP,Ti,MP,OP,Kv,BP,KA;const tl=class tl{constructor(e){ee(this,Ti);ee(this,gc,null);ee(this,Qu,null);ee(this,Aa);ee(this,Ju,null);ee(this,k0,null);W(this,Aa,e),m(tl,C0)||W(tl,C0,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=W(this,gc,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=m(this,Aa)._uiManager._signal;e.addEventListener("contextmenu",Ha,{signal:t}),e.addEventListener("pointerdown",re(tl,mw,DP),{signal:t});const n=W(this,Ju,document.createElement("div"));n.className="buttons",e.append(n);const i=m(this,Aa).toolbarPosition;if(i){const{style:s}=e,a=m(this,Aa)._uiManager.direction==="ltr"?1-i[0]:i[0];s.insetInlineEnd=`${100*a}%`,s.top=`calc(${100*i[1]}% + var(--editor-toolbar-vert-offset))`}return re(this,Ti,BP).call(this),e}get div(){return m(this,gc)}hide(){var e;m(this,gc).classList.add("hidden"),(e=m(this,Qu))==null||e.hideDropdown()}show(){var e;m(this,gc).classList.remove("hidden"),(e=m(this,k0))==null||e.shown()}async addAltText(e){const t=await e.render();re(this,Ti,Kv).call(this,t),m(this,Ju).prepend(t,m(this,Ti,KA)),W(this,k0,e)}addColorPicker(e){W(this,Qu,e);const t=e.renderButton();re(this,Ti,Kv).call(this,t),m(this,Ju).prepend(t,m(this,Ti,KA))}remove(){var e;m(this,gc).remove(),(e=m(this,Qu))==null||e.destroy(),W(this,Qu,null)}};gc=new WeakMap,Qu=new WeakMap,Aa=new WeakMap,Ju=new WeakMap,k0=new WeakMap,C0=new WeakMap,mw=new WeakSet,DP=function(e){e.stopPropagation()},Ti=new WeakSet,MP=function(e){m(this,Aa)._focusEventsAllowed=!1,As(e)},OP=function(e){m(this,Aa)._focusEventsAllowed=!0,As(e)},Kv=function(e){const t=m(this,Aa)._uiManager._signal;e.addEventListener("focusin",re(this,Ti,MP).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",re(this,Ti,OP).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Ha,{signal:t})},BP=function(){const{editorType:e,_uiManager:t}=m(this,Aa),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",m(tl,C0)[e]),re(this,Ti,Kv).call(this,n),n.addEventListener("click",i=>{t.delete()},{signal:t._signal}),m(this,Ju).append(n)},KA=function(){const e=document.createElement("div");return e.className="divider",e},ee(tl,mw),ee(tl,C0,null);let VA=tl;var T0,Zu,eh,mu,UP,zP,HP;class yM{constructor(e){ee(this,mu);ee(this,T0,null);ee(this,Zu,null);ee(this,eh);W(this,eh,e)}show(e,t,n){const[i,s]=re(this,mu,zP).call(this,t,n),{style:a}=m(this,Zu)||W(this,Zu,re(this,mu,UP).call(this));e.append(m(this,Zu)),a.insetInlineEnd=`${100*i}%`,a.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){m(this,Zu).remove()}}T0=new WeakMap,Zu=new WeakMap,eh=new WeakMap,mu=new WeakSet,UP=function(){const e=W(this,Zu,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Ha,{signal:m(this,eh)._signal});const t=W(this,T0,document.createElement("div"));return t.className="buttons",e.append(t),re(this,mu,HP).call(this),e},zP=function(e,t){let n=0,i=0;for(const s of e){const a=s.y+s.height;if(a<n)continue;const o=s.x+(t?s.width:0);if(a>n){i=o,n=a;continue}t?o>i&&(i=o):o<i&&(i=o)}return[t?1-i:i,n]},HP=function(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=m(this,eh)._signal;e.addEventListener("contextmenu",Ha,{signal:n}),e.addEventListener("click",()=>{m(this,eh).highlightSelection("floating_button")},{signal:n}),m(this,T0).append(e)};function nw(r,e,t){for(const n of t)e.addEventListener(n,r[n].bind(r))}var gw;class vM{constructor(){ee(this,gw,0)}get id(){return`${JD}${wi(this,gw)._++}`}}gw=new WeakMap;var Xf,j0,ii,Yf,Xv;const sE=class sE{constructor(){ee(this,Yf);ee(this,Xf,hM());ee(this,j0,0);ee(this,ii,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),i=new Image;i.src=e;const s=i.decode().then(()=>(n.drawImage(i,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Ft(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:n,size:i,type:s}=e;return re(this,Yf,Xv).call(this,`${t}_${n}_${i}_${s}`,e)}async getFromUrl(e){return re(this,Yf,Xv).call(this,e,e)}async getFromBlob(e,t){const n=await t;return re(this,Yf,Xv).call(this,e,n)}async getFromId(e){m(this,ii)||W(this,ii,new Map);const t=m(this,ii).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:n}=t;return delete t.blobPromise,this.getFromBlob(t.id,n)}return this.getFromUrl(t.url)}getFromCanvas(e,t){m(this,ii)||W(this,ii,new Map);let n=m(this,ii).get(e);if(n!=null&&n.bitmap)return n.refCounter+=1,n;const i=new OffscreenCanvas(t.width,t.height);return i.getContext("2d").drawImage(t,0,0),n={bitmap:i.transferToImageBitmap(),id:`image_${m(this,Xf)}_${wi(this,j0)._++}`,refCounter:1,isSvg:!1},m(this,ii).set(e,n),m(this,ii).set(n.id,n),n}getSvgUrl(e){const t=m(this,ii).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var i;m(this,ii)||W(this,ii,new Map);const t=m(this,ii).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:n}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(n.width,n.height);s.getContext("bitmaprenderer").transferFromImageBitmap(n),t.blobPromise=s.convertToBlob()}(i=n.close)==null||i.call(n),t.bitmap=null}isValidId(e){return e.startsWith(`image_${m(this,Xf)}_`)}};Xf=new WeakMap,j0=new WeakMap,ii=new WeakMap,Yf=new WeakSet,Xv=async function(e,t){m(this,ii)||W(this,ii,new Map);let n=m(this,ii).get(e);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${m(this,Xf)}_${wi(this,j0)._++}`,refCounter:0,isSvg:!1});let i;if(typeof t=="string"?(n.url=t,i=await nb(t,"blob")):t instanceof File?i=n.file=t:t instanceof Blob&&(i=t),i.type==="image/svg+xml"){const s=sE._isSVGFittingCanvas,a=new FileReader,o=new Image,l=new Promise((u,h)=>{o.onload=()=>{n.bitmap=o,n.isSvg=!0,u()},a.onload=async()=>{const f=n.svgUrl=a.result;o.src=await s?`${f}#svgView(preserveAspectRatio(none))`:f},o.onerror=a.onerror=h});a.readAsDataURL(i),await l}else n.bitmap=await createImageBitmap(i);n.refCounter=1}catch(i){Pt(i),n=null}return m(this,ii).set(e,n),n&&m(this,ii).set(n.id,n),n};let XA=sE;var Kr,yc,P0,Pr;class xM{constructor(e=128){ee(this,Kr,[]);ee(this,yc,!1);ee(this,P0);ee(this,Pr,-1);W(this,P0,e)}add({cmd:e,undo:t,post:n,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}){if(i&&e(),m(this,yc))return;const l={cmd:e,undo:t,post:n,type:s};if(m(this,Pr)===-1){m(this,Kr).length>0&&(m(this,Kr).length=0),W(this,Pr,0),m(this,Kr).push(l);return}if(a&&m(this,Kr)[m(this,Pr)].type===s){o&&(l.undo=m(this,Kr)[m(this,Pr)].undo),m(this,Kr)[m(this,Pr)]=l;return}const u=m(this,Pr)+1;u===m(this,P0)?m(this,Kr).splice(0,1):(W(this,Pr,u),u<m(this,Kr).length&&m(this,Kr).splice(u)),m(this,Kr).push(l)}undo(){if(m(this,Pr)===-1)return;W(this,yc,!0);const{undo:e,post:t}=m(this,Kr)[m(this,Pr)];e(),t==null||t(),W(this,yc,!1),W(this,Pr,m(this,Pr)-1)}redo(){if(m(this,Pr)<m(this,Kr).length-1){W(this,Pr,m(this,Pr)+1),W(this,yc,!0);const{cmd:e,post:t}=m(this,Kr)[m(this,Pr)];e(),t==null||t(),W(this,yc,!1)}}hasSomethingToUndo(){return m(this,Pr)!==-1}hasSomethingToRedo(){return m(this,Pr)<m(this,Kr).length-1}cleanType(e){if(m(this,Pr)!==-1){for(let t=m(this,Pr);t>=0;t--)if(m(this,Kr)[t].type!==e){m(this,Kr).splice(t+1,m(this,Pr)-t),W(this,Pr,t);return}m(this,Kr).length=0,W(this,Pr,-1)}}destroy(){W(this,Kr,null)}}Kr=new WeakMap,yc=new WeakMap,P0=new WeakMap,Pr=new WeakMap;var yw,qP;class sy{constructor(e){ee(this,yw);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Ci.platform;for(const[n,i,s={}]of e)for(const a of n){const o=a.startsWith("mac+");t&&o?(this.callbacks.set(a.slice(4),{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1))):!t&&!o&&(this.callbacks.set(a,{callback:i,options:s}),this.allKeys.add(a.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(re(this,yw,qP).call(this,t));if(!n)return;const{callback:i,options:{bubbles:s=!1,args:a=[],checker:o=null}}=n;o&&!o(e,t)||(i.bind(e,...a,t)(),s||As(t))}}yw=new WeakSet,qP=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const vw=class vw{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return gM(e),Ft(this,"_colors",e)}convert(e){const t=LN(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,i]of this._colors)if(i.every((s,a)=>s===t[a]))return vw._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?ut.makeHexColor(...t):e}};dt(vw,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let YA=vw;var Qf,os,yn,Mn,Jf,il,Zf,Hs,vc,th,ep,rh,co,_a,nh,L0,I0,tp,R0,uo,xc,rp,wc,ho,xw,bc,F0,Ac,ih,D0,M0,Nn,tr,sl,sh,O0,B0,_c,fo,al,U0,qs,Qe,Yv,QA,WP,$P,Qv,GP,VP,KP,JA,XP,ZA,e_,YP,bi,Jo,QP,JP,t_,ZP,Eg,r_;const Cf=class Cf{constructor(e,t,n,i,s,a,o,l,u,h,f,p,d){ee(this,Qe);ee(this,Qf,new AbortController);ee(this,os,null);ee(this,yn,new Map);ee(this,Mn,new Map);ee(this,Jf,null);ee(this,il,null);ee(this,Zf,null);ee(this,Hs,new xM);ee(this,vc,null);ee(this,th,null);ee(this,ep,0);ee(this,rh,new Set);ee(this,co,null);ee(this,_a,null);ee(this,nh,new Set);dt(this,"_editorUndoBar",null);ee(this,L0,!1);ee(this,I0,!1);ee(this,tp,!1);ee(this,R0,null);ee(this,uo,null);ee(this,xc,null);ee(this,rp,null);ee(this,wc,!1);ee(this,ho,null);ee(this,xw,new vM);ee(this,bc,!1);ee(this,F0,!1);ee(this,Ac,null);ee(this,ih,null);ee(this,D0,null);ee(this,M0,null);ee(this,Nn,jt.NONE);ee(this,tr,new Set);ee(this,sl,null);ee(this,sh,null);ee(this,O0,null);ee(this,B0,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});ee(this,_c,[0,0]);ee(this,fo,null);ee(this,al,null);ee(this,U0,null);ee(this,qs,null);const x=this._signal=m(this,Qf).signal;W(this,al,e),W(this,U0,t),W(this,Jf,n),this._eventBus=i,i._on("editingaction",this.onEditingAction.bind(this),{signal:x}),i._on("pagechanging",this.onPageChanging.bind(this),{signal:x}),i._on("scalechanging",this.onScaleChanging.bind(this),{signal:x}),i._on("rotationchanging",this.onRotationChanging.bind(this),{signal:x}),i._on("setpreference",this.onSetPreference.bind(this),{signal:x}),i._on("switchannotationeditorparams",v=>this.updateParams(v.type,v.value),{signal:x}),re(this,Qe,GP).call(this),re(this,Qe,YP).call(this),re(this,Qe,JA).call(this),W(this,il,s.annotationStorage),W(this,R0,s.filterFactory),W(this,sh,a),W(this,rp,o||null),W(this,L0,l),W(this,I0,u),W(this,tp,h),W(this,M0,f||null),this.viewParameters={realScale:hu.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=p||null,this._supportsPinchToZoom=d!==!1}static get _keyboardManager(){const e=Cf.prototype,t=a=>m(a,al).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&a.hasSomethingToControl(),n=(a,{target:o})=>{if(o instanceof HTMLInputElement){const{type:l}=o;return l!=="text"&&l!=="number"}return!0},i=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return Ft(this,"_keyboardManager",new sy([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&m(a,al).contains(o)&&!a.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(a,{target:o})=>!(o instanceof HTMLButtonElement)&&m(a,al).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,n,i,s;(e=m(this,qs))==null||e.resolve(),W(this,qs,null),(t=m(this,Qf))==null||t.abort(),W(this,Qf,null),this._signal=null;for(const a of m(this,Mn).values())a.destroy();m(this,Mn).clear(),m(this,yn).clear(),m(this,nh).clear(),W(this,os,null),m(this,tr).clear(),m(this,Hs).destroy(),(n=m(this,Jf))==null||n.destroy(),(i=m(this,ho))==null||i.hide(),W(this,ho,null),m(this,uo)&&(clearTimeout(m(this,uo)),W(this,uo,null)),m(this,fo)&&(clearTimeout(m(this,fo)),W(this,fo,null)),(s=this._editorUndoBar)==null||s.destroy()}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return m(this,M0)}get useNewAltTextFlow(){return m(this,I0)}get useNewAltTextWhenAddingImage(){return m(this,tp)}get hcmFilter(){return Ft(this,"hcmFilter",m(this,sh)?m(this,R0).addHCMFilter(m(this,sh).foreground,m(this,sh).background):"none")}get direction(){return Ft(this,"direction",getComputedStyle(m(this,al)).direction)}get highlightColors(){return Ft(this,"highlightColors",m(this,rp)?new Map(m(this,rp).split(",").map(e=>e.split("=").map(t=>t.trim()))):null)}get highlightColorNames(){return Ft(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),W(this,th,e)}setMainHighlightColorPicker(e){W(this,D0,e)}editAltText(e,t=!1){var n;(n=m(this,Jf))==null||n.editAltText(this,e,t)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":W(this,tp,t);break}}onPageChanging({pageNumber:e}){W(this,ep,e-1)}focusMainContainer(){m(this,al).focus()}findParent(e,t){for(const n of m(this,Mn).values()){const{x:i,y:s,width:a,height:o}=n.div.getBoundingClientRect();if(e>=i&&e<=i+a&&t>=s&&t<=s+o)return n}return null}disableUserSelect(e=!1){m(this,U0).classList.toggle("noUserSelect",e)}addShouldRescale(e){m(this,nh).add(e)}removeShouldRescale(e){m(this,nh).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*hu.PDF_TO_CSS_UNITS;for(const n of m(this,nh))n.onScaleChanging();(t=m(this,th))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e=""){const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:a}=t,o=t.toString(),u=re(this,Qe,Yv).call(this,t).closest(".textLayer"),h=this.getSelectionBoxes(u);if(!h)return;t.empty();const f=re(this,Qe,QA).call(this,u),p=m(this,Nn)===jt.NONE,d=()=>{f==null||f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:h,anchorNode:n,anchorOffset:i,focusNode:s,focusOffset:a,text:o}),p&&this.showAllEditors("highlight",!0,!0)};if(p){this.switchToMode(jt.HIGHLIGHT,d);return}d()}addToAnnotationStorage(e){!e.isEmpty()&&m(this,il)&&!m(this,il).has(e.id)&&m(this,il).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,m(this,wc)&&(W(this,wc,!1),re(this,Qe,Qv).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of m(this,tr))if(t.div.contains(e)){W(this,ih,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!m(this,ih))return;const[e,t]=m(this,ih);W(this,ih,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){re(this,Qe,JA).call(this),re(this,Qe,ZA).call(this)}removeEditListeners(){re(this,Qe,XP).call(this),re(this,Qe,e_).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of m(this,_a))if(n.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const n of m(this,_a))if(n.isHandlingMimeForPasting(t.type)){n.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var n;if(e.preventDefault(),(n=m(this,os))==null||n.commitOrRemove(),!this.hasSelection)return;const t=[];for(const i of m(this,tr)){const s=i.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const a of m(this,_a))if(a.isHandlingMimeForPasting(s.type)){a.paste(s,this.currentLayer);return}let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(s){Pt(`paste: "${s.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const i=this.currentLayer;try{const s=[];for(const l of n){const u=await i.deserialize(l);if(!u)return;s.push(u)}const a=()=>{for(const l of s)re(this,Qe,t_).call(this,l);re(this,Qe,r_).call(this,s)},o=()=>{for(const l of s)l.remove()};this.addCommands({cmd:a,undo:o,mustExec:!0})}catch(s){Pt(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),m(this,Nn)!==jt.NONE&&!this.isEditorHandlingKeyboard&&Cf._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,m(this,wc)&&(W(this,wc,!1),re(this,Qe,Qv).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(e){e?(re(this,Qe,VP).call(this),re(this,Qe,ZA).call(this),re(this,Qe,bi).call(this,{isEditing:m(this,Nn)!==jt.NONE,isEmpty:re(this,Qe,Eg).call(this),hasSomethingToUndo:m(this,Hs).hasSomethingToUndo(),hasSomethingToRedo:m(this,Hs).hasSomethingToRedo(),hasSelectedEditor:!1})):(re(this,Qe,KP).call(this),re(this,Qe,e_).call(this),re(this,Qe,bi).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!m(this,_a)){W(this,_a,e);for(const t of m(this,_a))re(this,Qe,Jo).call(this,t.defaultPropertiesToUpdate)}}getId(){return m(this,xw).id}get currentLayer(){return m(this,Mn).get(m(this,ep))}getLayer(e){return m(this,Mn).get(e)}get currentPageIndex(){return m(this,ep)}addLayer(e){m(this,Mn).set(e.pageIndex,e),m(this,bc)?e.enable():e.disable()}removeLayer(e){m(this,Mn).delete(e.pageIndex)}async updateMode(e,t=null,n=!1){var i;if(m(this,Nn)!==e&&!(m(this,qs)&&(await m(this,qs).promise,!m(this,qs)))){if(W(this,qs,Promise.withResolvers()),W(this,Nn,e),e===jt.NONE){this.setEditingState(!1),re(this,Qe,JP).call(this),(i=this._editorUndoBar)==null||i.hide(),m(this,qs).resolve();return}this.setEditingState(!0),await re(this,Qe,QP).call(this),this.unselectAll();for(const s of m(this,Mn).values())s.updateMode(e);if(!t){n&&this.addNewEditorFromKeyboard(),m(this,qs).resolve();return}for(const s of m(this,yn).values())s.annotationElementId===t?(this.setSelected(s),s.enterInEditMode()):s.unselect();m(this,qs).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==m(this,Nn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var n;if(m(this,_a)){switch(e){case Bt.CREATE:this.currentLayer.addNewEditor();return;case Bt.HIGHLIGHT_DEFAULT_COLOR:(n=m(this,D0))==null||n.updateColor(t);break;case Bt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(m(this,O0)||W(this,O0,new Map)).set(e,t),this.showAllEditors("highlight",t);break}for(const i of m(this,tr))i.updateParams(e,t);for(const i of m(this,_a))i.updateDefaultParams(e,t)}}showAllEditors(e,t,n=!1){var s;for(const a of m(this,yn).values())a.editorType===e&&a.show(t);(((s=m(this,O0))==null?void 0:s.get(Bt.HIGHLIGHT_SHOW_ALL))??!0)!==t&&re(this,Qe,Jo).call(this,[[Bt.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(m(this,F0)!==e){W(this,F0,e);for(const t of m(this,Mn).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of m(this,yn).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return m(this,yn).get(e)}addEditor(e){m(this,yn).set(e.id,e)}removeEditor(e){var t;e.div.contains(document.activeElement)&&(m(this,uo)&&clearTimeout(m(this,uo)),W(this,uo,setTimeout(()=>{this.focusMainContainer(),W(this,uo,null)},0))),m(this,yn).delete(e.id),this.unselect(e),(!e.annotationElementId||!m(this,rh).has(e.annotationElementId))&&((t=m(this,il))==null||t.remove(e.id))}addDeletedAnnotationElement(e){m(this,rh).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return m(this,rh).has(e)}removeDeletedAnnotationElement(e){m(this,rh).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){m(this,os)!==e&&(W(this,os,e),e&&re(this,Qe,Jo).call(this,e.propertiesToUpdate))}updateUI(e){m(this,Qe,ZP)===e&&re(this,Qe,Jo).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){re(this,Qe,Jo).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(m(this,tr).has(e)){m(this,tr).delete(e),e.unselect(),re(this,Qe,bi).call(this,{hasSelectedEditor:this.hasSelection});return}m(this,tr).add(e),e.select(),re(this,Qe,Jo).call(this,e.propertiesToUpdate),re(this,Qe,bi).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;(t=m(this,th))==null||t.commitOrRemove();for(const n of m(this,tr))n!==e&&n.unselect();m(this,tr).clear(),m(this,tr).add(e),e.select(),re(this,Qe,Jo).call(this,e.propertiesToUpdate),re(this,Qe,bi).call(this,{hasSelectedEditor:!0})}isSelected(e){return m(this,tr).has(e)}get firstSelectedEditor(){return m(this,tr).values().next().value}unselect(e){e.unselect(),m(this,tr).delete(e),re(this,Qe,bi).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return m(this,tr).size!==0}get isEnterHandled(){return m(this,tr).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;m(this,Hs).undo(),re(this,Qe,bi).call(this,{hasSomethingToUndo:m(this,Hs).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:re(this,Qe,Eg).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){m(this,Hs).redo(),re(this,Qe,bi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:m(this,Hs).hasSomethingToRedo(),isEmpty:re(this,Qe,Eg).call(this)})}addCommands(e){m(this,Hs).add(e),re(this,Qe,bi).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:re(this,Qe,Eg).call(this)})}cleanUndoStack(e){m(this,Hs).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...m(this,tr)],n=()=>{var a;(a=this._editorUndoBar)==null||a.show(i,t.length===1?t[0].editorType:t.length);for(const o of t)o.remove()},i=()=>{for(const a of t)re(this,Qe,t_).call(this,a)};this.addCommands({cmd:n,undo:i,mustExec:!0})}commitOrRemove(){var e;(e=m(this,os))==null||e.commitOrRemove()}hasSomethingToControl(){return m(this,os)||this.hasSelection}selectAll(){for(const e of m(this,tr))e.commit();re(this,Qe,r_).call(this,m(this,yn).values())}unselectAll(){var e;if(!(m(this,os)&&(m(this,os).commitOrRemove(),m(this,Nn)!==jt.NONE))&&!((e=m(this,th))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of m(this,tr))t.unselect();m(this,tr).clear(),re(this,Qe,bi).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;m(this,_c)[0]+=e,m(this,_c)[1]+=t;const[i,s]=m(this,_c),a=[...m(this,tr)],o=1e3;m(this,fo)&&clearTimeout(m(this,fo)),W(this,fo,setTimeout(()=>{W(this,fo,null),m(this,_c)[0]=m(this,_c)[1]=0,this.addCommands({cmd:()=>{for(const l of a)m(this,yn).has(l.id)&&l.translateInPage(i,s)},undo:()=>{for(const l of a)m(this,yn).has(l.id)&&l.translateInPage(-i,-s)},mustExec:!1})},o));for(const l of a)l.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),W(this,co,new Map);for(const e of m(this,tr))m(this,co).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!m(this,co))return!1;this.disableUserSelect(!1);const e=m(this,co);W(this,co,null);let t=!1;for(const[{x:i,y:s,pageIndex:a},o]of e)o.newX=i,o.newY=s,o.newPageIndex=a,t||(t=i!==o.savedX||s!==o.savedY||a!==o.savedPageIndex);if(!t)return!1;const n=(i,s,a,o)=>{if(m(this,yn).has(i.id)){const l=m(this,Mn).get(o);l?i._setParentAndPosition(l,s,a):(i.pageIndex=o,i.x=s,i.y=a)}};return this.addCommands({cmd:()=>{for(const[i,{newX:s,newY:a,newPageIndex:o}]of e)n(i,s,a,o)},undo:()=>{for(const[i,{savedX:s,savedY:a,savedPageIndex:o}]of e)n(i,s,a,o)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(m(this,co))for(const n of m(this,co).keys())n.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||m(this,tr).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return m(this,os)===e}getActive(){return m(this,os)}getMode(){return m(this,Nn)}get imageManager(){return Ft(this,"imageManager",new XA)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let u=0,h=t.rangeCount;u<h;u++)if(!e.contains(t.getRangeAt(u).commonAncestorContainer))return null;const{x:n,y:i,width:s,height:a}=e.getBoundingClientRect();let o;switch(e.getAttribute("data-main-rotation")){case"90":o=(u,h,f,p)=>({x:(h-i)/a,y:1-(u+f-n)/s,width:p/a,height:f/s});break;case"180":o=(u,h,f,p)=>({x:1-(u+f-n)/s,y:1-(h+p-i)/a,width:f/s,height:p/a});break;case"270":o=(u,h,f,p)=>({x:1-(h+p-i)/a,y:(u-n)/s,width:p/a,height:f/s});break;default:o=(u,h,f,p)=>({x:(u-n)/s,y:(h-i)/a,width:f/s,height:p/a});break}const l=[];for(let u=0,h=t.rangeCount;u<h;u++){const f=t.getRangeAt(u);if(!f.collapsed)for(const{x:p,y:d,width:x,height:v}of f.getClientRects())x===0||v===0||l.push(o(p,d,x,v))}return l.length===0?null:l}addChangedExistingAnnotation({annotationElementId:e,id:t}){(m(this,Zf)||W(this,Zf,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=m(this,Zf))==null||t.delete(e)}renderAnnotationElement(e){var i;const t=(i=m(this,Zf))==null?void 0:i.get(e.data.id);if(!t)return;const n=m(this,il).getRawValue(t);n&&(m(this,Nn)===jt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(e))}};Qf=new WeakMap,os=new WeakMap,yn=new WeakMap,Mn=new WeakMap,Jf=new WeakMap,il=new WeakMap,Zf=new WeakMap,Hs=new WeakMap,vc=new WeakMap,th=new WeakMap,ep=new WeakMap,rh=new WeakMap,co=new WeakMap,_a=new WeakMap,nh=new WeakMap,L0=new WeakMap,I0=new WeakMap,tp=new WeakMap,R0=new WeakMap,uo=new WeakMap,xc=new WeakMap,rp=new WeakMap,wc=new WeakMap,ho=new WeakMap,xw=new WeakMap,bc=new WeakMap,F0=new WeakMap,Ac=new WeakMap,ih=new WeakMap,D0=new WeakMap,M0=new WeakMap,Nn=new WeakMap,tr=new WeakMap,sl=new WeakMap,sh=new WeakMap,O0=new WeakMap,B0=new WeakMap,_c=new WeakMap,fo=new WeakMap,al=new WeakMap,U0=new WeakMap,qs=new WeakMap,Qe=new WeakSet,Yv=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},QA=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of m(this,Mn).values())if(n.hasTextLayer(e))return n;return null},WP=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const n=re(this,Qe,Yv).call(this,e).closest(".textLayer"),i=this.getSelectionBoxes(n);i&&(m(this,ho)||W(this,ho,new yM(this)),m(this,ho).show(n,i,this.direction==="ltr"))},$P=function(){var s,a,o;const e=document.getSelection();if(!e||e.isCollapsed){m(this,sl)&&((s=m(this,ho))==null||s.hide(),W(this,sl,null),re(this,Qe,bi).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===m(this,sl))return;const i=re(this,Qe,Yv).call(this,e).closest(".textLayer");if(!i){m(this,sl)&&((a=m(this,ho))==null||a.hide(),W(this,sl,null),re(this,Qe,bi).call(this,{hasSelectedText:!1}));return}if((o=m(this,ho))==null||o.hide(),W(this,sl,t),re(this,Qe,bi).call(this,{hasSelectedText:!0}),!(m(this,Nn)!==jt.HIGHLIGHT&&m(this,Nn)!==jt.NONE)&&(m(this,Nn)===jt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),W(this,wc,this.isShiftKeyDown),!this.isShiftKeyDown)){const l=m(this,Nn)===jt.HIGHLIGHT?re(this,Qe,QA).call(this,i):null;l==null||l.toggleDrawing();const u=new AbortController,h=this.combinedSignal(u),f=p=>{p.type==="pointerup"&&p.button!==0||(u.abort(),l==null||l.toggleDrawing(!0),p.type==="pointerup"&&re(this,Qe,Qv).call(this,"main_toolbar"))};window.addEventListener("pointerup",f,{signal:h}),window.addEventListener("blur",f,{signal:h})}},Qv=function(e=""){m(this,Nn)===jt.HIGHLIGHT?this.highlightSelection(e):m(this,L0)&&re(this,Qe,WP).call(this)},GP=function(){document.addEventListener("selectionchange",re(this,Qe,$P).bind(this),{signal:this._signal})},VP=function(){if(m(this,xc))return;W(this,xc,new AbortController);const e=this.combinedSignal(m(this,xc));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},KP=function(){var e;(e=m(this,xc))==null||e.abort(),W(this,xc,null)},JA=function(){if(m(this,Ac))return;W(this,Ac,new AbortController);const e=this.combinedSignal(m(this,Ac));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},XP=function(){var e;(e=m(this,Ac))==null||e.abort(),W(this,Ac,null)},ZA=function(){if(m(this,vc))return;W(this,vc,new AbortController);const e=this.combinedSignal(m(this,vc));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},e_=function(){var e;(e=m(this,vc))==null||e.abort(),W(this,vc,null)},YP=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},bi=function(e){Object.entries(e).some(([n,i])=>m(this,B0)[n]!==i)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(m(this,B0),e)}),m(this,Nn)===jt.HIGHLIGHT&&e.hasSelectedEditor===!1&&re(this,Qe,Jo).call(this,[[Bt.HIGHLIGHT_FREE,!0]]))},Jo=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},QP=async function(){if(!m(this,bc)){W(this,bc,!0);const e=[];for(const t of m(this,Mn).values())e.push(t.enable());await Promise.all(e);for(const t of m(this,yn).values())t.enable()}},JP=function(){if(this.unselectAll(),m(this,bc)){W(this,bc,!1);for(const e of m(this,Mn).values())e.disable();for(const e of m(this,yn).values())e.disable()}},t_=function(e){const t=m(this,Mn).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},ZP=function(){let e=null;for(e of m(this,tr));return e},Eg=function(){if(m(this,yn).size===0)return!0;if(m(this,yn).size===1)for(const e of m(this,yn).values())return e.isEmpty();return!1},r_=function(e){for(const t of m(this,tr))t.unselect();m(this,tr).clear();for(const t of e)t.isEmpty()||(m(this,tr).add(t),t.select());re(this,Qe,bi).call(this,{hasSelectedEditor:this.hasSelection})},dt(Cf,"TRANSLATE_SMALL",1),dt(Cf,"TRANSLATE_BIG",10);let pd=Cf;var En,po,Sa,np,mo,ls,ip,go,qi,ol,ah,yo,Sc,Ma,kg,Jv;const Ai=class Ai{constructor(e){ee(this,Ma);ee(this,En,null);ee(this,po,!1);ee(this,Sa,null);ee(this,np,null);ee(this,mo,null);ee(this,ls,null);ee(this,ip,!1);ee(this,go,null);ee(this,qi,null);ee(this,ol,null);ee(this,ah,null);ee(this,yo,!1);W(this,qi,e),W(this,yo,e._uiManager.useNewAltTextFlow),m(Ai,Sc)||W(Ai,Sc,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){Ai._l10n??(Ai._l10n=e)}async render(){const e=W(this,Sa,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=W(this,np,document.createElement("span"));e.append(t),m(this,yo)?(e.classList.add("new"),e.setAttribute("data-l10n-id",m(Ai,Sc).missing),t.setAttribute("data-l10n-id",m(Ai,Sc)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=m(this,qi)._uiManager._signal;e.addEventListener("contextmenu",Ha,{signal:n}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:n});const i=s=>{s.preventDefault(),m(this,qi)._uiManager.editAltText(m(this,qi)),m(this,yo)&&m(this,qi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:m(this,Ma,kg)}})};return e.addEventListener("click",i,{capture:!0,signal:n}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(W(this,ip,!0),i(s))},{signal:n}),await re(this,Ma,Jv).call(this),e}finish(){m(this,Sa)&&(m(this,Sa).focus({focusVisible:m(this,ip)}),W(this,ip,!1))}isEmpty(){return m(this,yo)?m(this,En)===null:!m(this,En)&&!m(this,po)}hasData(){return m(this,yo)?m(this,En)!==null||!!m(this,ol):this.isEmpty()}get guessedText(){return m(this,ol)}async setGuessedText(e){m(this,En)===null&&(W(this,ol,e),W(this,ah,await Ai._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),re(this,Ma,Jv).call(this))}toggleAltTextBadge(e=!1){var t;if(!m(this,yo)||m(this,En)){(t=m(this,go))==null||t.remove(),W(this,go,null);return}if(!m(this,go)){const n=W(this,go,document.createElement("div"));n.className="noAltTextBadge",m(this,qi).div.append(n)}m(this,go).classList.toggle("hidden",!e)}serialize(e){let t=m(this,En);return!e&&m(this,ol)===t&&(t=m(this,ah)),{altText:t,decorative:m(this,po),guessedText:m(this,ol),textWithDisclaimer:m(this,ah)}}get data(){return{altText:m(this,En),decorative:m(this,po)}}set data({altText:e,decorative:t,guessedText:n,textWithDisclaimer:i,cancel:s=!1}){n&&(W(this,ol,n),W(this,ah,i)),!(m(this,En)===e&&m(this,po)===t)&&(s||(W(this,En,e),W(this,po,t)),re(this,Ma,Jv).call(this))}toggle(e=!1){m(this,Sa)&&(!e&&m(this,ls)&&(clearTimeout(m(this,ls)),W(this,ls,null)),m(this,Sa).disabled=!e)}shown(){m(this,qi)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:m(this,Ma,kg)}})}destroy(){var e,t;(e=m(this,Sa))==null||e.remove(),W(this,Sa,null),W(this,np,null),W(this,mo,null),(t=m(this,go))==null||t.remove(),W(this,go,null)}};En=new WeakMap,po=new WeakMap,Sa=new WeakMap,np=new WeakMap,mo=new WeakMap,ls=new WeakMap,ip=new WeakMap,go=new WeakMap,qi=new WeakMap,ol=new WeakMap,ah=new WeakMap,yo=new WeakMap,Sc=new WeakMap,Ma=new WeakSet,kg=function(){return m(this,En)&&"added"||m(this,En)===null&&this.guessedText&&"review"||"missing"},Jv=async function(){var i,s,a;const e=m(this,Sa);if(!e)return;if(m(this,yo)){if(e.classList.toggle("done",!!m(this,En)),e.setAttribute("data-l10n-id",m(Ai,Sc)[m(this,Ma,kg)]),(i=m(this,np))==null||i.setAttribute("data-l10n-id",m(Ai,Sc)[`${m(this,Ma,kg)}-label`]),!m(this,En)){(s=m(this,mo))==null||s.remove();return}}else{if(!m(this,En)&&!m(this,po)){e.classList.remove("done"),(a=m(this,mo))==null||a.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=m(this,mo);if(!t){W(this,mo,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${m(this,qi).id}`;const o=100,l=m(this,qi)._uiManager._signal;l.addEventListener("abort",()=>{clearTimeout(m(this,ls)),W(this,ls,null)},{once:!0}),e.addEventListener("mouseenter",()=>{W(this,ls,setTimeout(()=>{W(this,ls,null),m(this,mo).classList.add("show"),m(this,qi)._reportTelemetry({action:"alt_text_tooltip"})},o))},{signal:l}),e.addEventListener("mouseleave",()=>{var u;m(this,ls)&&(clearTimeout(m(this,ls)),W(this,ls,null)),(u=m(this,mo))==null||u.classList.remove("show")},{signal:l})}m(this,po)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=m(this,En)),t.parentNode||e.append(t);const n=m(this,qi).getImageForAltText();n==null||n.setAttribute("aria-describedby",t.id)},ee(Ai,Sc,null),dt(Ai,"_l10n",null);let iw=Ai;var z0,oh,H0,q0,W0,$0,G0,sp,ll,lh,Nc,zl,eL,tL,n_;const aE=class aE{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:n=null,onPinchStart:i=null,onPinching:s=null,onPinchEnd:a=null,signal:o}){ee(this,zl);ee(this,z0);ee(this,oh,!1);ee(this,H0,null);ee(this,q0);ee(this,W0);ee(this,$0);ee(this,G0);ee(this,sp);ee(this,ll,null);ee(this,lh);ee(this,Nc,null);W(this,z0,e),W(this,H0,n),W(this,q0,t),W(this,W0,i),W(this,$0,s),W(this,G0,a),W(this,lh,new AbortController),W(this,sp,AbortSignal.any([o,m(this,lh).signal])),e.addEventListener("touchstart",re(this,zl,eL).bind(this),{passive:!1,signal:m(this,sp)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return Ft(this,"MIN_TOUCH_DISTANCE_TO_PINCH",35/(window.devicePixelRatio||1))}destroy(){var e;(e=m(this,lh))==null||e.abort(),W(this,lh,null)}};z0=new WeakMap,oh=new WeakMap,H0=new WeakMap,q0=new WeakMap,W0=new WeakMap,$0=new WeakMap,G0=new WeakMap,sp=new WeakMap,ll=new WeakMap,lh=new WeakMap,Nc=new WeakMap,zl=new WeakSet,eL=function(e){var i,s,a;if((i=m(this,q0))!=null&&i.call(this)||e.touches.length<2)return;if(!m(this,Nc)){W(this,Nc,new AbortController);const o=AbortSignal.any([m(this,sp),m(this,Nc).signal]),l=m(this,z0),u={signal:o,passive:!1};l.addEventListener("touchmove",re(this,zl,tL).bind(this),u),l.addEventListener("touchend",re(this,zl,n_).bind(this),u),l.addEventListener("touchcancel",re(this,zl,n_).bind(this),u),(s=m(this,W0))==null||s.call(this)}if(As(e),e.touches.length!==2||(a=m(this,H0))!=null&&a.call(this)){W(this,ll,null);return}let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]),W(this,ll,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:n.screenX,touch1Y:n.screenY})},tL=function(e){var k;if(!m(this,ll)||e.touches.length!==2)return;let[t,n]=e.touches;t.identifier>n.identifier&&([t,n]=[n,t]);const{screenX:i,screenY:s}=t,{screenX:a,screenY:o}=n,l=m(this,ll),{touch0X:u,touch0Y:h,touch1X:f,touch1Y:p}=l,d=f-u,x=p-h,v=a-i,b=o-s,y=Math.hypot(v,b)||1,w=Math.hypot(d,x)||1;if(!m(this,oh)&&Math.abs(w-y)<=aE.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(l.touch0X=i,l.touch0Y=s,l.touch1X=a,l.touch1Y=o,e.preventDefault(),!m(this,oh)){W(this,oh,!0);return}const A=[(i+a)/2,(s+o)/2];(k=m(this,$0))==null||k.call(this,A,w,y)},n_=function(e){var t;m(this,Nc).abort(),W(this,Nc,null),(t=m(this,G0))==null||t.call(this),m(this,ll)&&(e.preventDefault(),W(this,ll,null),W(this,oh,!1))};let sw=aE;var ch,Na,br,ap,Ec,V0,uh,On,hh,cl,kc,K0,dh,cs,X0,fh,ul,vo,op,lp,Ws,ph,Y0,ww,mt,i_,Q0,s_,Zv,rL,nL,a_,ex,o_,iL,sL,aL,l_,oL,c_,lL,cL,uL,u_,Cg;const Lt=class Lt{constructor(e){ee(this,mt);ee(this,ch,null);ee(this,Na,null);ee(this,br,null);ee(this,ap,!1);ee(this,Ec,null);ee(this,V0,"");ee(this,uh,!1);ee(this,On,null);ee(this,hh,null);ee(this,cl,null);ee(this,kc,null);ee(this,K0,"");ee(this,dh,!1);ee(this,cs,null);ee(this,X0,!1);ee(this,fh,!1);ee(this,ul,!1);ee(this,vo,null);ee(this,op,0);ee(this,lp,0);ee(this,Ws,null);ee(this,ph,null);dt(this,"_editToolbar",null);dt(this,"_initialOptions",Object.create(null));dt(this,"_initialData",null);dt(this,"_isVisible",!0);dt(this,"_uiManager",null);dt(this,"_focusEventsAllowed",!0);ee(this,Y0,!1);ee(this,ww,Lt._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:i,pageX:s,pageY:a}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,i],this.pageTranslation=[s,a];const[o,l]=this.parentDimensions;this.x=e.x/o,this.y=e.y/l,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=Lt.prototype._resizeWithKeyboard,t=pd.TRANSLATE_SMALL,n=pd.TRANSLATE_BIG;return Ft(this,"_resizerKeyboardManager",new sy([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],Lt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get isDrawer(){return!1}static get _defaultLineColor(){return Ft(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new wM({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(Lt._l10n??(Lt._l10n=e),Lt._l10nResizer||(Lt._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),Lt._borderLineWidth!==-1)return;const n=getComputedStyle(document.documentElement);Lt._borderLineWidth=parseFloat(n.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){fr("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return m(this,Y0)}set _isDraggable(e){var t;W(this,Y0,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=m(this,ww)}setParent(e){e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):re(this,mt,Cg).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(m(this,dh)?W(this,dh,!1):this.parent.setSelected(this))}focusout(e){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,i){const[s,a]=this.parentDimensions;[n,i]=this.screenToPageTranslation(n,i),this.x=(e+n)/s,this.y=(t+i)/a,this.fixAndSetPosition()}translate(e,t){re(this,mt,i_).call(this,this.parentDimensions,e,t)}translateInPage(e,t){m(this,cs)||W(this,cs,[this.x,this.y,this.width,this.height]),re(this,mt,i_).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){m(this,cs)||W(this,cs,[this.x,this.y,this.width,this.height]);const{div:n,parentDimensions:[i,s]}=this;if(this.x+=e/i,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:f,y:p}=this.div.getBoundingClientRect();this.parent.findNewParent(this,f,p)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:o}=this;const[l,u]=this.getBaseTranslation();a+=l,o+=u;const{style:h}=n;h.left=`${(100*a).toFixed(2)}%`,h.top=`${(100*o).toFixed(2)}%`,this._onTranslating(a,o),n.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!m(this,cs)&&(m(this,cs)[0]!==this.x||m(this,cs)[1]!==this.y)}get _hasBeenResized(){return!!m(this,cs)&&(m(this,cs)[2]!==this.width||m(this,cs)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=Lt,i=n/e,s=n/t;switch(this.rotation){case 90:return[-i,s];case 180:return[i,s];case 270:return[i,-s];default:return[-i,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[n,i]}=this;let{x:s,y:a,width:o,height:l}=this;if(o*=n,l*=i,s*=n,a*=i,this._mustFixPosition)switch(e){case 0:s=Math.max(0,Math.min(n-o,s)),a=Math.max(0,Math.min(i-l,a));break;case 90:s=Math.max(0,Math.min(n-l,s)),a=Math.min(i,Math.max(o,a));break;case 180:s=Math.min(n,Math.max(o,s)),a=Math.min(i,Math.max(l,a));break;case 270:s=Math.min(n,Math.max(l,s)),a=Math.max(0,Math.min(i-o,a));break}this.x=s/=n,this.y=a/=i;const[u,h]=this.getBaseTranslation();s+=u,a+=h,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var n;return re(n=Lt,Q0,s_).call(n,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var n;return re(n=Lt,Q0,s_).call(n,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,i]=this.parentDimensions,{style:s}=this.div;s.width=`${(100*e/n).toFixed(2)}%`,m(this,uh)||(s.height=`${(100*t/i).toFixed(2)}%`)}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,i=n.endsWith("%"),s=!m(this,uh)&&t.endsWith("%");if(i&&s)return;const[a,o]=this.parentDimensions;i||(e.width=`${(100*parseFloat(n)/a).toFixed(2)}%`),!m(this,uh)&&!s&&(e.height=`${(100*parseFloat(t)/o).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=m(this,br))==null||e.finish()}async addEditToolbar(){return this._editToolbar||m(this,fh)?this._editToolbar:(this._editToolbar=new VA(this),this.div.append(this._editToolbar.render()),m(this,br)&&await this._editToolbar.addAltText(m(this,br)),this._editToolbar)}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,(e=m(this,br))==null||e.destroy())}addContainer(e){var n;const t=(n=this._editToolbar)==null?void 0:n.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){m(this,br)||(iw.initialize(Lt._l10n),W(this,br,new iw(this)),m(this,ch)&&(m(this,br).data=m(this,ch),W(this,ch,null)),await this.addEditToolbar())}get altTextData(){var e;return(e=m(this,br))==null?void 0:e.data}set altTextData(e){m(this,br)&&(m(this,br).data=e)}get guessedAltText(){var e;return(e=m(this,br))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=m(this,br))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=m(this,br))==null?void 0:t.serialize(e)}hasAltText(){return!!m(this,br)&&!m(this,br).isEmpty()}hasAltTextData(){var e;return((e=m(this,br))==null?void 0:e.hasData())??!1}render(){var s;this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=m(this,ap)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),re(this,mt,c_).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*t/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/t).toFixed(2)}%`);const[n,i]=this.getInitialTranslation();return this.translate(n,i),nw(this,this.div,["pointerdown"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(m(this,ph)||W(this,ph,new sw({container:this.div,isPinchingDisabled:()=>!this.isSelected,onPinchStart:re(this,mt,iL).bind(this),onPinching:re(this,mt,sL).bind(this),onPinchEnd:re(this,mt,aL).bind(this),signal:this._uiManager._signal}))),(s=this._uiManager._editorUndoBar)==null||s.hide(),this.div}pointerdown(e){const{isMac:t}=Ci.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(W(this,dh,!0),this._isDraggable){re(this,mt,oL).call(this,e);return}re(this,mt,l_).call(this,e)}get isSelected(){return this._uiManager.isSelected(this)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){m(this,vo)&&clearTimeout(m(this,vo)),W(this,vo,setTimeout(()=>{var e;W(this,vo,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,n=this.rotation){const i=this.parentScale,[s,a]=this.pageDimensions,[o,l]=this.pageTranslation,u=e/i,h=t/i,f=this.x*s,p=this.y*a,d=this.width*s,x=this.height*a;switch(n){case 0:return[f+u+o,a-p-h-x+l,f+u+d+o,a-p-h+l];case 90:return[f+h+o,a-p+u+l,f+h+x+o,a-p+u+d+l];case 180:return[f-u-d+o,a-p+h+l,f-u+o,a-p+h+x+l];case 270:return[f-h-x+o,a-p-u-d+l,f-h+o,a-p-u+l];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,i,s,a]=e,o=s-n,l=a-i;switch(this.rotation){case 0:return[n,t-a,o,l];case 90:return[n,t-i,l,o];case 180:return[s,t-i,o,l];case 270:return[s,t-a,l,o];default:throw new Error("Invalid rotation")}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){W(this,fh,!0)}disableEditMode(){W(this,fh,!1)}isInEditMode(){return m(this,fh)}shouldGetKeyboardEvents(){return m(this,ul)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:n,right:i}=this.getClientDimensions(),{innerHeight:s,innerWidth:a}=window;return t<a&&i>0&&e<s&&n>0}rebuild(){re(this,mt,c_).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){fr("An editor must be serializable")}static async deserialize(e,t,n){const i=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});i.rotation=e.rotation,W(i,ch,e.accessibilityData);const[s,a]=i.pageDimensions,[o,l,u,h]=i.getRectInCurrentCoords(e.rect,a);return i.x=o/s,i.y=l/a,i.width=u/s,i.height=h/a,i}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=m(this,kc))==null||e.abort(),W(this,kc,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),m(this,vo)&&(clearTimeout(m(this,vo)),W(this,vo,null)),re(this,mt,Cg).call(this),this.removeEditToolbar(),m(this,Ws)){for(const n of m(this,Ws).values())clearTimeout(n);W(this,Ws,null)}this.parent=null,(t=m(this,ph))==null||t.destroy(),W(this,ph,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(re(this,mt,rL).call(this),m(this,On).classList.remove("hidden"),nw(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),W(this,cl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=m(this,On).children;if(!m(this,Na)){W(this,Na,Array.from(t));const a=re(this,mt,lL).bind(this),o=re(this,mt,cL).bind(this),l=this._uiManager._signal;for(const u of m(this,Na)){const h=u.getAttribute("data-resizer-name");u.setAttribute("role","spinbutton"),u.addEventListener("keydown",a,{signal:l}),u.addEventListener("blur",o,{signal:l}),u.addEventListener("focus",re(this,mt,uL).bind(this,h),{signal:l}),u.setAttribute("data-l10n-id",Lt._l10nResizer[h])}}const n=m(this,Na)[0];let i=0;for(const a of t){if(a===n)break;i++}const s=(360-this.rotation+this.parentRotation)%360/90*(m(this,Na).length/4);if(s!==i){if(s<i)for(let o=0;o<i-s;o++)m(this,On).append(m(this,On).firstChild);else if(s>i)for(let o=0;o<s-i;o++)m(this,On).firstChild.before(m(this,On).lastChild);let a=0;for(const o of t){const u=m(this,Na)[a++].getAttribute("data-resizer-name");o.setAttribute("data-l10n-id",Lt._l10nResizer[u])}}re(this,mt,u_).call(this,0),W(this,ul,!0),m(this,On).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){m(this,ul)&&re(this,mt,o_).call(this,m(this,K0),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){re(this,mt,Cg).call(this),this.div.focus()}select(){var e,t,n;if(this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var i,s;(i=this.div)!=null&&i.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(n=m(this,br))==null||n.toggleAltTextBadge(!1)}unselect(){var e,t,n,i,s;(e=m(this,On))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(i=this._editToolbar)==null||i.hide(),(s=m(this,br))==null||s.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return m(this,X0)}set isEditing(e){W(this,X0,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){W(this,uh,!0);const n=e/t,{style:i}=this.div;i.aspectRatio=n,i.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){m(this,Ws)||W(this,Ws,new Map);const{action:n}=e;let i=m(this,Ws).get(n);i&&clearTimeout(i),i=setTimeout(()=>{this._reportTelemetry(e),m(this,Ws).delete(n),m(this,Ws).size===0&&W(this,Ws,null)},Lt._telemetryTimeout),m(this,Ws).set(n,i);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),W(this,ap,!1)}disable(){this.div&&(this.div.tabIndex=-1),W(this,ap,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const n=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),n.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};ch=new WeakMap,Na=new WeakMap,br=new WeakMap,ap=new WeakMap,Ec=new WeakMap,V0=new WeakMap,uh=new WeakMap,On=new WeakMap,hh=new WeakMap,cl=new WeakMap,kc=new WeakMap,K0=new WeakMap,dh=new WeakMap,cs=new WeakMap,X0=new WeakMap,fh=new WeakMap,ul=new WeakMap,vo=new WeakMap,op=new WeakMap,lp=new WeakMap,Ws=new WeakMap,ph=new WeakMap,Y0=new WeakMap,ww=new WeakMap,mt=new WeakSet,i_=function([e,t],n,i){[n,i]=this.screenToPageTranslation(n,i),this.x+=n/e,this.y+=i/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},Q0=new WeakSet,s_=function(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Zv=function(e){switch(e){case 90:{const[t,n]=this.pageDimensions;return[0,-t/n,n/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,n]=this.pageDimensions;return[0,t/n,-n/t,0]}default:return[1,0,0,1]}},rL=function(){if(m(this,On))return;W(this,On,document.createElement("div")),m(this,On).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const i=document.createElement("div");m(this,On).append(i),i.classList.add("resizer",n),i.setAttribute("data-resizer-name",n),i.addEventListener("pointerdown",re(this,mt,nL).bind(this,n),{signal:t}),i.addEventListener("contextmenu",Ha,{signal:t}),i.tabIndex=-1}this.div.prepend(m(this,On))},nL=function(e,t){var h;t.preventDefault();const{isMac:n}=Ci.platform;if(t.button!==0||t.ctrlKey&&n)return;(h=m(this,br))==null||h.toggle(!1);const i=this._isDraggable;this._isDraggable=!1,W(this,hh,[t.screenX,t.screenY]);const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",re(this,mt,o_).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("touchmove",As,{passive:!1,signal:a}),window.addEventListener("contextmenu",Ha,{signal:a}),W(this,cl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const o=this.parent.div.style.cursor,l=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const u=()=>{var f;s.abort(),this.parent.togglePointerEvents(!0),(f=m(this,br))==null||f.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=o,this.div.style.cursor=l,re(this,mt,ex).call(this)};window.addEventListener("pointerup",u,{signal:a}),window.addEventListener("blur",u,{signal:a})},a_=function(e,t,n,i){this.width=n,this.height=i,this.x=e,this.y=t;const[s,a]=this.parentDimensions;this.setDims(s*n,a*i),this.fixAndSetPosition(),this._onResized()},ex=function(){if(!m(this,cl))return;const{savedX:e,savedY:t,savedWidth:n,savedHeight:i}=m(this,cl);W(this,cl,null);const s=this.x,a=this.y,o=this.width,l=this.height;s===e&&a===t&&o===n&&l===i||this.addCommands({cmd:re(this,mt,a_).bind(this,s,a,o,l),undo:re(this,mt,a_).bind(this,e,t,n,i),mustExec:!0})},o_=function(e,t){const[n,i]=this.parentDimensions,s=this.x,a=this.y,o=this.width,l=this.height,u=Lt.MIN_SIZE/n,h=Lt.MIN_SIZE/i,f=re(this,mt,Zv).call(this,this.rotation),p=(he,le)=>[f[0]*he+f[2]*le,f[1]*he+f[3]*le],d=re(this,mt,Zv).call(this,360-this.rotation),x=(he,le)=>[d[0]*he+d[2]*le,d[1]*he+d[3]*le];let v,b,y=!1,w=!1;switch(e){case"topLeft":y=!0,v=(he,le)=>[0,0],b=(he,le)=>[he,le];break;case"topMiddle":v=(he,le)=>[he/2,0],b=(he,le)=>[he/2,le];break;case"topRight":y=!0,v=(he,le)=>[he,0],b=(he,le)=>[0,le];break;case"middleRight":w=!0,v=(he,le)=>[he,le/2],b=(he,le)=>[0,le/2];break;case"bottomRight":y=!0,v=(he,le)=>[he,le],b=(he,le)=>[0,0];break;case"bottomMiddle":v=(he,le)=>[he/2,le],b=(he,le)=>[he/2,0];break;case"bottomLeft":y=!0,v=(he,le)=>[0,le],b=(he,le)=>[he,0];break;case"middleLeft":w=!0,v=(he,le)=>[0,le/2],b=(he,le)=>[he,le/2];break}const A=v(o,l),k=b(o,l);let M=p(...k);const $=Lt._round(s+M[0]),H=Lt._round(a+M[1]);let q=1,D=1,se,z;if(t.fromKeyboard)({deltaX:se,deltaY:z}=t);else{const{screenX:he,screenY:le}=t,[me,pe]=m(this,hh);[se,z]=this.screenToPageTranslation(he-me,le-pe),m(this,hh)[0]=he,m(this,hh)[1]=le}if([se,z]=x(se/n,z/i),y){const he=Math.hypot(o,l);q=D=Math.max(Math.min(Math.hypot(k[0]-A[0]-se,k[1]-A[1]-z)/he,1/o,1/l),u/o,h/l)}else w?q=Math.max(u,Math.min(1,Math.abs(k[0]-A[0]-se)))/o:D=Math.max(h,Math.min(1,Math.abs(k[1]-A[1]-z)))/l;const R=Lt._round(o*q),V=Lt._round(l*D);M=p(...b(R,V));const T=$-M[0],K=H-M[1];m(this,cs)||W(this,cs,[this.x,this.y,this.width,this.height]),this.width=R,this.height=V,this.x=T,this.y=K,this.setDims(n*R,i*V),this.fixAndSetPosition(),this._onResizing()},iL=function(){var e;W(this,cl,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=m(this,br))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},sL=function(e,t,n){let s=.7*(n/t)+1-.7;if(s===1)return;const a=re(this,mt,Zv).call(this,this.rotation),o=($,H)=>[a[0]*$+a[2]*H,a[1]*$+a[3]*H],[l,u]=this.parentDimensions,h=this.x,f=this.y,p=this.width,d=this.height,x=Lt.MIN_SIZE/l,v=Lt.MIN_SIZE/u;s=Math.max(Math.min(s,1/p,1/d),x/p,v/d);const b=Lt._round(p*s),y=Lt._round(d*s);if(b===p&&y===d)return;m(this,cs)||W(this,cs,[h,f,p,d]);const w=o(p/2,d/2),A=Lt._round(h+w[0]),k=Lt._round(f+w[1]),M=o(b/2,y/2);this.x=A-M[0],this.y=k-M[1],this.width=b,this.height=y,this.setDims(l*b,u*y),this.fixAndSetPosition(),this._onResizing()},aL=function(){var e;(e=m(this,br))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),re(this,mt,ex).call(this)},l_=function(e){const{isMac:t}=Ci.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},oL=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let n=!1;const i=new AbortController,s=this._uiManager.combinedSignal(i),a={capture:!0,passive:!1,signal:s},o=u=>{i.abort(),W(this,Ec,null),W(this,dh,!1),this._uiManager.endDragSession()||re(this,mt,l_).call(this,u),n&&this._onStopDragging()};t&&(W(this,op,e.clientX),W(this,lp,e.clientY),W(this,Ec,e.pointerId),W(this,V0,e.pointerType),window.addEventListener("pointermove",u=>{n||(n=!0,this._onStartDragging());const{clientX:h,clientY:f,pointerId:p}=u;if(p!==m(this,Ec)){As(u);return}const[d,x]=this.screenToPageTranslation(h-m(this,op),f-m(this,lp));W(this,op,h),W(this,lp,f),this._uiManager.dragSelectedEditors(d,x)},a),window.addEventListener("touchmove",As,a),window.addEventListener("pointerdown",u=>{u.pointerType===m(this,V0)&&(m(this,ph)||u.isPrimary)&&o(u),As(u)},a));const l=u=>{if(!m(this,Ec)||m(this,Ec)===u.pointerId){o(u);return}As(u)};window.addEventListener("pointerup",l,{signal:s}),window.addEventListener("blur",l,{signal:s})},c_=function(){if(m(this,kc)||!this.div)return;W(this,kc,new AbortController);const e=this._uiManager.combinedSignal(m(this,kc));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},lL=function(e){Lt._resizerKeyboardManager.exec(this,e)},cL=function(e){var t;m(this,ul)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==m(this,On)&&re(this,mt,Cg).call(this)},uL=function(e){W(this,K0,m(this,ul)?e:"")},u_=function(e){if(m(this,Na))for(const t of m(this,Na))t.tabIndex=e},Cg=function(){W(this,ul,!1),re(this,mt,u_).call(this,-1),re(this,mt,ex).call(this)},ee(Lt,Q0),dt(Lt,"_l10n",null),dt(Lt,"_l10nResizer",null),dt(Lt,"_borderLineWidth",-1),dt(Lt,"_colorManager",new YA),dt(Lt,"_zIndex",1),dt(Lt,"_telemetryTimeout",1e3);let Rr=Lt;class wM extends Rr{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const dk=3285377520,Bs=4294901760,no=65535;class hL{constructor(e){this.h1=e?e&4294967295:dk,this.h2=e?e&4294967295:dk}update(e){let t,n;if(typeof e=="string"){t=new Uint8Array(e.length*2),n=0;for(let v=0,b=e.length;v<b;v++){const y=e.charCodeAt(v);y<=255?t[n++]=y:(t[n++]=y>>>8,t[n++]=y&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),n=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const i=n>>2,s=n-i*4,a=new Uint32Array(t.buffer,0,i);let o=0,l=0,u=this.h1,h=this.h2;const f=3432918353,p=461845907,d=f&no,x=p&no;for(let v=0;v<i;v++)v&1?(o=a[v],o=o*f&Bs|o*d&no,o=o<<15|o>>>17,o=o*p&Bs|o*x&no,u^=o,u=u<<13|u>>>19,u=u*5+3864292196):(l=a[v],l=l*f&Bs|l*d&no,l=l<<15|l>>>17,l=l*p&Bs|l*x&no,h^=l,h=h<<13|h>>>19,h=h*5+3864292196);switch(o=0,s){case 3:o^=t[i*4+2]<<16;case 2:o^=t[i*4+1]<<8;case 1:o^=t[i*4],o=o*f&Bs|o*d&no,o=o<<15|o>>>17,o=o*p&Bs|o*x&no,i&1?u^=o:h^=o}this.h1=u,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Bs|e*36045&no,t=t*4283543511&Bs|((t<<16|e>>>16)*2950163797&Bs)>>>16,e^=t>>>1,e=e*444984403&Bs|e*60499&no,t=t*3301882366&Bs|((t<<16|e>>>16)*3120437893&Bs)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const h_=Object.freeze({map:null,hash:"",transfer:void 0});var mh,gh,kn,bw,dL;class IN{constructor(){ee(this,bw);ee(this,mh,!1);ee(this,gh,null);ee(this,kn,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=m(this,kn).get(e);return n===void 0?t:Object.assign(t,n)}getRawValue(e){return m(this,kn).get(e)}remove(e){if(m(this,kn).delete(e),m(this,kn).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const t of m(this,kn).values())if(t instanceof Rr)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=m(this,kn).get(e);let i=!1;if(n!==void 0)for(const[s,a]of Object.entries(t))n[s]!==a&&(i=!0,n[s]=a);else i=!0,m(this,kn).set(e,t);i&&re(this,bw,dL).call(this),t instanceof Rr&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type)}has(e){return m(this,kn).has(e)}getAll(){return m(this,kn).size>0?kN(m(this,kn)):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return m(this,kn).size}resetModified(){m(this,mh)&&(W(this,mh,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new fL(this)}get serializable(){if(m(this,kn).size===0)return h_;const e=new Map,t=new hL,n=[],i=Object.create(null);let s=!1;for(const[a,o]of m(this,kn)){const l=o instanceof Rr?o.serialize(!1,i):o;l&&(e.set(a,l),t.update(`${a}:${JSON.stringify(l)}`),s||(s=!!l.bitmap))}if(s)for(const a of e.values())a.bitmap&&n.push(a.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:h_}get editorStats(){let e=null;const t=new Map;for(const n of m(this,kn).values()){if(!(n instanceof Rr))continue;const i=n.telemetryFinalData;if(!i)continue;const{type:s}=i;t.has(s)||t.set(s,Object.getPrototypeOf(n).constructor),e||(e=Object.create(null));const a=e[s]||(e[s]=new Map);for(const[o,l]of Object.entries(i)){if(o==="type")continue;let u=a.get(o);u||(u=new Map,a.set(o,u));const h=u.get(l)??0;u.set(l,h+1)}}for(const[n,i]of t)e[n]=i.computeTelemetryFinalData(e[n]);return e}resetModifiedIds(){W(this,gh,null)}get modifiedIds(){if(m(this,gh))return m(this,gh);const e=[];for(const t of m(this,kn).values())!(t instanceof Rr)||!t.annotationElementId||!t.serialize()||e.push(t.annotationElementId);return W(this,gh,{ids:new Set(e),hash:e.join(",")})}}mh=new WeakMap,gh=new WeakMap,kn=new WeakMap,bw=new WeakSet,dL=function(){m(this,mh)||(W(this,mh,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var J0;class fL extends IN{constructor(t){super();ee(this,J0);const{map:n,hash:i,transfer:s}=t.serializable,a=structuredClone(n,s?{transfer:s}:null);W(this,J0,{map:a,hash:i,transfer:s})}get print(){fr("Should not call PrintAnnotationStorage.print")}get serializable(){return m(this,J0)}get modifiedIds(){return Ft(this,"modifiedIds",{ids:new Set,hash:""})}}J0=new WeakMap;var cp;class bM{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){ee(this,cp,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),m(this,cp).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,_inspectFont:t}){if(!(!e||m(this,cp).has(e.loadedName))){if(hn(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:i,style:s}=e,a=new FontFace(n,i,s);this.addNativeFontFace(a);try{await a.load(),m(this,cp).add(n),t==null||t(e)}catch{Pt(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}fr("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const n=e.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(i){throw Pt(`Failed to load font '${n.family}': '${i}'.`),e.disableFontFace=!0,i}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const i=this._queueLoadingCallback(n);this._prepareFontLoadEvent(e,i)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return Ft(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){let e=!1;return(hi||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(e=!0),Ft(this,"isSyncFontLoadingSupported",e)}_queueLoadingCallback(e){function t(){for(hn(!i.done,"completeRequest() cannot be called twice."),i.done=!0;n.length>0&&n[0].done;){const s=n.shift();setTimeout(s.callback,0)}}const{loadingRequests:n}=this,i={done:!1,complete:t,callback:e};return n.push(i),i}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Ft(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function n(k,M){return k.charCodeAt(M)<<24|k.charCodeAt(M+1)<<16|k.charCodeAt(M+2)<<8|k.charCodeAt(M+3)&255}function i(k,M,$,H){const q=k.substring(0,M),D=k.substring(M+$);return q+H+D}let s,a;const o=this._document.createElement("canvas");o.width=1,o.height=1;const l=o.getContext("2d");let u=0;function h(k,M){if(++u>30){Pt("Load test font never loaded."),M();return}if(l.font="30px "+k,l.fillText(".",0,20),l.getImageData(0,0,1,1).data[3]>0){M();return}setTimeout(h.bind(null,k,M))}const f=`lt${Date.now()}${this.loadTestFontId++}`;let p=this._loadTestFont;p=i(p,976,f.length,f);const x=16,v=1482184792;let b=n(p,x);for(s=0,a=f.length-3;s<a;s+=4)b=b-v+n(f,s)|0;s<f.length&&(b=b-v+n(f+"XXX",s)|0),p=i(p,x,4,aM(b));const y=`url(data:font/opentype;base64,${btoa(p)});`,w=`@font-face {font-family:"${f}";src:${y}}`;this.insertRule(w);const A=this._document.createElement("div");A.style.visibility="hidden",A.style.width=A.style.height="10px",A.style.position="absolute",A.style.top=A.style.left="0px";for(const k of[e.loadedName,f]){const M=this._document.createElement("span");M.textContent="Hi",M.style.fontFamily=k,A.append(M)}this._document.body.append(A),h(f,()=>{A.remove(),t.complete()})}}cp=new WeakMap;class AM{constructor(e,{disableFontFace:t=!1,fontExtraProperties:n=!1,inspectFont:i=null}){this.compiledGlyphs=Object.create(null);for(const s in e)this[s]=e[s];this.disableFontFace=t===!0,this.fontExtraProperties=n===!0,this._inspectFont=i}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var n;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${dM(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let i=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(i+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${i}src:${e}}`}return(n=this._inspectFont)==null||n.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const n=this.loadedName+"_path_"+t;let i;try{i=e.get(n)}catch(a){Pt(`getPathGenerator - ignoring character: "${a}".`)}const s=new Path2D(i||"");return this.fontExtraProperties||e.delete(n),this.compiledGlyphs[t]=s}}const yv={DATA:1,ERROR:2},cn={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function fk(){}function zi(r){if(r instanceof uu||r instanceof WA||r instanceof b0||r instanceof ck||r instanceof rw||r instanceof F2)return r;switch(r instanceof Error||typeof r=="object"&&r!==null||fr('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new uu(r.message);case"InvalidPDFException":return new WA(r.message);case"MissingPDFException":return new b0(r.message);case"PasswordException":return new ck(r.message,r.code);case"UnexpectedResponseException":return new rw(r.message,r.status);case"UnknownErrorException":return new F2(r.message,r.details)}return new F2(r.message,r.toString())}var up,ta,pL,mL,gL,tx;class Tg{constructor(e,t,n){ee(this,ta);ee(this,up,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",re(this,ta,pL).bind(this),{signal:m(this,up).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error(`There is already an actionName called "${e}"`);n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const i=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[i]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:i,data:t},n)}catch(a){s.reject(a)}return s.promise}sendWithStream(e,t,n,i){const s=this.streamId++,a=this.sourceName,o=this.targetName,l=this.comObj;return new ReadableStream({start:u=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:u,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},l.postMessage({sourceName:a,targetName:o,action:e,streamId:s,data:t,desiredSize:u.desiredSize},i),h.promise},pull:u=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,l.postMessage({sourceName:a,targetName:o,stream:cn.PULL,streamId:s,desiredSize:u.desiredSize}),h.promise},cancel:u=>{hn(u instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,l.postMessage({sourceName:a,targetName:o,stream:cn.CANCEL,streamId:s,reason:zi(u)}),h.promise}},n)}destroy(){var e;(e=m(this,up))==null||e.abort(),W(this,up,null)}}up=new WeakMap,ta=new WeakSet,pL=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){re(this,ta,gL).call(this,e);return}if(e.callback){const n=e.callbackId,i=this.callbackCapabilities[n];if(!i)throw new Error(`Cannot resolve callback ${n}`);if(delete this.callbackCapabilities[n],e.callback===yv.DATA)i.resolve(e.data);else if(e.callback===yv.ERROR)i.reject(zi(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const n=this.sourceName,i=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(a){s.postMessage({sourceName:n,targetName:i,callback:yv.DATA,callbackId:e.callbackId,data:a})},function(a){s.postMessage({sourceName:n,targetName:i,callback:yv.ERROR,callbackId:e.callbackId,reason:zi(a)})});return}if(e.streamId){re(this,ta,mL).call(this,e);return}t(e.data)},mL=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this,o=this.actionHandler[e.action],l={enqueue(u,h=1,f){if(this.isCancelled)return;const p=this.desiredSize;this.desiredSize-=h,p>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:n,targetName:i,stream:cn.ENQUEUE,streamId:t,chunk:u},f)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:cn.CLOSE,streamId:t}),delete a.streamSinks[t])},error(u){hn(u instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:n,targetName:i,stream:cn.ERROR,streamId:t,reason:zi(u)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};l.sinkCapability.resolve(),l.ready=l.sinkCapability.promise,this.streamSinks[t]=l,Promise.try(o,e.data,l).then(function(){s.postMessage({sourceName:n,targetName:i,stream:cn.START_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:n,targetName:i,stream:cn.START_COMPLETE,streamId:t,reason:zi(u)})})},gL=function(e){const t=e.streamId,n=this.sourceName,i=e.sourceName,s=this.comObj,a=this.streamControllers[t],o=this.streamSinks[t];switch(e.stream){case cn.START_COMPLETE:e.success?a.startCall.resolve():a.startCall.reject(zi(e.reason));break;case cn.PULL_COMPLETE:e.success?a.pullCall.resolve():a.pullCall.reject(zi(e.reason));break;case cn.PULL:if(!o){s.postMessage({sourceName:n,targetName:i,stream:cn.PULL_COMPLETE,streamId:t,success:!0});break}o.desiredSize<=0&&e.desiredSize>0&&o.sinkCapability.resolve(),o.desiredSize=e.desiredSize,Promise.try(o.onPull||fk).then(function(){s.postMessage({sourceName:n,targetName:i,stream:cn.PULL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:n,targetName:i,stream:cn.PULL_COMPLETE,streamId:t,reason:zi(u)})});break;case cn.ENQUEUE:if(hn(a,"enqueue should have stream controller"),a.isClosed)break;a.controller.enqueue(e.chunk);break;case cn.CLOSE:if(hn(a,"close should have stream controller"),a.isClosed)break;a.isClosed=!0,a.controller.close(),re(this,ta,tx).call(this,a,t);break;case cn.ERROR:hn(a,"error should have stream controller"),a.controller.error(zi(e.reason)),re(this,ta,tx).call(this,a,t);break;case cn.CANCEL_COMPLETE:e.success?a.cancelCall.resolve():a.cancelCall.reject(zi(e.reason)),re(this,ta,tx).call(this,a,t);break;case cn.CANCEL:if(!o)break;const l=zi(e.reason);Promise.try(o.onCancel||fk,l).then(function(){s.postMessage({sourceName:n,targetName:i,stream:cn.CANCEL_COMPLETE,streamId:t,success:!0})},function(u){s.postMessage({sourceName:n,targetName:i,stream:cn.CANCEL_COMPLETE,streamId:t,reason:zi(u)})}),o.sinkCapability.reject(l),o.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},tx=async function(e,t){var n,i,s;await Promise.allSettled([(n=e.startCall)==null?void 0:n.promise,(i=e.pullCall)==null?void 0:i.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var Z0;class yL{constructor({enableHWA:e=!1}){ee(this,Z0,!1);W(this,Z0,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!m(this,Z0)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){fr("Abstract method `_createCanvas` called.")}}Z0=new WeakMap;class _M extends yL{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}}class vL{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(n=>({cMapData:n,isCompressed:this.isCompressed})).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){fr("Abstract method `_fetch` called.")}}class xL extends vL{async _fetch(e){const t=await nb(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):rb(t)}}class wL{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,i,s){return"none"}destroy(e=!1){}}var yh,hp,hl,dl,si,vh,xh,nt,ri,jg,sf,rx,af,bL,d_,of,Pg,Lg,f_,Ig;class SM extends wL{constructor({docId:t,ownerDocument:n=globalThis.document}){super();ee(this,nt);ee(this,yh);ee(this,hp);ee(this,hl);ee(this,dl);ee(this,si);ee(this,vh);ee(this,xh,0);W(this,dl,t),W(this,si,n)}addFilter(t){if(!t)return"none";let n=m(this,nt,ri).get(t);if(n)return n;const[i,s,a]=re(this,nt,rx).call(this,t),o=t.length===1?i:`${i}${s}${a}`;if(n=m(this,nt,ri).get(o),n)return m(this,nt,ri).set(t,n),n;const l=`g_${m(this,dl)}_transfer_map_${wi(this,xh)._++}`,u=re(this,nt,af).call(this,l);m(this,nt,ri).set(t,u),m(this,nt,ri).set(o,u);const h=re(this,nt,of).call(this,l);return re(this,nt,Lg).call(this,i,s,a,h),u}addHCMFilter(t,n){var x;const i=`${t}-${n}`,s="base";let a=m(this,nt,jg).get(s);if((a==null?void 0:a.key)===i||(a?((x=a.filter)==null||x.remove(),a.key=i,a.url="none",a.filter=null):(a={key:i,url:"none",filter:null},m(this,nt,jg).set(s,a)),!t||!n))return a.url;const o=re(this,nt,Ig).call(this,t);t=ut.makeHexColor(...o);const l=re(this,nt,Ig).call(this,n);if(n=ut.makeHexColor(...l),m(this,nt,sf).style.color="",t==="#000000"&&n==="#ffffff"||t===n)return a.url;const u=new Array(256);for(let v=0;v<=255;v++){const b=v/255;u[v]=b<=.03928?b/12.92:((b+.055)/1.055)**2.4}const h=u.join(","),f=`g_${m(this,dl)}_hcm_filter`,p=a.filter=re(this,nt,of).call(this,f);re(this,nt,Lg).call(this,h,h,h,p),re(this,nt,d_).call(this,p);const d=(v,b)=>{const y=o[v]/255,w=l[v]/255,A=new Array(b+1);for(let k=0;k<=b;k++)A[k]=y+k/b*(w-y);return A.join(",")};return re(this,nt,Lg).call(this,d(0,5),d(1,5),d(2,5),p),a.url=re(this,nt,af).call(this,f),a.url}addAlphaFilter(t){let n=m(this,nt,ri).get(t);if(n)return n;const[i]=re(this,nt,rx).call(this,[t]),s=`alpha_${i}`;if(n=m(this,nt,ri).get(s),n)return m(this,nt,ri).set(t,n),n;const a=`g_${m(this,dl)}_alpha_map_${wi(this,xh)._++}`,o=re(this,nt,af).call(this,a);m(this,nt,ri).set(t,o),m(this,nt,ri).set(s,o);const l=re(this,nt,of).call(this,a);return re(this,nt,f_).call(this,i,l),o}addLuminosityFilter(t){let n=m(this,nt,ri).get(t||"luminosity");if(n)return n;let i,s;if(t?([i]=re(this,nt,rx).call(this,[t]),s=`luminosity_${i}`):s="luminosity",n=m(this,nt,ri).get(s),n)return m(this,nt,ri).set(t,n),n;const a=`g_${m(this,dl)}_luminosity_map_${wi(this,xh)._++}`,o=re(this,nt,af).call(this,a);m(this,nt,ri).set(t,o),m(this,nt,ri).set(s,o);const l=re(this,nt,of).call(this,a);return re(this,nt,bL).call(this,l),t&&re(this,nt,f_).call(this,i,l),o}addHighlightHCMFilter(t,n,i,s,a){var w;const o=`${n}-${i}-${s}-${a}`;let l=m(this,nt,jg).get(t);if((l==null?void 0:l.key)===o||(l?((w=l.filter)==null||w.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},m(this,nt,jg).set(t,l)),!n||!i))return l.url;const[u,h]=[n,i].map(re(this,nt,Ig).bind(this));let f=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),p=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[d,x]=[s,a].map(re(this,nt,Ig).bind(this));p<f&&([f,p,d,x]=[p,f,x,d]),m(this,nt,sf).style.color="";const v=(A,k,M)=>{const $=new Array(256),H=(p-f)/M,q=A/255,D=(k-A)/(255*M);let se=0;for(let z=0;z<=M;z++){const R=Math.round(f+z*H),V=q+z*D;for(let T=se;T<=R;T++)$[T]=V;se=R+1}for(let z=se;z<256;z++)$[z]=$[se-1];return $.join(",")},b=`g_${m(this,dl)}_hcm_${t}_filter`,y=l.filter=re(this,nt,of).call(this,b);return re(this,nt,d_).call(this,y),re(this,nt,Lg).call(this,v(d[0],x[0],5),v(d[1],x[1],5),v(d[2],x[2],5),y),l.url=re(this,nt,af).call(this,b),l.url}destroy(t=!1){var n,i,s,a;t&&((n=m(this,vh))!=null&&n.size)||((i=m(this,hl))==null||i.parentNode.parentNode.remove(),W(this,hl,null),(s=m(this,hp))==null||s.clear(),W(this,hp,null),(a=m(this,vh))==null||a.clear(),W(this,vh,null),W(this,xh,0))}}yh=new WeakMap,hp=new WeakMap,hl=new WeakMap,dl=new WeakMap,si=new WeakMap,vh=new WeakMap,xh=new WeakMap,nt=new WeakSet,ri=function(){return m(this,hp)||W(this,hp,new Map)},jg=function(){return m(this,vh)||W(this,vh,new Map)},sf=function(){if(!m(this,hl)){const t=m(this,si).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const i=m(this,si).createElementNS(Qo,"svg");i.setAttribute("width",0),i.setAttribute("height",0),W(this,hl,m(this,si).createElementNS(Qo,"defs")),t.append(i),i.append(m(this,hl)),m(this,si).body.append(t)}return m(this,hl)},rx=function(t){if(t.length===1){const u=t[0],h=new Array(256);for(let p=0;p<256;p++)h[p]=u[p]/255;const f=h.join(",");return[f,f,f]}const[n,i,s]=t,a=new Array(256),o=new Array(256),l=new Array(256);for(let u=0;u<256;u++)a[u]=n[u]/255,o[u]=i[u]/255,l[u]=s[u]/255;return[a.join(","),o.join(","),l.join(",")]},af=function(t){if(m(this,yh)===void 0){W(this,yh,"");const n=m(this,si).URL;n!==m(this,si).baseURI&&(ib(n)?Pt('#createUrl: ignore "data:"-URL for performance reasons.'):W(this,yh,n.split("#",1)[0]))}return`url(${m(this,yh)}#${t})`},bL=function(t){const n=m(this,si).createElementNS(Qo,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(n)},d_=function(t){const n=m(this,si).createElementNS(Qo,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(n)},of=function(t){const n=m(this,si).createElementNS(Qo,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",t),m(this,nt,sf).append(n),n},Pg=function(t,n,i){const s=m(this,si).createElementNS(Qo,n);s.setAttribute("type","discrete"),s.setAttribute("tableValues",i),t.append(s)},Lg=function(t,n,i,s){const a=m(this,si).createElementNS(Qo,"feComponentTransfer");s.append(a),re(this,nt,Pg).call(this,a,"feFuncR",t),re(this,nt,Pg).call(this,a,"feFuncG",n),re(this,nt,Pg).call(this,a,"feFuncB",i)},f_=function(t,n){const i=m(this,si).createElementNS(Qo,"feComponentTransfer");n.append(i),re(this,nt,Pg).call(this,i,"feFuncA",t)},Ig=function(t){return m(this,nt,sf).style.color=t,LN(getComputedStyle(m(this,nt,sf)).getPropertyValue("color"))};class AL{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(n=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){fr("Abstract method `_fetch` called.")}}class _L extends AL{async _fetch(e){const t=await nb(e,"arraybuffer");return new Uint8Array(t)}}hi&&Pt("Please use the `legacy` build in Node.js environments.");async function SL(r){const t=await process.getBuiltinModule("fs").promises.readFile(r);return new Uint8Array(t)}class NM extends wL{}class EM extends yL{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class kM extends vL{async _fetch(e){return SL(e)}}class CM extends AL{async _fetch(e){return SL(e)}}const ci={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function p_(r,e){if(!e)return;const t=e[2]-e[0],n=e[3]-e[1],i=new Path2D;i.rect(e[0],e[1],t,n),r.clip(i)}class RN{getPattern(){fr("Abstract method `getPattern` called.")}}class TM extends RN{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,i){let s;if(i===ci.STROKE||i===ci.FILL){const a=t.current.getClippedPathBoundingBox(i,Er(e))||[0,0,0,0],o=Math.ceil(a[2]-a[0])||1,l=Math.ceil(a[3]-a[1])||1,u=t.cachedCanvases.getCanvas("pattern",o,l),h=u.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-a[0],-a[1]),n=ut.transform(n,[1,0,0,1,a[0],a[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),p_(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=e.createPattern(u.canvas,"no-repeat");const f=new DOMMatrix(n);s.setTransform(f)}else p_(e,this._bbox),s=this._createGradient(e);return s}}function O2(r,e,t,n,i,s,a,o){const l=e.coords,u=e.colors,h=r.data,f=r.width*4;let p;l[t+1]>l[n+1]&&(p=t,t=n,n=p,p=s,s=a,a=p),l[n+1]>l[i+1]&&(p=n,n=i,i=p,p=a,a=o,o=p),l[t+1]>l[n+1]&&(p=t,t=n,n=p,p=s,s=a,a=p);const d=(l[t]+e.offsetX)*e.scaleX,x=(l[t+1]+e.offsetY)*e.scaleY,v=(l[n]+e.offsetX)*e.scaleX,b=(l[n+1]+e.offsetY)*e.scaleY,y=(l[i]+e.offsetX)*e.scaleX,w=(l[i+1]+e.offsetY)*e.scaleY;if(x>=w)return;const A=u[s],k=u[s+1],M=u[s+2],$=u[a],H=u[a+1],q=u[a+2],D=u[o],se=u[o+1],z=u[o+2],R=Math.round(x),V=Math.round(w);let T,K,he,le,me,pe,be,ge;for(let C=R;C<=V;C++){if(C<b){const L=C<x?0:(x-C)/(x-b);T=d-(d-v)*L,K=A-(A-$)*L,he=k-(k-H)*L,le=M-(M-q)*L}else{let L;C>w?L=1:b===w?L=0:L=(b-C)/(b-w),T=v-(v-y)*L,K=$-($-D)*L,he=H-(H-se)*L,le=q-(q-z)*L}let B;C<x?B=0:C>w?B=1:B=(x-C)/(x-w),me=d-(d-y)*B,pe=A-(A-D)*B,be=k-(k-se)*B,ge=M-(M-z)*B;const G=Math.round(Math.min(T,me)),ae=Math.round(Math.max(T,me));let J=f*C+G*4;for(let L=G;L<=ae;L++)B=(T-L)/(T-me),B<0?B=0:B>1&&(B=1),h[J++]=K-(K-pe)*B|0,h[J++]=he-(he-be)*B|0,h[J++]=le-(le-ge)*B|0,h[J++]=255}}function jM(r,e,t){const n=e.coords,i=e.colors;let s,a;switch(e.type){case"lattice":const o=e.verticesPerRow,l=Math.floor(n.length/o)-1,u=o-1;for(s=0;s<l;s++){let h=s*o;for(let f=0;f<u;f++,h++)O2(r,t,n[h],n[h+1],n[h+o],i[h],i[h+1],i[h+o]),O2(r,t,n[h+o+1],n[h+1],n[h+o],i[h+o+1],i[h+1],i[h+o])}break;case"triangles":for(s=0,a=n.length;s<a;s+=3)O2(r,t,n[s],n[s+1],n[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class PM extends RN{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const o=Math.floor(this._bounds[0]),l=Math.floor(this._bounds[1]),u=Math.ceil(this._bounds[2])-o,h=Math.ceil(this._bounds[3])-l,f=Math.min(Math.ceil(Math.abs(u*e[0]*1.1)),3e3),p=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),d=u/f,x=h/p,v={coords:this._coords,colors:this._colors,offsetX:-o,offsetY:-l,scaleX:1/d,scaleY:1/x},b=f+2*2,y=p+2*2,w=n.getCanvas("mesh",b,y),A=w.context,k=A.createImageData(f,p);if(t){const $=k.data;for(let H=0,q=$.length;H<q;H+=4)$[H]=t[0],$[H+1]=t[1],$[H+2]=t[2],$[H+3]=255}for(const $ of this._figures)jM(k,$,v);return A.putImageData(k,2,2),{canvas:w.canvas,offsetX:o-2*d,offsetY:l-2*x,scaleX:d,scaleY:x}}getPattern(e,t,n,i){p_(e,this._bbox);let s;if(i===ci.SHADING)s=ut.singularValueDecompose2dScale(Er(e));else if(s=ut.singularValueDecompose2dScale(t.baseTransform),this.matrix){const o=ut.singularValueDecompose2dScale(this.matrix);s=[s[0]*o[0],s[1]*o[1]]}const a=this._createMeshCanvas(s,i===ci.SHADING?null:this._background,t.cachedCanvases);return i!==ci.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(a.offsetX,a.offsetY),e.scale(a.scaleX,a.scaleY),e.createPattern(a.canvas,"no-repeat")}}class LM extends RN{getPattern(){return"hotpink"}}function IM(r){switch(r[0]){case"RadialAxial":return new TM(r);case"Mesh":return new PM(r);case"Dummy":return new LM}throw new Error(`Unknown IR type: ${r[0]}`)}const pk={COLORED:1,UNCOLORED:2},Aw=class Aw{constructor(e,t,n,i,s){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=i,this.baseTransform=s}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:i,tilingType:s,color:a,canvasGraphicsFactory:o}=this;let{xstep:l,ystep:u}=this;l=Math.abs(l),u=Math.abs(u),tb("TilingType: "+s);const h=t[0],f=t[1],p=t[2],d=t[3],x=p-h,v=d-f,b=ut.singularValueDecompose2dScale(this.matrix),y=ut.singularValueDecompose2dScale(this.baseTransform),w=b[0]*y[0],A=b[1]*y[1];let k=x,M=v,$=!1,H=!1;const q=Math.ceil(l*w),D=Math.ceil(u*A),se=Math.ceil(x*w),z=Math.ceil(v*A);q>=se?k=l:$=!0,D>=z?M=u:H=!0;const R=this.getSizeAndScale(k,this.ctx.canvas.width,w),V=this.getSizeAndScale(M,this.ctx.canvas.height,A),T=e.cachedCanvases.getCanvas("pattern",R.size,V.size),K=T.context,he=o.createCanvasGraphics(K);if(he.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(he,i,a),K.translate(-R.scale*h,-V.scale*f),he.transform(R.scale,0,0,V.scale,0,0),K.save(),this.clipBbox(he,h,f,p,d),he.baseTransform=Er(he.ctx),he.executeOperatorList(n),he.endDrawing(),K.restore(),$||H){const le=T.canvas;$&&(k=l),H&&(M=u);const me=this.getSizeAndScale(k,this.ctx.canvas.width,w),pe=this.getSizeAndScale(M,this.ctx.canvas.height,A),be=me.size,ge=pe.size,C=e.cachedCanvases.getCanvas("pattern-workaround",be,ge),B=C.context,G=$?Math.floor(x/l):0,ae=H?Math.floor(v/u):0;for(let J=0;J<=G;J++)for(let L=0;L<=ae;L++)B.drawImage(le,be*J,ge*L,be,ge,0,0,be,ge);return{canvas:C.canvas,scaleX:me.scale,scaleY:pe.scale,offsetX:h,offsetY:f}}return{canvas:T.canvas,scaleX:R.scale,scaleY:V.scale,offsetX:h,offsetY:f}}getSizeAndScale(e,t,n){const i=Math.max(Aw.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*n);return s>=i?s=i:n=s/e,{scale:n,size:s}}clipBbox(e,t,n,i,s){const a=i-t,o=s-n;e.ctx.rect(t,n,a,o),e.current.updateRectMinMax(Er(e.ctx),[t,n,i,s]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const i=e.ctx,s=e.current;switch(t){case pk.COLORED:const a=this.ctx;i.fillStyle=a.fillStyle,i.strokeStyle=a.strokeStyle,s.fillColor=a.fillStyle,s.strokeColor=a.strokeStyle;break;case pk.UNCOLORED:const o=ut.makeHexColor(n[0],n[1],n[2]);i.fillStyle=o,i.strokeStyle=o,s.fillColor=o,s.strokeColor=o;break;default:throw new sM(`Unsupported paint type: ${t}`)}}getPattern(e,t,n,i){let s=n;i!==ci.SHADING&&(s=ut.transform(s,t.baseTransform),this.matrix&&(s=ut.transform(s,this.matrix)));const a=this.createPatternCanvas(t);let o=new DOMMatrix(s);o=o.translate(a.offsetX,a.offsetY),o=o.scale(1/a.scaleX,1/a.scaleY);const l=e.createPattern(a.canvas,"repeat");return l.setTransform(o),l}};dt(Aw,"MAX_PATTERN_SIZE",3e3);let m_=Aw;function RM({src:r,srcPos:e=0,dest:t,width:n,height:i,nonBlackColor:s=4294967295,inverseDecode:a=!1}){const o=Ci.isLittleEndian?4278190080:255,[l,u]=a?[s,o]:[o,s],h=n>>3,f=n&7,p=r.length;t=new Uint32Array(t.buffer);let d=0;for(let x=0;x<i;x++){for(const b=e+h;e<b;e++){const y=e<p?r[e]:255;t[d++]=y&128?u:l,t[d++]=y&64?u:l,t[d++]=y&32?u:l,t[d++]=y&16?u:l,t[d++]=y&8?u:l,t[d++]=y&4?u:l,t[d++]=y&2?u:l,t[d++]=y&1?u:l}if(f===0)continue;const v=e<p?r[e++]:255;for(let b=0;b<f;b++)t[d++]=v&1<<7-b?u:l}return{srcPos:e,destPos:d}}const mk=16,gk=100,FM=15,yk=10,vk=1e3,Gi=16;function DM(r,e){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){e.save(),this.__originalSave()},r.restore=function(){e.restore(),this.__originalRestore()},r.translate=function(n,i){e.translate(n,i),this.__originalTranslate(n,i)},r.scale=function(n,i){e.scale(n,i),this.__originalScale(n,i)},r.transform=function(n,i,s,a,o,l){e.transform(n,i,s,a,o,l),this.__originalTransform(n,i,s,a,o,l)},r.setTransform=function(n,i,s,a,o,l){e.setTransform(n,i,s,a,o,l),this.__originalSetTransform(n,i,s,a,o,l)},r.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},r.rotate=function(n){e.rotate(n),this.__originalRotate(n)},r.clip=function(n){e.clip(n),this.__originalClip(n)},r.moveTo=function(t,n){e.moveTo(t,n),this.__originalMoveTo(t,n)},r.lineTo=function(t,n){e.lineTo(t,n),this.__originalLineTo(t,n)},r.bezierCurveTo=function(t,n,i,s,a,o){e.bezierCurveTo(t,n,i,s,a,o),this.__originalBezierCurveTo(t,n,i,s,a,o)},r.rect=function(t,n,i,s){e.rect(t,n,i,s),this.__originalRect(t,n,i,s)},r.closePath=function(){e.closePath(),this.__originalClosePath()},r.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class MM{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let i;return this.cache[e]!==void 0?(i=this.cache[e],this.canvasFactory.reset(i,t,n)):(i=this.canvasFactory.create(t,n),this.cache[e]=i),i}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function vv(r,e,t,n,i,s,a,o,l,u){const[h,f,p,d,x,v]=Er(r);if(f===0&&p===0){const w=a*h+x,A=Math.round(w),k=o*d+v,M=Math.round(k),$=(a+l)*h+x,H=Math.abs(Math.round($)-A)||1,q=(o+u)*d+v,D=Math.abs(Math.round(q)-M)||1;return r.setTransform(Math.sign(h),0,0,Math.sign(d),A,M),r.drawImage(e,t,n,i,s,0,0,H,D),r.setTransform(h,f,p,d,x,v),[H,D]}if(h===0&&d===0){const w=o*p+x,A=Math.round(w),k=a*f+v,M=Math.round(k),$=(o+u)*p+x,H=Math.abs(Math.round($)-A)||1,q=(a+l)*f+v,D=Math.abs(Math.round(q)-M)||1;return r.setTransform(0,Math.sign(f),Math.sign(p),0,A,M),r.drawImage(e,t,n,i,s,0,0,D,H),r.setTransform(h,f,p,d,x,v),[D,H]}r.drawImage(e,t,n,i,s,a,o,l,u);const b=Math.hypot(h,f),y=Math.hypot(p,d);return[b*l,y*u]}function OM(r){const{width:e,height:t}=r;if(e>vk||t>vk)return null;const n=1e3,i=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),s=e+1;let a=new Uint8Array(s*(t+1)),o,l,u;const h=e+7&-8;let f=new Uint8Array(h*t),p=0;for(const y of r.data){let w=128;for(;w>0;)f[p++]=y&w?0:255,w>>=1}let d=0;for(p=0,f[p]!==0&&(a[0]=1,++d),l=1;l<e;l++)f[p]!==f[p+1]&&(a[l]=f[p]?2:1,++d),p++;for(f[p]!==0&&(a[l]=2,++d),o=1;o<t;o++){p=o*h,u=o*s,f[p-h]!==f[p]&&(a[u]=f[p]?1:8,++d);let y=(f[p]?4:0)+(f[p-h]?8:0);for(l=1;l<e;l++)y=(y>>2)+(f[p+1]?4:0)+(f[p-h+1]?8:0),i[y]&&(a[u+l]=i[y],++d),p++;if(f[p-h]!==f[p]&&(a[u+l]=f[p]?2:4,++d),d>n)return null}for(p=h*(t-1),u=o*s,f[p]!==0&&(a[u]=8,++d),l=1;l<e;l++)f[p]!==f[p+1]&&(a[u+l]=f[p]?4:8,++d),p++;if(f[p]!==0&&(a[u+l]=4,++d),d>n)return null;const x=new Int32Array([0,s,-1,0,-s,0,0,0,1]),v=new Path2D;for(o=0;d&&o<=t;o++){let y=o*s;const w=y+e;for(;y<w&&!a[y];)y++;if(y===w)continue;v.moveTo(y%s,o);const A=y;let k=a[y];do{const M=x[k];do y+=M;while(!a[y]);const $=a[y];$!==5&&$!==10?(k=$,a[y]=0):(k=$&51*k>>4,a[y]&=k>>2|k<<2),v.lineTo(y%s,y/s|0),a[y]||--d}while(A!==y);--o}return f=null,a=null,function(y){y.save(),y.scale(1/e,-1/t),y.translate(0,-t),y.fill(v),y.beginPath(),y.restore()}}class xk{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=RP,this.textMatrixScale=1,this.fontMatrix=qA,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=ti.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.patternStroke=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=ut.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=ut.applyTransform(t,e),i=ut.applyTransform(t.slice(2),e),s=ut.applyTransform([t[0],t[3]],e),a=ut.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],i[0],s[0],a[0]),this.minY=Math.min(this.minY,n[1],i[1],s[1],a[1]),this.maxX=Math.max(this.maxX,n[0],i[0],s[0],a[0]),this.maxY=Math.max(this.maxY,n[1],i[1],s[1],a[1])}updateScalingPathMinMax(e,t){ut.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,i,s,a,o,l,u,h){const f=ut.bezierBoundingBox(t,n,i,s,a,o,l,u,h);h||this.updateRectMinMax(e,f)}getPathBoundingBox(e=ci.FILL,t=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===ci.STROKE){t||fr("Stroke bounding box must include transform.");const i=ut.singularValueDecompose2dScale(t),s=i[0]*this.lineWidth/2,a=i[1]*this.lineWidth/2;n[0]-=s,n[1]-=a,n[2]+=s,n[3]+=a}return n}updateClipFromPath(){const e=ut.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(e=ci.FILL,t=null){return ut.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function wk(r,e){if(e instanceof ImageData){r.putImageData(e,0,0);return}const t=e.height,n=e.width,i=t%Gi,s=(t-i)/Gi,a=i===0?s:s+1,o=r.createImageData(n,Gi);let l=0,u;const h=e.data,f=o.data;let p,d,x,v;if(e.kind===Gv.GRAYSCALE_1BPP){const b=h.byteLength,y=new Uint32Array(f.buffer,0,f.byteLength>>2),w=y.length,A=n+7>>3,k=4294967295,M=Ci.isLittleEndian?4278190080:255;for(p=0;p<a;p++){for(x=p<s?Gi:i,u=0,d=0;d<x;d++){const $=b-l;let H=0;const q=$>A?n:$*8-7,D=q&-8;let se=0,z=0;for(;H<D;H+=8)z=h[l++],y[u++]=z&128?k:M,y[u++]=z&64?k:M,y[u++]=z&32?k:M,y[u++]=z&16?k:M,y[u++]=z&8?k:M,y[u++]=z&4?k:M,y[u++]=z&2?k:M,y[u++]=z&1?k:M;for(;H<q;H++)se===0&&(z=h[l++],se=128),y[u++]=z&se?k:M,se>>=1}for(;u<w;)y[u++]=0;r.putImageData(o,0,p*Gi)}}else if(e.kind===Gv.RGBA_32BPP){for(d=0,v=n*Gi*4,p=0;p<s;p++)f.set(h.subarray(l,l+v)),l+=v,r.putImageData(o,0,d),d+=Gi;p<a&&(v=n*i*4,f.set(h.subarray(l,l+v)),r.putImageData(o,0,d))}else if(e.kind===Gv.RGB_24BPP)for(x=Gi,v=n*x,p=0;p<a;p++){for(p>=s&&(x=i,v=n*x),u=0,d=v;d--;)f[u++]=h[l++],f[u++]=h[l++],f[u++]=h[l++],f[u++]=255;r.putImageData(o,0,p*Gi)}else throw new Error(`bad image kind: ${e.kind}`)}function bk(r,e){if(e.bitmap){r.drawImage(e.bitmap,0,0);return}const t=e.height,n=e.width,i=t%Gi,s=(t-i)/Gi,a=i===0?s:s+1,o=r.createImageData(n,Gi);let l=0;const u=e.data,h=o.data;for(let f=0;f<a;f++){const p=f<s?Gi:i;({srcPos:l}=RM({src:u,srcPos:l,dest:h,width:n,height:p,nonBlackColor:0})),r.putImageData(o,0,f*Gi)}}function dg(r,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of t)r[n]!==void 0&&(e[n]=r[n]);r.setLineDash!==void 0&&(e.setLineDash(r.getLineDash()),e.lineDashOffset=r.lineDashOffset)}function xv(r){if(r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0),!hi){const{filter:e}=r;e!=="none"&&e!==""&&(r.filter="none")}}function Ak(r,e){if(e)return!0;const t=ut.singularValueDecompose2dScale(r);t[0]=Math.fround(t[0]),t[1]=Math.fround(t[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*hu.PDF_TO_CSS_UNITS);return t[0]<=n&&t[1]<=n}const BM=["butt","round","square"],UM=["miter","round","bevel"],zM={},_k={};var qa,g_,y_,v_;const oE=class oE{constructor(e,t,n,i,s,{optionalContentConfig:a,markedContentStack:o=null},l,u){ee(this,qa);this.ctx=e,this.current=new xk(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=i,this.filterFactory=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=o||[],this.optionalContentConfig=a,this.cachedCanvases=new MM(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=l,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=u,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e,t=null){return typeof e=="string"?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing({transform:e,viewport:t,transparency:n=!1,background:i=null}){const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,n){const l=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=l.canvas,this.ctx=l.context,this.ctx.save(),this.ctx.transform(...Er(this.compositeCtx))}this.ctx.save(),xv(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=Er(this.ctx)}executeOperatorList(e,t,n,i){const s=e.argsArray,a=e.fnArray;let o=t||0;const l=s.length;if(l===o)return o;const u=l-o>yk&&typeof n=="function",h=u?Date.now()+FM:0;let f=0;const p=this.commonObjs,d=this.objs;let x;for(;;){if(i!==void 0&&o===i.nextBreakPoint)return i.breakIt(o,n),o;if(x=a[o],x!==wa.dependency)this[x].apply(this,s[o]);else for(const v of s[o]){const b=v.startsWith("g_")?p:d;if(!b.has(v))return b.get(v,n),o}if(o++,o===l)return o;if(u&&++f>yk){if(Date.now()>h)return n(),o;f=0}}}endDrawing(){re(this,qa,g_).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),re(this,qa,y_).call(this)}_scaleImage(e,t){const n=e.width??e.displayWidth,i=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),a=Math.max(Math.hypot(t[2],t[3]),1),o=n,l=i,u="prescale1",h,f;for(;s>2&&o>1||a>2&&l>1;){let p=o,d=l;s>2&&o>1&&(p=o>=16384?Math.floor(o/2)-1||1:Math.ceil(o/2),s/=o/p),a>2&&l>1&&(d=l>=16384?Math.floor(l/2)-1||1:Math.ceil(l)/2,a/=l/d),h=this.cachedCanvases.getCanvas(u,p,d),f=h.context,f.clearRect(0,0,p,d),f.drawImage(e,0,0,o,l,0,0,p,d),e=h.canvas,o=p,l=d,u=u==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:o,paintHeight:l}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:i}=e,s=this.current.fillColor,a=this.current.patternFill,o=Er(t);let l,u,h,f;if((e.bitmap||e.data)&&e.count>1){const q=e.bitmap||e.data.buffer;u=JSON.stringify(a?o:[o.slice(0,4),s]),l=this._cachedBitmapsMap.get(q),l||(l=new Map,this._cachedBitmapsMap.set(q,l));const D=l.get(u);if(D&&!a){const se=Math.round(Math.min(o[0],o[2])+o[4]),z=Math.round(Math.min(o[1],o[3])+o[5]);return{canvas:D,offsetX:se,offsetY:z}}h=D}h||(f=this.cachedCanvases.getCanvas("maskCanvas",n,i),bk(f.context,e));let p=ut.transform(o,[1/n,0,0,-1/i,0,0]);p=ut.transform(p,[1,0,0,1,0,-i]);const[d,x,v,b]=ut.getAxialAlignedBoundingBox([0,0,n,i],p),y=Math.round(v-d)||1,w=Math.round(b-x)||1,A=this.cachedCanvases.getCanvas("fillCanvas",y,w),k=A.context,M=d,$=x;k.translate(-M,-$),k.transform(...p),h||(h=this._scaleImage(f.canvas,ro(k)),h=h.img,l&&a&&l.set(u,h)),k.imageSmoothingEnabled=Ak(Er(k),e.interpolate),vv(k,h,0,0,h.width,h.height,0,0,n,i),k.globalCompositeOperation="source-in";const H=ut.transform(ro(k),[1,0,0,1,-M,-$]);return k.fillStyle=a?s.getPattern(t,this,H,ci.FILL):s,k.fillRect(0,0,n,i),l&&!a&&(this.cachedCanvases.delete("fillCanvas"),l.set(u,A.canvas)),{canvas:A.canvas,offsetX:Math.round(M),offsetY:Math.round($)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=BM[e]}setLineJoin(e){this.ctx.lineJoin=UM[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,i=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=i.context;const s=this.ctx;s.setTransform(...Er(this.suspendedCtx)),dg(this.suspendedCtx,s),DM(s,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),dg(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,i){const s=i[0],a=i[1],o=i[2]-s,l=i[3]-a;o===0||l===0||(this.genericComposeSMask(t.context,n,o,l,t.subtype,t.backdrop,t.transferMap,s,a,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,i,s,a,o,l,u,h,f){let p=e.canvas,d=l-h,x=u-f;if(a){const b=ut.makeHexColor(...a);if(d<0||x<0||d+n>p.width||x+i>p.height){const y=this.cachedCanvases.getCanvas("maskExtension",n,i),w=y.context;w.drawImage(p,-d,-x),w.globalCompositeOperation="destination-atop",w.fillStyle=b,w.fillRect(0,0,n,i),w.globalCompositeOperation="source-over",p=y.canvas,d=x=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const y=new Path2D;y.rect(d,x,n,i),e.clip(y),e.globalCompositeOperation="destination-atop",e.fillStyle=b,e.fillRect(d,x,n,i),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&o?t.filter=this.filterFactory.addAlphaFilter(o):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(o));const v=new Path2D;v.rect(l,u,n,i),t.clip(v),t.globalCompositeOperation="destination-in",t.drawImage(p,d,x,n,i,l,u,n,i),t.restore()}save(){this.inSMaskMode?(dg(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),dg(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,i,s,a){this.ctx.transform(e,t,n,i,s,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const i=this.ctx,s=this.current;let a=s.x,o=s.y,l,u;const h=Er(i),f=h[0]===0&&h[3]===0||h[1]===0&&h[2]===0,p=f?n.slice(0):null;for(let d=0,x=0,v=e.length;d<v;d++)switch(e[d]|0){case wa.rectangle:a=t[x++],o=t[x++];const b=t[x++],y=t[x++],w=a+b,A=o+y;i.moveTo(a,o),b===0||y===0?i.lineTo(w,A):(i.lineTo(w,o),i.lineTo(w,A),i.lineTo(a,A)),f||s.updateRectMinMax(h,[a,o,w,A]),i.closePath();break;case wa.moveTo:a=t[x++],o=t[x++],i.moveTo(a,o),f||s.updatePathMinMax(h,a,o);break;case wa.lineTo:a=t[x++],o=t[x++],i.lineTo(a,o),f||s.updatePathMinMax(h,a,o);break;case wa.curveTo:l=a,u=o,a=t[x+4],o=t[x+5],i.bezierCurveTo(t[x],t[x+1],t[x+2],t[x+3],a,o),s.updateCurvePathMinMax(h,l,u,t[x],t[x+1],t[x+2],t[x+3],a,o,p),x+=6;break;case wa.curveTo2:l=a,u=o,i.bezierCurveTo(a,o,t[x],t[x+1],t[x+2],t[x+3]),s.updateCurvePathMinMax(h,l,u,a,o,t[x],t[x+1],t[x+2],t[x+3],p),a=t[x+2],o=t[x+3],x+=4;break;case wa.curveTo3:l=a,u=o,a=t[x+2],o=t[x+3],i.bezierCurveTo(t[x],t[x+1],a,o,a,o),s.updateCurvePathMinMax(h,l,u,t[x],t[x+1],a,o,a,o,p),x+=4;break;case wa.closePath:i.closePath();break}f&&s.updateScalingPathMinMax(h,p),s.setCurrentPoint(a,o)}closePath(){this.ctx.closePath()}stroke(e=!0){const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(t.save(),t.strokeStyle=n.getPattern(t,this,ro(t),ci.STROKE),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(e=!0){const t=this.ctx,n=this.current.fillColor,i=this.current.patternFill;let s=!1;i&&(t.save(),t.fillStyle=n.getPattern(t,this,ro(t),ci.FILL),s=!0);const a=this.current.getClippedPathBoundingBox();this.contentVisible&&a!==null&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),s&&t.restore(),e&&this.consumePath(a)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=zM}eoClip(){this.pendingClip=_k}beginText(){this.current.textMatrix=RP,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(e===void 0){t.beginPath();return}const n=new Path2D,i=t.getTransform().invertSelf();for(const{transform:s,x:a,y:o,fontSize:l,path:u}of e)n.addPath(u,new DOMMatrix(s).preMultiplySelf(i).translate(a,o).scale(l,-l));t.clip(n),t.beginPath(),delete this.pendingTextPaths}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var h;const n=this.commonObjs.get(e),i=this.current;if(!n)throw new Error(`Can't find font for ${e}`);if(i.fontMatrix=n.fontMatrix||qA,(i.fontMatrix[0]===0||i.fontMatrix[3]===0)&&Pt("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=n,this.current.fontSize=t,n.isType3Font)return;const s=n.loadedName||"sans-serif",a=((h=n.systemFontInfo)==null?void 0:h.css)||`"${s}", ${n.fallbackName}`;let o="normal";n.black?o="900":n.bold&&(o="bold");const l=n.italic?"italic":"normal";let u=t;t<mk?u=mk:t>gk&&(u=gk),this.current.fontSizeScale=t/u,this.ctx.font=`${l} ${o} ${u}px ${a}`}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,i,s,a){this.current.textMatrix=[e,t,n,i,s,a],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,i,s){const a=this.ctx,o=this.current,l=o.font,u=o.textRenderingMode,h=o.fontSize/o.fontSizeScale,f=u&ti.FILL_STROKE_MASK,p=!!(u&ti.ADD_TO_PATH_FLAG),d=o.patternFill&&!l.missingFile,x=o.patternStroke&&!l.missingFile;let v;if((l.disableFontFace||p||d||x)&&(v=l.getPathGenerator(this.commonObjs,e)),l.disableFontFace||d||x){if(a.save(),a.translate(t,n),a.scale(h,-h),f===ti.FILL||f===ti.FILL_STROKE)if(i){const b=a.getTransform();a.setTransform(...i),a.fill(re(this,qa,v_).call(this,v,b,i))}else a.fill(v);if(f===ti.STROKE||f===ti.FILL_STROKE)if(s){const b=a.getTransform();a.setTransform(...s),a.stroke(re(this,qa,v_).call(this,v,b,s))}else a.lineWidth/=h,a.stroke(v);a.restore()}else(f===ti.FILL||f===ti.FILL_STROKE)&&a.fillText(e,t,n),(f===ti.STROKE||f===ti.FILL_STROKE)&&a.strokeText(e,t,n);p&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Er(a),x:t,y:n,fontSize:h,path:v})}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let i=3;i<t.length;i+=4)if(t[i]>0&&t[i]<255){n=!0;break}return Ft(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const i=t.fontSize;if(i===0)return;const s=this.ctx,a=t.fontSizeScale,o=t.charSpacing,l=t.wordSpacing,u=t.fontDirection,h=t.textHScale*u,f=e.length,p=n.vertical,d=p?1:-1,x=n.defaultVMetrics,v=i*t.fontMatrix[0],b=t.textRenderingMode===ti.FILL&&!n.disableFontFace&&!t.patternFill;s.save(),s.transform(...t.textMatrix),s.translate(t.x,t.y+t.textRise),u>0?s.scale(h,-1):s.scale(h,1);let y,w;if(t.patternFill){s.save();const H=t.fillColor.getPattern(s,this,ro(s),ci.FILL);y=Er(s),s.restore(),s.fillStyle=H}if(t.patternStroke){s.save();const H=t.strokeColor.getPattern(s,this,ro(s),ci.STROKE);w=Er(s),s.restore(),s.strokeStyle=H}let A=t.lineWidth;const k=t.textMatrixScale;if(k===0||A===0){const H=t.textRenderingMode&ti.FILL_STROKE_MASK;(H===ti.STROKE||H===ti.FILL_STROKE)&&(A=this.getSinglePixelWidth())}else A/=k;if(a!==1&&(s.scale(a,a),A/=a),s.lineWidth=A,n.isInvalidPDFjsFont){const H=[];let q=0;for(const D of e)H.push(D.unicode),q+=D.width;s.fillText(H.join(""),0,0),t.x+=q*v*h,s.restore(),this.compose();return}let M=0,$;for($=0;$<f;++$){const H=e[$];if(typeof H=="number"){M+=d*H*i/1e3;continue}let q=!1;const D=(H.isSpace?l:0)+o,se=H.fontChar,z=H.accent;let R,V,T=H.width;if(p){const he=H.vmetric||x,le=-(H.vmetric?he[1]:T*.5)*v,me=he[2]*v;T=he?-he[0]:T,R=le/a,V=(M+me)/a}else R=M/a,V=0;if(n.remeasure&&T>0){const he=s.measureText(se).width*1e3/i*a;if(T<he&&this.isFontSubpixelAAEnabled){const le=T/he;q=!0,s.save(),s.scale(le,1),R/=le}else T!==he&&(R+=(T-he)/2e3*i/a)}if(this.contentVisible&&(H.isInFont||n.missingFile)){if(b&&!z)s.fillText(se,R,V);else if(this.paintChar(se,R,V,y,w),z){const he=R+i*z.offset.x/a,le=V-i*z.offset.y/a;this.paintChar(z.fontChar,he,le,y,w)}}const K=p?T*v-D*u:T*v+D*u;M+=K,q&&s.restore()}p?t.y-=M:t.x+=M*h,s.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,i=n.font,s=n.fontSize,a=n.fontDirection,o=i.vertical?1:-1,l=n.charSpacing,u=n.wordSpacing,h=n.textHScale*a,f=n.fontMatrix||qA,p=e.length,d=n.textRenderingMode===ti.INVISIBLE;let x,v,b,y;if(!(d||s===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(h,a),x=0;x<p;++x){if(v=e[x],typeof v=="number"){y=o*v*s/1e3,this.ctx.translate(y,0),n.x+=y*h;continue}const w=(v.isSpace?u:0)+l,A=i.charProcOperatorList[v.operatorListId];if(!A){Pt(`Type3 character "${v.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=v,this.save(),t.scale(s,s),t.transform(...f),this.executeOperatorList(A),this.restore()),b=ut.applyTransform([v.width,0],f)[0]*s+w,t.translate(b,0),n.x+=b*h}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,i,s,a){this.ctx.rect(n,i,s-n,a-i),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if(e[0]==="TilingPattern"){const n=e[1],i=this.baseTransform||Er(this.ctx),s={createCanvasGraphics:a=>new oE(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new m_(e,n,this.ctx,s,i)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments),this.current.patternStroke=!0}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){this.ctx.strokeStyle=this.current.strokeColor=ut.makeHexColor(e,t,n),this.current.patternStroke=!1}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t,n){this.ctx.fillStyle=this.current.fillColor=ut.makeHexColor(e,t,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t=null){let n;return this.cachedPatterns.has(e)?n=this.cachedPatterns.get(e):(n=IM(this.getObject(e)),this.cachedPatterns.set(e,n)),t&&(n.matrix=t),n}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,ro(t),ci.SHADING);const i=ro(t);if(i){const{width:s,height:a}=t.canvas,[o,l,u,h]=ut.getAxialAlignedBoundingBox([0,0,s,a],i);this.ctx.fillRect(o,l,u-o,h-l)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){fr("Should not call beginInlineImage")}beginImageData(){fr("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Er(this.ctx),t)){const n=t[2]-t[0],i=t[3]-t[1];this.ctx.rect(t[0],t[1],n,i),this.current.updateRectMinMax(Er(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||tb("TODO: Support non-isolated groups."),e.knockout&&Pt("Knockout groups not supported.");const n=Er(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let i=ut.getAxialAlignedBoundingBox(e.bbox,Er(t));const s=[0,0,t.canvas.width,t.canvas.height];i=ut.intersect(i,s)||[0,0,0,0];const a=Math.floor(i[0]),o=Math.floor(i[1]),l=Math.max(Math.ceil(i[2])-a,1),u=Math.max(Math.ceil(i[3])-o,1);this.current.startNewPathAndClipBox([0,0,l,u]);let h="groupAt"+this.groupLevel;e.smask&&(h+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(h,l,u),p=f.context;p.translate(-a,-o),p.transform(...n),e.smask?this.smaskStack.push({canvas:f.canvas,context:p,offsetX:a,offsetY:o,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(a,o),t.save()),dg(t,p),this.ctx=p,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const i=Er(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...i);const s=ut.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],i);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(s)}}beginAnnotation(e,t,n,i,s){if(re(this,qa,g_).call(this),xv(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const a=t[2]-t[0],o=t[3]-t[1];if(s&&this.annotationCanvasMap){n=n.slice(),n[4]-=t[0],n[5]-=t[1],t=t.slice(),t[0]=t[1]=0,t[2]=a,t[3]=o;const[l,u]=ut.singularValueDecompose2dScale(Er(this.ctx)),{viewportScale:h}=this,f=Math.ceil(a*this.outputScaleX*h),p=Math.ceil(o*this.outputScaleY*h);this.annotationCanvas=this.canvasFactory.create(f,p);const{canvas:d,context:x}=this.annotationCanvas;this.annotationCanvasMap.set(e,d),this.annotationCanvas.savedCtx=this.ctx,this.ctx=x,this.ctx.save(),this.ctx.setTransform(l,0,0,-u,0,o*u),xv(this.ctx)}else xv(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],a,o),this.ctx.clip(),this.ctx.beginPath()}this.current=new xk(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...i)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),re(this,qa,y_).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;e=this.getObject(e.data,e),e.count=t;const n=this.ctx,i=this.processingType3;if(i&&(i.compiled===void 0&&(i.compiled=OM(e)),i.compiled)){i.compiled(n);return}const s=this._createMaskCanvas(e),a=s.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(a,s.offsetX,s.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,n=0,i=0,s,a){if(!this.contentVisible)return;e=this.getObject(e.data,e);const o=this.ctx;o.save();const l=Er(o);o.transform(t,n,i,s,0,0);const u=this._createMaskCanvas(e);o.setTransform(1,0,0,1,u.offsetX-l[4],u.offsetY-l[5]);for(let h=0,f=a.length;h<f;h+=2){const p=ut.transform(l,[t,n,i,s,a[h],a[h+1]]),[d,x]=ut.applyTransform([0,0],p);o.drawImage(u.canvas,d,x)}o.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,i=this.current.patternFill;for(const s of e){const{data:a,width:o,height:l,transform:u}=s,h=this.cachedCanvases.getCanvas("maskCanvas",o,l),f=h.context;f.save();const p=this.getObject(a,s);bk(f,p),f.globalCompositeOperation="source-in",f.fillStyle=i?n.getPattern(f,this,ro(t),ci.FILL):n,f.fillRect(0,0,o,l),f.restore(),t.save(),t.transform(...u),t.scale(1,-1),vv(t,h.canvas,0,0,o,l,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);if(!t){Pt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(t)}paintImageXObjectRepeat(e,t,n,i){if(!this.contentVisible)return;const s=this.getObject(e);if(!s){Pt("Dependent image isn't ready yet");return}const a=s.width,o=s.height,l=[];for(let u=0,h=i.length;u<h;u+=2)l.push({transform:[t,0,0,n,i[u],i[u+1]],x:0,y:0,w:a,h:o});this.paintInlineImageXObjectGroup(s,l)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:n,height:i}=e,s=this.cachedCanvases.getCanvas("inlineImage",n,i),a=s.context;return a.filter=this.current.transferMaps,a.drawImage(t,0,0),a.filter="none",s.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,i=this.ctx;if(this.save(),!hi){const{filter:o}=i;o!=="none"&&o!==""&&(i.filter="none")}i.scale(1/t,-1/n);let s;if(e.bitmap)s=this.applyTransferMapsToBitmap(e);else if(typeof HTMLElement=="function"&&e instanceof HTMLElement||!e.data)s=e;else{const l=this.cachedCanvases.getCanvas("inlineImage",t,n).context;wk(l,e),s=this.applyTransferMapsToCanvas(l)}const a=this._scaleImage(s,ro(i));i.imageSmoothingEnabled=Ak(Er(i),e.interpolate),vv(i,a.img,0,0,a.paintWidth,a.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let i;if(e.bitmap)i=e.bitmap;else{const s=e.width,a=e.height,l=this.cachedCanvases.getCanvas("inlineImage",s,a).context;wk(l,e),i=this.applyTransferMapsToCanvas(l)}for(const s of t)n.save(),n.transform(...s.transform),n.scale(1,-1),vv(n,i,s.x,s.y,s.w,s.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){e==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===_k?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Er(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),i=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,i)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:n,c:i,d:s}=this.ctx.getTransform();let a,o;if(n===0&&i===0){const l=Math.abs(t),u=Math.abs(s);if(l===u)if(e===0)a=o=1/l;else{const h=l*e;a=o=h<1?1/h:1}else if(e===0)a=1/l,o=1/u;else{const h=l*e,f=u*e;a=h<1?1/h:1,o=f<1?1/f:1}}else{const l=Math.abs(t*s-n*i),u=Math.hypot(t,n),h=Math.hypot(i,s);if(e===0)a=h/l,o=u/l;else{const f=e*l;a=h>f?h/f:1,o=u>f?u/f:1}}this._cachedScaleForStroking[0]=a,this._cachedScaleForStroking[1]=o}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[i,s]=this.getScaleForStroking();if(t.lineWidth=n||1,i===1&&s===1){t.stroke();return}const a=t.getLineDash();if(e&&t.save(),t.scale(i,s),a.length>0){const o=Math.max(i,s);t.setLineDash(a.map(l=>l/o)),t.lineDashOffset/=o}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};qa=new WeakSet,g_=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},y_=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},v_=function(e,t,n){const i=new Path2D;return i.addPath(e,new DOMMatrix(n).invertSelf().multiplySelf(t)),i};let Of=oE;for(const r in wa)Of.prototype[r]!==void 0&&(Of.prototype[wa[r]]=Of.prototype[r]);var e1,t1;class Tl{static get workerPort(){return m(this,e1)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");W(this,e1,e)}static get workerSrc(){return m(this,t1)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");W(this,t1,e)}}e1=new WeakMap,t1=new WeakMap,ee(Tl,e1,null),ee(Tl,t1,"");var wh,r1;class HM{constructor({parsedData:e,rawData:t}){ee(this,wh);ee(this,r1);W(this,wh,e),W(this,r1,t)}getRaw(){return m(this,r1)}get(e){return m(this,wh).get(e)??null}getAll(){return kN(m(this,wh))}has(e){return m(this,wh).has(e)}}wh=new WeakMap,r1=new WeakMap;const lf=Symbol("INTERNAL");var n1,i1,s1,dp;class qM{constructor(e,{name:t,intent:n,usage:i,rbGroups:s}){ee(this,n1,!1);ee(this,i1,!1);ee(this,s1,!1);ee(this,dp,!0);W(this,n1,!!(e&xs.DISPLAY)),W(this,i1,!!(e&xs.PRINT)),this.name=t,this.intent=n,this.usage=i,this.rbGroups=s}get visible(){if(m(this,s1))return m(this,dp);if(!m(this,dp))return!1;const{print:e,view:t}=this.usage;return m(this,n1)?(t==null?void 0:t.viewState)!=="OFF":m(this,i1)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,n=!1){e!==lf&&fr("Internal method `_setVisible` called."),W(this,s1,n),W(this,dp,t)}}n1=new WeakMap,i1=new WeakMap,s1=new WeakMap,dp=new WeakMap;var Cc,rr,fp,pp,a1,x_;class WM{constructor(e,t=xs.DISPLAY){ee(this,a1);ee(this,Cc,null);ee(this,rr,new Map);ee(this,fp,null);ee(this,pp,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,W(this,pp,e.order);for(const n of e.groups)m(this,rr).set(n.id,new qM(t,n));if(e.baseState==="OFF")for(const n of m(this,rr).values())n._setVisible(lf,!1);for(const n of e.on)m(this,rr).get(n)._setVisible(lf,!0);for(const n of e.off)m(this,rr).get(n)._setVisible(lf,!1);W(this,fp,this.getHash())}}isVisible(e){if(m(this,rr).size===0)return!0;if(!e)return tb("Optional content group not defined."),!0;if(e.type==="OCG")return m(this,rr).has(e.id)?m(this,rr).get(e.id).visible:(Pt(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return re(this,a1,x_).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!m(this,rr).has(t))return Pt(`Optional content group not found: ${t}`),!0;if(m(this,rr).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!m(this,rr).has(t))return Pt(`Optional content group not found: ${t}`),!0;if(!m(this,rr).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!m(this,rr).has(t))return Pt(`Optional content group not found: ${t}`),!0;if(!m(this,rr).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!m(this,rr).has(t))return Pt(`Optional content group not found: ${t}`),!0;if(m(this,rr).get(t).visible)return!1}return!0}return Pt(`Unknown optional content policy ${e.policy}.`),!0}return Pt(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,n=!0){var s;const i=m(this,rr).get(e);if(!i){Pt(`Optional content group not found: ${e}`);return}if(n&&t&&i.rbGroups.length)for(const a of i.rbGroups)for(const o of a)o!==e&&((s=m(this,rr).get(o))==null||s._setVisible(lf,!1,!0));i._setVisible(lf,!!t,!0),W(this,Cc,null)}setOCGState({state:e,preserveRB:t}){let n;for(const i of e){switch(i){case"ON":case"OFF":case"Toggle":n=i;continue}const s=m(this,rr).get(i);if(s)switch(n){case"ON":this.setVisibility(i,!0,t);break;case"OFF":this.setVisibility(i,!1,t);break;case"Toggle":this.setVisibility(i,!s.visible,t);break}}W(this,Cc,null)}get hasInitialVisibility(){return m(this,fp)===null||this.getHash()===m(this,fp)}getOrder(){return m(this,rr).size?m(this,pp)?m(this,pp).slice():[...m(this,rr).keys()]:null}getGroups(){return m(this,rr).size>0?kN(m(this,rr)):null}getGroup(e){return m(this,rr).get(e)||null}getHash(){if(m(this,Cc)!==null)return m(this,Cc);const e=new hL;for(const[t,n]of m(this,rr))e.update(`${t}:${n.visible}`);return W(this,Cc,e.hexdigest())}}Cc=new WeakMap,rr=new WeakMap,fp=new WeakMap,pp=new WeakMap,a1=new WeakSet,x_=function(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let i=1;i<t;i++){const s=e[i];let a;if(Array.isArray(s))a=re(this,a1,x_).call(this,s);else if(m(this,rr).has(s))a=m(this,rr).get(s).visible;else return Pt(`Optional content group not found: ${s}`),!0;switch(n){case"And":if(!a)return!1;break;case"Or":if(a)return!0;break;case"Not":return!a;default:return!0}}return n==="And"};class $M{constructor(e,{disableRange:t=!1,disableStream:n=!1}){hn(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(s==null?void 0:s.length)>0){const l=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(l)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!n,this._isRangeSupported=!t,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((l,u)=>{this._onReceiveData({begin:l,chunk:u})}),e.addProgressListener((l,u)=>{this._onProgress({loaded:l,total:u})}),e.addProgressiveReadListener(l=>{this._onReceiveData({chunk:l})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const n=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const i=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(n),!0)});hn(i,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,n,i,s;e.total===void 0?(n=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||n.call(t,{loaded:e.loaded}):(s=(i=this._fullRequestReader)==null?void 0:i.onProgress)==null||s.call(i,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){hn(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new GM(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new VM(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class GM{constructor(e,t,n=!1,i=null){this._stream=e,this._done=n||!1,this._filename=jN(i)?i:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class VM{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function KM(r){let e=!0,t=n("filename\\*","i").exec(r);if(t){t=t[1];let h=o(t);return h=unescape(h),h=l(h),h=u(h),s(h)}if(t=a(r),t){const h=u(t);return s(h)}if(t=n("filename","i").exec(r),t){t=t[1];let h=o(t);return h=u(h),s(h)}function n(h,f){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',f)}function i(h,f){if(h){if(!/^[\x00-\xFF]+$/.test(f))return f;try{const p=new TextDecoder(h,{fatal:!0}),d=rb(f);f=p.decode(d),e=!1}catch{}}return f}function s(h){return e&&/[\x80-\xff]/.test(h)&&(h=i("utf-8",h),e&&(h=i("iso-8859-1",h))),h}function a(h){const f=[];let p;const d=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(p=d.exec(h))!==null;){let[,v,b,y]=p;if(v=parseInt(v,10),v in f){if(v===0)break;continue}f[v]=[b,y]}const x=[];for(let v=0;v<f.length&&v in f;++v){let[b,y]=f[v];y=o(y),b&&(y=unescape(y),v===0&&(y=l(y))),x.push(y)}return x.join("")}function o(h){if(h.startsWith('"')){const f=h.slice(1).split('\\"');for(let p=0;p<f.length;++p){const d=f[p].indexOf('"');d!==-1&&(f[p]=f[p].slice(0,d),f.length=p+1),f[p]=f[p].replaceAll(/\\(.)/g,"$1")}h=f.join('"')}return h}function l(h){const f=h.indexOf("'");if(f===-1)return h;const p=h.slice(0,f),x=h.slice(f+1).replace(/^[^']*'/,"");return i(p,x)}function u(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(f,p,d,x){if(d==="q"||d==="Q")return x=x.replaceAll("_"," "),x=x.replaceAll(/=([0-9a-fA-F]{2})/g,function(v,b){return String.fromCharCode(parseInt(b,16))}),i(p,x);try{x=atob(x)}catch{}return i(p,x)})}return""}function NL(r,e){const t=new Headers;if(!r||!e||typeof e!="object")return t;for(const n in e){const i=e[n];i!==void 0&&t.append(n,i)}return t}function sb(r){try{return new URL(r).origin}catch{}return null}function EL({responseHeaders:r,isHttp:e,rangeChunkSize:t,disableRange:n}){const i={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(r.get("Content-Length"),10);return!Number.isInteger(s)||(i.suggestedLength=s,s<=2*t)||n||!e||r.get("Accept-Ranges")!=="bytes"||(r.get("Content-Encoding")||"identity")!=="identity"||(i.allowRangeRequests=!0),i}function kL(r){const e=r.get("Content-Disposition");if(e){let t=KM(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(jN(t))return t}return null}function ab(r,e){return r===404||r===0&&e.startsWith("file:")?new b0('Missing PDF "'+e+'".'):new rw(`Unexpected server response (${r}) while retrieving PDF "${e}".`,r)}function CL(r){return r===200||r===206}function TL(r,e,t){return{method:"GET",headers:r,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function jL(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(Pt(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class Sk{constructor(e){dt(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=NL(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return hn(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new XM(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new YM(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class XM{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),i=t.url;fetch(i,TL(n,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=sb(s.url),!CL(s.status))throw ab(s.status,i);this._reader=s.body.getReader(),this._headersCapability.resolve();const a=s.headers,{allowRangeRequests:o,suggestedLength:l}=EL({responseHeaders:a,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=o,this._contentLength=l||this._contentLength,this._filename=kL(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new uu("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:jL(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class YM{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const i=e.source;this._withCredentials=i.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!i.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${n-1}`);const a=i.url;fetch(a,TL(s,this._withCredentials,this._abortController)).then(o=>{const l=sb(o.url);if(l!==e._responseOrigin)throw new Error(`Expected range response-origin "${l}" to match "${e._responseOrigin}".`);if(!CL(o.status))throw ab(o.status,a);this._readCapability.resolve(),this._reader=o.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:jL(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const B2=200,U2=206;function QM(r){const e=r.response;return typeof e!="string"?e:rb(e).buffer}class JM{constructor({url:e,httpHeaders:t,withCredentials:n}){dt(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=NL(this.isHttp,t),this.withCredentials=n||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,i=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,a]of this.headers)t.setRequestHeader(s,a);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),i.expectedStatus=U2):i.expectedStatus=B2,t.responseType="arraybuffer",hn(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),i.onHeadersReceived=e.onHeadersReceived,i.onDone=e.onDone,i.onError=e.onError,i.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var i;const n=this.pendingRequests[e];n&&((i=n.onProgress)==null||i.call(n,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const i=n.xhr;if(i.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),i.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],i.status===0&&this.isHttp){n.onError(i.status);return}const s=i.status||B2;if(!(s===B2&&n.expectedStatus===U2)&&s!==n.expectedStatus){n.onError(i.status);return}const o=QM(i);if(s===U2){const l=i.getResponseHeader("Content-Range"),u=/bytes (\d+)-(\d+)\/(\d+)/.exec(l);u?n.onDone({begin:parseInt(u[1],10),chunk:o}):(Pt('Missing or invalid "Content-Range" header.'),n.onError(0))}else o?n.onDone({begin:0,chunk:o}):n.onError(i.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class ZM{constructor(e){this._source=e,this._manager=new JM(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return hn(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new eO(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new tO(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class eO{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=sb(t.responseURL);const n=t.getAllResponseHeaders(),i=new Headers(n?n.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(o=>{const[l,...u]=o.split(": ");return[l,u.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:a}=EL({responseHeaders:i,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=kL(i),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=ab(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class tO{constructor(e,t,n){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:n,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=sb((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=ab(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const rO=/^[a-z][a-z0-9\-+.]+:/i;function nO(r){if(rO.test(r))return new URL(r);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(r))}class iO{constructor(e){this.source=e,this.url=nO(e.url),hn(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return hn(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new sO(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new aO(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class sO{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const n=process.getBuiltinModule("fs");n.promises.lstat(this._url).then(i=>{this._contentLength=i.size,this._setReadableStream(n.createReadStream(this._url)),this._headersCapability.resolve()},i=>{i.code==="ENOENT"&&(i=new b0(`Missing PDF "${this._url}".`)),this._storedError=i,this._headersCapability.reject(i)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new uu("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class aO{constructor(e,t,n){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const i=e.source;this._isStreamingSupported=!i.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:n-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const oO=1e5,Ui=30,lO=.8;var sT,Tc,Wi,o1,l1,bh,fl,c1,u1,Ah,mp,gp,jc,yp,h1,vp,_h,d1,f1,Sh,Nh,p1,Pc,xp,Hl,PL,LL,w_,Es,nx,b_,IL,RL;const gn=class gn{constructor({textContentSource:e,container:t,viewport:n}){ee(this,Hl);ee(this,Tc,Promise.withResolvers());ee(this,Wi,null);ee(this,o1,!1);ee(this,l1,!!((sT=globalThis.FontInspector)!=null&&sT.enabled));ee(this,bh,null);ee(this,fl,null);ee(this,c1,0);ee(this,u1,0);ee(this,Ah,null);ee(this,mp,null);ee(this,gp,0);ee(this,jc,0);ee(this,yp,Object.create(null));ee(this,h1,[]);ee(this,vp,null);ee(this,_h,[]);ee(this,d1,new WeakMap);ee(this,f1,null);var l;if(e instanceof ReadableStream)W(this,vp,e);else if(typeof e=="object")W(this,vp,new ReadableStream({start(u){u.enqueue(e),u.close()}}));else throw new Error('No "textContentSource" parameter specified.');W(this,Wi,W(this,mp,t)),W(this,jc,n.scale*(globalThis.devicePixelRatio||1)),W(this,gp,n.rotation),W(this,fl,{div:null,properties:null,ctx:null});const{pageWidth:i,pageHeight:s,pageX:a,pageY:o}=n.rawDims;W(this,f1,[1,0,0,-1,-a,o+s]),W(this,u1,i),W(this,c1,s),re(l=gn,Es,IL).call(l),fd(t,n),m(this,Tc).promise.finally(()=>{m(gn,xp).delete(this),W(this,fl,null),W(this,yp,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Ci.platform;return Ft(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{m(this,Ah).read().then(({value:t,done:n})=>{if(n){m(this,Tc).resolve();return}m(this,bh)??W(this,bh,t.lang),Object.assign(m(this,yp),t.styles),re(this,Hl,PL).call(this,t.items),e()},m(this,Tc).reject)};return W(this,Ah,m(this,vp).getReader()),m(gn,xp).add(this),e(),m(this,Tc).promise}update({viewport:e,onBefore:t=null}){var s;const n=e.scale*(globalThis.devicePixelRatio||1),i=e.rotation;if(i!==m(this,gp)&&(t==null||t(),W(this,gp,i),fd(m(this,mp),{rotation:i})),n!==m(this,jc)){t==null||t(),W(this,jc,n);const a={div:null,properties:null,ctx:re(s=gn,Es,nx).call(s,m(this,bh))};for(const o of m(this,_h))a.properties=m(this,d1).get(o),a.div=o,re(this,Hl,w_).call(this,a)}}cancel(){var t;const e=new uu("TextLayer task cancelled.");(t=m(this,Ah))==null||t.cancel(e).catch(()=>{}),W(this,Ah,null),m(this,Tc).reject(e)}get textDivs(){return m(this,_h)}get textContentItemsStr(){return m(this,h1)}static cleanup(){if(!(m(this,xp).size>0)){m(this,Sh).clear();for(const{canvas:e}of m(this,Nh).values())e.remove();m(this,Nh).clear()}}};Tc=new WeakMap,Wi=new WeakMap,o1=new WeakMap,l1=new WeakMap,bh=new WeakMap,fl=new WeakMap,c1=new WeakMap,u1=new WeakMap,Ah=new WeakMap,mp=new WeakMap,gp=new WeakMap,jc=new WeakMap,yp=new WeakMap,h1=new WeakMap,vp=new WeakMap,_h=new WeakMap,d1=new WeakMap,f1=new WeakMap,Sh=new WeakMap,Nh=new WeakMap,p1=new WeakMap,Pc=new WeakMap,xp=new WeakMap,Hl=new WeakSet,PL=function(e){var i,s;if(m(this,o1))return;(s=m(this,fl)).ctx??(s.ctx=re(i=gn,Es,nx).call(i,m(this,bh)));const t=m(this,_h),n=m(this,h1);for(const a of e){if(t.length>oO){Pt("Ignoring additional textDivs for performance reasons."),W(this,o1,!0);return}if(a.str===void 0){if(a.type==="beginMarkedContentProps"||a.type==="beginMarkedContent"){const o=m(this,Wi);W(this,Wi,document.createElement("span")),m(this,Wi).classList.add("markedContent"),a.id!==null&&m(this,Wi).setAttribute("id",`${a.id}`),o.append(m(this,Wi))}else a.type==="endMarkedContent"&&W(this,Wi,m(this,Wi).parentNode);continue}n.push(a.str),re(this,Hl,LL).call(this,a)}},LL=function(e){var v;const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};m(this,_h).push(t);const i=ut.transform(m(this,f1),e.transform);let s=Math.atan2(i[1],i[0]);const a=m(this,yp)[e.fontName];a.vertical&&(s+=Math.PI/2);let o=m(this,l1)&&a.fontSubstitution||a.fontFamily;o=gn.fontFamilyMap.get(o)||o;const l=Math.hypot(i[2],i[3]),u=l*re(v=gn,Es,RL).call(v,o,m(this,bh));let h,f;s===0?(h=i[4],f=i[5]-u):(h=i[4]+u*Math.sin(s),f=i[5]-u*Math.cos(s));const p="calc(var(--scale-factor)*",d=t.style;m(this,Wi)===m(this,mp)?(d.left=`${(100*h/m(this,u1)).toFixed(2)}%`,d.top=`${(100*f/m(this,c1)).toFixed(2)}%`):(d.left=`${p}${h.toFixed(2)}px)`,d.top=`${p}${f.toFixed(2)}px)`),d.fontSize=`${p}${(m(gn,Pc)*l).toFixed(2)}px)`,d.fontFamily=o,n.fontSize=l,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,m(this,l1)&&(t.dataset.fontName=a.fontSubstitutionLoadedName||e.fontName),s!==0&&(n.angle=s*(180/Math.PI));let x=!1;if(e.str.length>1)x=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const b=Math.abs(e.transform[0]),y=Math.abs(e.transform[3]);b!==y&&Math.max(b,y)/Math.min(b,y)>1.5&&(x=!0)}if(x&&(n.canvasWidth=a.vertical?e.height:e.width),m(this,d1).set(t,n),m(this,fl).div=t,m(this,fl).properties=n,re(this,Hl,w_).call(this,m(this,fl)),n.hasText&&m(this,Wi).append(t),n.hasEOL){const b=document.createElement("br");b.setAttribute("role","presentation"),m(this,Wi).append(b)}},w_=function(e){var o;const{div:t,properties:n,ctx:i}=e,{style:s}=t;let a="";if(m(gn,Pc)>1&&(a=`scale(${1/m(gn,Pc)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:l}=s,{canvasWidth:u,fontSize:h}=n;re(o=gn,Es,b_).call(o,i,h*m(this,jc),l);const{width:f}=i.measureText(t.textContent);f>0&&(a=`scaleX(${u*m(this,jc)/f}) ${a}`)}n.angle!==0&&(a=`rotate(${n.angle}deg) ${a}`),a.length>0&&(s.transform=a)},Es=new WeakSet,nx=function(e=null){let t=m(this,Nh).get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),m(this,Nh).set(e,t),m(this,p1).set(t,{size:0,family:""})}return t},b_=function(e,t,n){const i=m(this,p1).get(e);t===i.size&&n===i.family||(e.font=`${t}px ${n}`,i.size=t,i.family=n)},IL=function(){if(m(this,Pc)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),W(this,Pc,e.getBoundingClientRect().height),e.remove()},RL=function(e,t){const n=m(this,Sh).get(e);if(n)return n;const i=re(this,Es,nx).call(this,t);i.canvas.width=i.canvas.height=Ui,re(this,Es,b_).call(this,i,Ui,e);const s=i.measureText("");let a=s.fontBoundingBoxAscent,o=Math.abs(s.fontBoundingBoxDescent);if(a){const h=a/(a+o);return m(this,Sh).set(e,h),i.canvas.width=i.canvas.height=0,h}i.strokeStyle="red",i.clearRect(0,0,Ui,Ui),i.strokeText("g",0,0);let l=i.getImageData(0,0,Ui,Ui).data;o=0;for(let h=l.length-1-3;h>=0;h-=4)if(l[h]>0){o=Math.ceil(h/4/Ui);break}i.clearRect(0,0,Ui,Ui),i.strokeText("A",0,Ui),l=i.getImageData(0,0,Ui,Ui).data,a=0;for(let h=0,f=l.length;h<f;h+=4)if(l[h]>0){a=Ui-Math.floor(h/4/Ui);break}i.canvas.width=i.canvas.height=0;const u=a?a/(a+o):lO;return m(this,Sh).set(e,u),u},ee(gn,Es),ee(gn,Sh,new Map),ee(gn,Nh,new Map),ee(gn,p1,new WeakMap),ee(gn,Pc,null),ee(gn,xp,new Set);let A0=gn;class _0{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};function i(s){var l;if(!s)return;let a=null;const o=s.name;if(o==="#text")a=s.value;else if(_0.shouldBuildText(o))(l=s==null?void 0:s.attributes)!=null&&l.textContent?a=s.attributes.textContent:s.value&&(a=s.value);else return;if(a!==null&&t.push({str:a}),!!s.children)for(const u of s.children)i(u)}return i(e),n}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}const cO=65536,uO=100,hO=5e3,dO=hi?EM:_M,fO=hi?kM:xL,pO=hi?NM:SM,mO=hi?CM:_L;function gO(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const e=new A_,{docId:t}=e,n=r.url?yO(r.url):null,i=r.data?vO(r.data):null,s=r.httpHeaders||null,a=r.withCredentials===!0,o=r.password??null,l=r.range instanceof FL?r.range:null,u=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:cO;let h=r.worker instanceof Bf?r.worker:null;const f=r.verbosity,p=typeof r.docBaseUrl=="string"&&!ib(r.docBaseUrl)?r.docBaseUrl:null,d=typeof r.cMapUrl=="string"?r.cMapUrl:null,x=r.cMapPacked!==!1,v=r.CMapReaderFactory||fO,b=typeof r.standardFontDataUrl=="string"?r.standardFontDataUrl:null,y=r.StandardFontDataFactory||mO,w=r.stopAtErrors!==!0,A=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,k=r.isEvalSupported!==!1,M=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!hi,$=typeof r.isImageDecoderSupported=="boolean"?r.isImageDecoderSupported:!hi&&(Ci.platform.isFirefox||!globalThis.chrome),H=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,q=typeof r.disableFontFace=="boolean"?r.disableFontFace:hi,D=r.fontExtraProperties===!0,se=r.enableXfa===!0,z=r.ownerDocument||globalThis.document,R=r.disableRange===!0,V=r.disableStream===!0,T=r.disableAutoFetch===!0,K=r.pdfBug===!0,he=r.CanvasFactory||dO,le=r.FilterFactory||pO,me=r.enableHWA===!0,pe=l?l.length:r.length??NaN,be=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!hi&&!q,ge=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:v===xL&&y===_L&&d&&b&&Ng(d,document.baseURI)&&Ng(b,document.baseURI),C=null;tM(f);const B={canvasFactory:new he({ownerDocument:z,enableHWA:me}),filterFactory:new le({docId:t,ownerDocument:z}),cMapReaderFactory:ge?null:new v({baseUrl:d,isCompressed:x}),standardFontDataFactory:ge?null:new y({baseUrl:b})};if(!h){const J={verbosity:f,port:Tl.workerPort};h=J.port?Bf.fromPort(J):new Bf(J),e._worker=h}const G={docId:t,apiVersion:"4.10.38",data:i,password:o,disableAutoFetch:T,rangeChunkSize:u,length:pe,docBaseUrl:p,enableXfa:se,evaluatorOptions:{maxImageSize:A,disableFontFace:q,ignoreErrors:w,isEvalSupported:k,isOffscreenCanvasSupported:M,isImageDecoderSupported:$,canvasMaxAreaInBytes:H,fontExtraProperties:D,useSystemFonts:be,cMapUrl:ge?d:null,standardFontDataUrl:ge?b:null}},ae={disableFontFace:q,fontExtraProperties:D,ownerDocument:z,pdfBug:K,styleElement:C,loadingParams:{disableAutoFetch:T,enableXfa:se}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const J=h.messageHandler.sendWithPromise("GetDocRequest",G,i?[i.buffer]:null);let L;if(l)L=new $M(l,{disableRange:R,disableStream:V});else if(!i){if(!n)throw new Error("getDocument - no `url` parameter provided.");let I;if(hi)if(Ng(n)){if(typeof fetch>"u"||typeof Response>"u"||!("body"in Response.prototype))throw new Error("getDocument - the Fetch API was disabled in Node.js, see `--no-experimental-fetch`.");I=Sk}else I=iO;else I=Ng(n)?Sk:ZM;L=new I({url:n,length:pe,httpHeaders:s,withCredentials:a,rangeChunkSize:u,disableRange:R,disableStream:V})}return J.then(I=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const ne=new Tg(t,I,h.port),ue=new AO(ne,e,L,ae,B);e._transport=ue,ne.send("Ready",null)})}).catch(e._capability.reject),e}function yO(r){if(r instanceof URL)return r.href;try{return new URL(r,window.location).href}catch{if(hi&&typeof r=="string")return r}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function vO(r){if(hi&&typeof lk<"u"&&r instanceof lk)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return rb(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r==null?void 0:r.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function Nk(r){return typeof r=="object"&&Number.isInteger(r==null?void 0:r.num)&&r.num>=0&&Number.isInteger(r==null?void 0:r.gen)&&r.gen>=0}var _w;const Sw=class Sw{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${wi(Sw,_w)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var e,t,n,i;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,s}this._transport=null,(i=this._worker)==null||i.destroy(),this._worker=null}};_w=new WeakMap,ee(Sw,_w,0);let A_=Sw;class FL{constructor(e,t,n=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(const t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){fr("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class xO{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Ft(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Lc,pl,Qs,cf,ix;class wO{constructor(e,t,n,i=!1){ee(this,Qs);ee(this,Lc,null);ee(this,pl,!1);this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=i?new hk:null,this._pdfBug=i,this.commonObjs=n.commonObjs,this.objs=new DL,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:i=0,dontFlip:s=!1}={}){return new iy({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:n,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Ft(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,viewport:t,intent:n="display",annotationMode:i=mc.ENABLE,transform:s=null,background:a=null,optionalContentConfigPromise:o=null,annotationCanvasMap:l=null,pageColors:u=null,printAnnotationStorage:h=null,isEditing:f=!1}){var k,M;(k=this._stats)==null||k.time("Overall");const p=this._transport.getRenderingIntent(n,i,h,f),{renderingIntent:d,cacheKey:x}=p;W(this,pl,!1),re(this,Qs,ix).call(this),o||(o=this._transport.getOptionalContentConfig(d));let v=this._intentStates.get(x);v||(v=Object.create(null),this._intentStates.set(x,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const b=!!(d&xs.PRINT);v.displayReadyCapability||(v.displayReadyCapability=Promise.withResolvers(),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(M=this._stats)==null||M.time("Page Request"),this._pumpOperatorList(p));const y=$=>{var H;v.renderTasks.delete(w),(this._maybeCleanupAfterRender||b)&&W(this,pl,!0),re(this,Qs,cf).call(this,!b),$?(w.capability.reject($),this._abortOperatorList({intentState:v,reason:$ instanceof Error?$:new Error($)})):w.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(H=globalThis.Stats)!=null&&H.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},w=new S_({callback:y,params:{canvasContext:e,viewport:t,transform:s,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:l,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!b,pdfBug:this._pdfBug,pageColors:u});(v.renderTasks||(v.renderTasks=new Set)).add(w);const A=w.task;return Promise.all([v.displayReadyCapability.promise,o]).then(([$,H])=>{var q;if(this.destroyed){y();return}if((q=this._stats)==null||q.time("Rendering"),!(H.renderingIntent&d))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");w.initializeGraphics({transparency:$,optionalContentConfig:H}),w.operatorListChanged()}).catch(y),A}getOperatorList({intent:e="display",annotationMode:t=mc.ENABLE,printAnnotationStorage:n=null,isEditing:i=!1}={}){var u;function s(){o.operatorList.lastChunk&&(o.opListReadCapability.resolve(o.operatorList),o.renderTasks.delete(l))}const a=this._transport.getRenderingIntent(e,t,n,i,!0);let o=this._intentStates.get(a.cacheKey);o||(o=Object.create(null),this._intentStates.set(a.cacheKey,o));let l;return o.opListReadCapability||(l=Object.create(null),l.operatorListChanged=s,o.opListReadCapability=Promise.withResolvers(),(o.renderTasks||(o.renderTasks=new Set)).add(l),o.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(u=this._stats)==null||u.time("Page Request"),this._pumpOperatorList(a)),o.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>_0.textContent(n));const t=this.streamTextContent(e);return new Promise(function(n,i){function s(){a.read().then(function({value:l,done:u}){if(u){n(o);return}o.lang??(o.lang=l.lang),Object.assign(o.styles,l.styles),o.items.push(...l.items),s()},i)}const a=t.getReader(),o={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),W(this,pl,!1),re(this,Qs,ix).call(this),Promise.all(e)}cleanup(e=!1){W(this,pl,!0);const t=re(this,Qs,cf).call(this,!1);return e&&t&&this._stats&&(this._stats=new hk),t}_startRenderPage(e,t){var i,s;const n=this._intentStates.get(t);n&&((i=this._stats)==null||i.timeEnd("Page Request"),(s=n.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let n=0,i=e.length;n<i;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&re(this,Qs,cf).call(this,!0)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:n,modifiedIds:i}){const{map:s,transfer:a}=n,l=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:i},a).getReader(),u=this._intentStates.get(t);u.streamReader=l;const h=()=>{l.read().then(({value:f,done:p})=>{if(p){u.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(f,u),h())},f=>{if(u.streamReader=null,!this._transport.destroyed){if(u.operatorList){u.operatorList.lastChunk=!0;for(const p of u.renderTasks)p.operatorListChanged();re(this,Qs,cf).call(this,!0)}if(u.displayReadyCapability)u.displayReadyCapability.reject(f);else if(u.opListReadCapability)u.opListReadCapability.reject(f);else throw f}})};h()}_abortOperatorList({intentState:e,reason:t,force:n=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!n){if(e.renderTasks.size>0)return;if(t instanceof TN){let i=uO;t.extraDelay>0&&t.extraDelay<1e3&&(i+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},i);return}}if(e.streamReader.cancel(new uu(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}Lc=new WeakMap,pl=new WeakMap,Qs=new WeakSet,cf=function(e=!1){if(re(this,Qs,ix).call(this),!m(this,pl)||this.destroyed)return!1;if(e)return W(this,Lc,setTimeout(()=>{W(this,Lc,null),re(this,Qs,cf).call(this,!1)},hO)),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),W(this,pl,!1),!0},ix=function(){m(this,Lc)&&(clearTimeout(m(this,Lc)),W(this,Lc,null))};var ml,Nw;class bO{constructor(){ee(this,ml,new Map);ee(this,Nw,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};m(this,Nw).then(()=>{for(const[i]of m(this,ml))i.call(this,n)})}addEventListener(e,t,n=null){let i=null;if((n==null?void 0:n.signal)instanceof AbortSignal){const{signal:s}=n;if(s.aborted){Pt("LoopbackPort - cannot use an `aborted` signal.");return}const a=()=>this.removeEventListener(e,t);i=()=>s.removeEventListener("abort",a),s.addEventListener("abort",a)}m(this,ml).set(t,i)}removeEventListener(e,t){const n=m(this,ml).get(t);n==null||n(),m(this,ml).delete(t)}terminate(){for(const[,e]of m(this,ml))e==null||e();m(this,ml).clear()}}ml=new WeakMap,Nw=new WeakMap;var Ew,Eh,kh,wp,sx,bp,ax;const Nr=class Nr{constructor({name:e=null,port:t=null,verbosity:n=rM()}={}){ee(this,wp);var i;if(this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){if((i=m(Nr,kh))!=null&&i.has(t))throw new Error("Cannot use more than one PDFWorker per port.");(m(Nr,kh)||W(Nr,kh,new WeakMap)).set(t,this),this._initializeFromPort(t);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new Tg("main","worker",e),this._messageHandler.on("ready",function(){}),re(this,wp,sx).call(this)}_initialize(){if(m(Nr,Eh)||m(Nr,bp,ax)){this._setupFakeWorker();return}let{workerSrc:e}=Nr;try{Nr._isSameOrigin(window.location.href,e)||(e=Nr._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new Tg("main","worker",t),i=()=>{s.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},s=new AbortController;t.addEventListener("error",()=>{this._webWorker||i()},{signal:s.signal}),n.on("test",o=>{if(s.abort(),this.destroyed||!o){i();return}this._messageHandler=n,this._port=t,this._webWorker=t,re(this,wp,sx).call(this)}),n.on("ready",o=>{if(s.abort(),this.destroyed){i();return}try{a()}catch{this._setupFakeWorker()}});const a=()=>{const o=new Uint8Array;n.send("test",o,[o.buffer])};a();return}catch{tb("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){m(Nr,Eh)||(Pt("Setting up fake worker."),W(Nr,Eh,!0)),Nr._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const t=new bO;this._port=t;const n=`fake${wi(Nr,Ew)._++}`,i=new Tg(n+"_worker",n,t);e.setup(i,t),this._messageHandler=new Tg(n,n+"_worker",t),re(this,wp,sx).call(this)}).catch(e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${e.message}".`))})}destroy(){var e,t,n;this.destroyed=!0,(e=this._webWorker)==null||e.terminate(),this._webWorker=null,(t=m(Nr,kh))==null||t.delete(this._port),this._port=null,(n=this._messageHandler)==null||n.destroy(),this._messageHandler=null}static fromPort(e){var n;if(!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const t=(n=m(this,kh))==null?void 0:n.get(e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new Nr(e)}static get workerSrc(){if(Tl.workerSrc)return Tl.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Ft(this,"_setupFakeWorkerGlobal",(async()=>m(this,bp,ax)?m(this,bp,ax):(await import(this.workerSrc)).WorkerMessageHandler)())}};Ew=new WeakMap,Eh=new WeakMap,kh=new WeakMap,wp=new WeakSet,sx=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},bp=new WeakSet,ax=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},ee(Nr,bp),ee(Nr,Ew,0),ee(Nr,Eh,!1),ee(Nr,kh),hi&&(W(Nr,Eh,!0),Tl.workerSrc||(Tl.workerSrc="./pdf.worker.mjs")),Nr._isSameOrigin=(e,t)=>{let n;try{if(n=new URL(e),!n.origin||n.origin==="null")return!1}catch{return!1}const i=new URL(t,n);return n.origin===i.origin},Nr._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};let Bf=Nr;var gl,xo,Ap,_p,yl,Ch,Rg;class AO{constructor(e,t,n,i,s){ee(this,Ch);ee(this,gl,new Map);ee(this,xo,new Map);ee(this,Ap,new Map);ee(this,_p,new Map);ee(this,yl,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new DL,this.fontLoader=new bM({ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this.loadingParams=i.loadingParams,this._params=i,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Ft(this,"annotationStorage",new IN)}getRenderingIntent(e,t=mc.ENABLE,n=null,i=!1,s=!1){let a=xs.DISPLAY,o=h_;switch(e){case"any":a=xs.ANY;break;case"display":break;case"print":a=xs.PRINT;break;default:Pt(`getRenderingIntent - invalid intent: ${e}`)}const l=a&xs.PRINT&&n instanceof fL?n:this.annotationStorage;switch(t){case mc.DISABLE:a+=xs.ANNOTATIONS_DISABLE;break;case mc.ENABLE:break;case mc.ENABLE_FORMS:a+=xs.ANNOTATIONS_FORMS;break;case mc.ENABLE_STORAGE:a+=xs.ANNOTATIONS_STORAGE,o=l.serializable;break;default:Pt(`getRenderingIntent - invalid annotationMode: ${t}`)}i&&(a+=xs.IS_EDITING),s&&(a+=xs.OPLIST);const{ids:u,hash:h}=l.modifiedIds,f=[a,o.hash,h];return{renderingIntent:a,cacheKey:f.join("_"),annotationStorageSerializable:o,modifiedIds:u}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=m(this,yl))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const i of m(this,xo).values())e.push(i._destroy());m(this,xo).clear(),m(this,Ap).clear(),m(this,_p).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var i,s;this.commonObjs.clear(),this.fontLoader.clear(),m(this,gl).clear(),this.filterFactory.destroy(),A0.cleanup(),(i=this._networkStream)==null||i.cancelAllRequests(new uu("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(n,i)=>{hn(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:a}){if(a){i.close();return}hn(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("ReaderHeadersReady",async n=>{var o;await this._fullReader.headersReady;const{isStreamingSupported:i,isRangeSupported:s,contentLength:a}=this._fullReader;return(!i||!s)&&(this._lastProgress&&((o=t.onProgress)==null||o.call(t,this._lastProgress)),this._fullReader.onProgress=l=>{var u;(u=t.onProgress)==null||u.call(t,{loaded:l.loaded,total:l.total})}),{isStreamingSupported:i,isRangeSupported:s,contentLength:a}}),e.on("GetRangeReader",(n,i)=>{hn(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(n.begin,n.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:a,done:o}){if(o){i.close();return}hn(a instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{i.error(a)})},i.onCancel=a=>{s.cancel(a),i.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new xO(n,this))}),e.on("DocException",n=>{t._capability.reject(zi(n))}),e.on("PasswordRequest",n=>{W(this,yl,Promise.withResolvers());try{if(!t.onPassword)throw zi(n);const i=s=>{s instanceof Error?m(this,yl).reject(s):m(this,yl).resolve({password:s})};t.onPassword(i,n.code)}catch(i){m(this,yl).reject(i)}return m(this,yl).promise}),e.on("DataLoaded",n=>{var i;(i=t.onProgress)==null||i.call(t,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),e.on("StartRenderPage",n=>{if(this.destroyed)return;m(this,xo).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),e.on("commonobj",([n,i,s])=>{var a;if(this.destroyed||this.commonObjs.has(n))return null;switch(i){case"Font":const{disableFontFace:o,fontExtraProperties:l,pdfBug:u}=this._params;if("error"in s){const d=s.error;Pt(`Error during font loading: ${d}`),this.commonObjs.resolve(n,d);break}const h=u&&((a=globalThis.FontInspector)!=null&&a.enabled)?(d,x)=>globalThis.FontInspector.fontAdded(d,x):null,f=new AM(s,{disableFontFace:o,fontExtraProperties:l,inspectFont:h});this.fontLoader.bind(f).catch(()=>e.sendWithPromise("FontFallback",{id:n})).finally(()=>{!l&&f.data&&(f.data=null),this.commonObjs.resolve(n,f)});break;case"CopyLocalImage":const{imageRef:p}=s;hn(p,"The imageRef must be defined.");for(const d of m(this,xo).values())for(const[,x]of d.objs)if((x==null?void 0:x.ref)===p)return x.dataLen?(this.commonObjs.resolve(n,structuredClone(x)),x.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,s);break;default:throw new Error(`Got unknown common object type ${i}`)}return null}),e.on("obj",([n,i,s,a])=>{var l;if(this.destroyed)return;const o=m(this,xo).get(i);if(!o.objs.has(n)){if(o._intentStates.size===0){(l=a==null?void 0:a.bitmap)==null||l.close();return}switch(s){case"Image":o.objs.resolve(n,a),(a==null?void 0:a.dataLen)>QD&&(o._maybeCleanupAfterRender=!0);break;case"Pattern":o.objs.resolve(n,a);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",n=>{var i;this.destroyed||(i=t.onProgress)==null||i.call(t,{loaded:n.loaded,total:n.total})}),e.on("FetchBuiltInCMap",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(n)}),e.on("FetchStandardFontData",async n=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(n)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Pt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((n=this._fullReader)==null?void 0:n.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=m(this,Ap).get(t);if(n)return n;const i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&m(this,_p).set(s.refStr,e);const a=new wO(t,s,this,this._params.pdfBug);return m(this,xo).set(t,a),a});return m(this,Ap).set(t,i),i}getPageIndex(e){return Nk(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return re(this,Ch,Rg).call(this,"GetFieldObjects")}hasJSActions(){return re(this,Ch,Rg).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return re(this,Ch,Rg).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return re(this,Ch,Rg).call(this,"GetOptionalContentConfig").then(t=>new WM(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=m(this,gl).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then(i=>{var s,a;return{info:i[0],metadata:i[1]?new HM(i[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((a=this._fullReader)==null?void 0:a.contentLength)??null}});return m(this,gl).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of m(this,xo).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),m(this,gl).clear(),this.filterFactory.destroy(!0),A0.cleanup()}}cachedPageNumber(e){if(!Nk(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return m(this,_p).get(t)??null}}gl=new WeakMap,xo=new WeakMap,Ap=new WeakMap,_p=new WeakMap,yl=new WeakMap,Ch=new WeakSet,Rg=function(e,t=null){const n=m(this,gl).get(e);if(n)return n;const i=this.messageHandler.sendWithPromise(e,t);return m(this,gl).set(e,i),i};const fg=Symbol("INITIAL_DATA");var us,m1,__;class DL{constructor(){ee(this,m1);ee(this,us,Object.create(null))}get(e,t=null){if(t){const i=re(this,m1,__).call(this,e);return i.promise.then(()=>t(i.data)),null}const n=m(this,us)[e];if(!n||n.data===fg)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return n.data}has(e){const t=m(this,us)[e];return!!t&&t.data!==fg}delete(e){const t=m(this,us)[e];return!t||t.data===fg?!1:(delete m(this,us)[e],!0)}resolve(e,t=null){const n=re(this,m1,__).call(this,e);n.data=t,n.resolve()}clear(){var e;for(const t in m(this,us)){const{data:n}=m(this,us)[t];(e=n==null?void 0:n.bitmap)==null||e.close()}W(this,us,Object.create(null))}*[Symbol.iterator](){for(const e in m(this,us)){const{data:t}=m(this,us)[e];t!==fg&&(yield[e,t])}}}us=new WeakMap,m1=new WeakSet,__=function(e){var t;return(t=m(this,us))[e]||(t[e]={...Promise.withResolvers(),data:fg})};var Ic;class _O{constructor(e){ee(this,Ic,null);W(this,Ic,e),this.onContinue=null}get promise(){return m(this,Ic).capability.promise}cancel(e=0){m(this,Ic).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=m(this,Ic).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=m(this,Ic);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}Ic=new WeakMap;var Rc,Th;const $u=class $u{constructor({callback:e,params:t,objs:n,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:u,useRequestAnimationFrame:h=!1,pdfBug:f=!1,pageColors:p=null}){ee(this,Rc,null);this.callback=e,this.params=t,this.objs=n,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=u,this._pdfBug=f,this.pageColors=p,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new _O(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var o,l;if(this.cancelled)return;if(this._canvas){if(m($u,Th).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");m($u,Th).add(this._canvas)}this._pdfBug&&((o=globalThis.StepperManager)!=null&&o.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:i,transform:s,background:a}=this.params;this.gfx=new Of(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:a}),this.operatorListIdx=0,this.graphicsReady=!0,(l=this.graphicsReadyCallback)==null||l.call(this)}cancel(e=null,t=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),m(this,Rc)&&(window.cancelAnimationFrame(m(this,Rc)),W(this,Rc,null)),m($u,Th).delete(this._canvas),this.callback(e||new TN(`Rendering cancelled, page ${this._pageIndex+1}`,t))}operatorListChanged(){var e;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.stepper)==null||e.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?W(this,Rc,window.requestAnimationFrame(()=>{W(this,Rc,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),m($u,Th).delete(this._canvas),this.callback())))}};Rc=new WeakMap,Th=new WeakMap,ee($u,Th,new WeakSet);let S_=$u;const SO="4.10.38",NO="f9bea397f";function Ek(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function pg(r){return Math.max(0,Math.min(255,255*r))}class kk{static CMYK_G([e,t,n,i]){return["G",1-Math.min(1,.3*e+.59*n+.11*t+i)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=pg(e),[e,e,e]}static G_HTML([e]){const t=Ek(e);return`#${t}${t}${t}`}static RGB_G([e,t,n]){return["G",.3*e+.59*t+.11*n]}static RGB_rgb(e){return e.map(pg)}static RGB_HTML(e){return`#${e.map(Ek).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,n,i]){return["RGB",1-Math.min(1,e+i),1-Math.min(1,n+i),1-Math.min(1,t+i)]}static CMYK_rgb([e,t,n,i]){return[pg(1-Math.min(1,e+i)),pg(1-Math.min(1,n+i)),pg(1-Math.min(1,t+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,n]){const i=1-e,s=1-t,a=1-n,o=Math.min(i,s,a);return["CMYK",i,s,a,o]}}class EO{create(e,t,n=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const i=this._createSVG("svg:svg");return i.setAttribute("version","1.1"),n||(i.setAttribute("width",`${e}px`),i.setAttribute("height",`${t}px`)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){fr("Abstract method `_createSVG` called.")}}class FN extends EO{_createSVG(e){return document.createElementNS(Qo,e)}}class ML{static setupStorage(e,t,n,i,s){const a=i.getValue(t,{value:null});switch(n.name){case"textarea":if(a.value!==null&&(e.textContent=a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(a.value===n.attributes.xfaOn?e.setAttribute("checked",!0):a.value===n.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",o=>{i.setValue(t,{value:o.target.checked?o.target.getAttribute("xfaOn"):o.target.getAttribute("xfaOff")})})}else{if(a.value!==null&&e.setAttribute("value",a.value),s==="print")break;e.addEventListener("input",o=>{i.setValue(t,{value:o.target.value})})}break;case"select":if(a.value!==null){e.setAttribute("value",a.value);for(const o of n.children)o.attributes.value===a.value?o.attributes.selected=!0:o.attributes.hasOwnProperty("selected")&&delete o.attributes.selected}e.addEventListener("input",o=>{const l=o.target.options,u=l.selectedIndex===-1?"":l[l.selectedIndex].value;i.setValue(t,{value:u})});break}}static setAttributes({html:e,element:t,storage:n=null,intent:i,linkService:s}){const{attributes:a}=t,o=e instanceof HTMLAnchorElement;a.type==="radio"&&(a.name=`${a.name}-${i}`);for(const[l,u]of Object.entries(a))if(u!=null)switch(l){case"class":u.length&&e.setAttribute(l,u.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",u);break;case"style":Object.assign(e.style,u);break;case"textContent":e.textContent=u;break;default:(!o||l!=="href"&&l!=="newWindow")&&e.setAttribute(l,u)}o&&s.addLinkAttributes(e,a.href,a.newWindow),n&&a.dataId&&this.setupStorage(e,a.dataId,t,n)}static render(e){var f,p;const t=e.annotationStorage,n=e.linkService,i=e.xfaHtml,s=e.intent||"display",a=document.createElement(i.name);i.attributes&&this.setAttributes({html:a,element:i,intent:s,linkService:n});const o=s!=="richText",l=e.div;if(l.append(a),e.viewport){const d=`matrix(${e.viewport.transform.join(",")})`;l.style.transform=d}o&&l.setAttribute("class","xfaLayer xfaFont");const u=[];if(i.children.length===0){if(i.value){const d=document.createTextNode(i.value);a.append(d),o&&_0.shouldBuildText(i.name)&&u.push(d)}return{textDivs:u}}const h=[[i,-1,a]];for(;h.length>0;){const[d,x,v]=h.at(-1);if(x+1===d.children.length){h.pop();continue}const b=d.children[++h.at(-1)[1]];if(b===null)continue;const{name:y}=b;if(y==="#text"){const A=document.createTextNode(b.value);u.push(A),v.append(A);continue}const w=(f=b==null?void 0:b.attributes)!=null&&f.xmlns?document.createElementNS(b.attributes.xmlns,y):document.createElement(y);if(v.append(w),b.attributes&&this.setAttributes({html:w,element:b,storage:t,intent:s,linkService:n}),((p=b.children)==null?void 0:p.length)>0)h.push([b,-1,w]);else if(b.value){const A=document.createTextNode(b.value);o&&_0.shouldBuildText(y)&&u.push(A),w.append(A)}}for(const d of l.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:u}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const ay=1e3,kO=9,md=new WeakSet;function ou(r){return{width:r[2]-r[0],height:r[3]-r[1]}}class CO{static create(e){switch(e.data.annotationType){case mn.LINK:return new OL(e);case mn.TEXT:return new TO(e);case mn.WIDGET:switch(e.data.fieldType){case"Tx":return new jO(e);case"Btn":return e.data.radioButton?new zL(e):e.data.checkBox?new LO(e):new IO(e);case"Ch":return new RO(e);case"Sig":return new PO(e)}return new xd(e);case mn.POPUP:return new E_(e);case mn.FREETEXT:return new GL(e);case mn.LINE:return new DO(e);case mn.SQUARE:return new MO(e);case mn.CIRCLE:return new OO(e);case mn.POLYLINE:return new VL(e);case mn.CARET:return new UO(e);case mn.INK:return new DN(e);case mn.POLYGON:return new BO(e);case mn.HIGHLIGHT:return new KL(e);case mn.UNDERLINE:return new zO(e);case mn.SQUIGGLY:return new HO(e);case mn.STRIKEOUT:return new qO(e);case mn.STAMP:return new XL(e);case mn.FILEATTACHMENT:return new WO(e);default:return new tn(e)}}}var jh,Sp,Np,g1,N_;const lE=class lE{constructor(e,{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:i=!1}={}){ee(this,g1);ee(this,jh,null);ee(this,Sp,!1);ee(this,Np,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),i&&this._createQuadrilaterals()}static _hasPopupData({titleObj:e,contentsObj:t,richText:n}){return!!(e!=null&&e.str||t!=null&&t.str||n!=null&&n.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return lE._hasPopupData(this.data)}updateEdited(e){var n;if(!this.container)return;m(this,jh)||W(this,jh,{rect:this.data.rect.slice(0)});const{rect:t}=e;t&&re(this,g1,N_).call(this,t),(n=m(this,Np))==null||n.popup.updateEdited(e)}resetEdited(){var e;m(this,jh)&&(re(this,g1,N_).call(this,m(this,jh).rect),(e=m(this,Np))==null||e.popup.resetEdited(),W(this,jh,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:i}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),this instanceof xd||(s.tabIndex=ay);const{style:a}=s;if(a.zIndex=this.parent.zIndex++,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof E_){const{rotation:v}=t;return!t.hasOwnCanvas&&v!==0&&this.setRotation(v,s),s}const{width:o,height:l}=ou(t.rect);if(!e&&t.borderStyle.width>0){a.borderWidth=`${t.borderStyle.width}px`;const v=t.borderStyle.horizontalCornerRadius,b=t.borderStyle.verticalCornerRadius;if(v>0||b>0){const w=`calc(${v}px * var(--scale-factor)) / calc(${b}px * var(--scale-factor))`;a.borderRadius=w}else if(this instanceof zL){const w=`calc(${o}px * var(--scale-factor)) / calc(${l}px * var(--scale-factor))`;a.borderRadius=w}switch(t.borderStyle.style){case hg.SOLID:a.borderStyle="solid";break;case hg.DASHED:a.borderStyle="dashed";break;case hg.BEVELED:Pt("Unimplemented border style: beveled");break;case hg.INSET:Pt("Unimplemented border style: inset");break;case hg.UNDERLINE:a.borderBottomStyle="solid";break}const y=t.borderColor||null;y?(W(this,Sp,!0),a.borderColor=ut.makeHexColor(y[0]|0,y[1]|0,y[2]|0)):a.borderWidth=0}const u=ut.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:h,pageHeight:f,pageX:p,pageY:d}=i.rawDims;a.left=`${100*(u[0]-p)/h}%`,a.top=`${100*(u[1]-d)/f}%`;const{rotation:x}=t;return t.hasOwnCanvas||x===0?(a.width=`${100*o/h}%`,a.height=`${100*l/f}%`):this.setRotation(x,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:i}=this.parent.viewport.rawDims,{width:s,height:a}=ou(this.data.rect);let o,l;e%180===0?(o=100*s/n,l=100*a/i):(o=100*a/n,l=100*s/i),t.style.width=`${o}%`,t.style.height=`${l}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,n,i)=>{const s=i.detail[t],a=s[0],o=s.slice(1);i.target.style[n]=kk[`${a}_HTML`](o),this.annotationStorage.setValue(this.data.id,{[n]:kk[`${a}_rgb`](o)})};return Ft(this,"_commonActions",{display:t=>{const{display:n}=t.detail,i=n%2===1;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:i,noPrint:n===1||n===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:n}=t.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const n=t.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const i of Object.keys(t.detail)){const s=e[i]||n[i];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[i,s]of Object.entries(t)){const a=n[i];if(a){const o={detail:{[i]:s},target:e};a(o),delete t[i]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,i,s]=this.data.rect.map(v=>Math.fround(v));if(e.length===8){const[v,b,y,w]=e.subarray(2,6);if(i===v&&s===b&&t===y&&n===w)return}const{style:a}=this.container;let o;if(m(this,Sp)){const{borderColor:v,borderWidth:b}=a;a.borderWidth=0,o=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${v}" stroke-width="${b}">`],this.container.classList.add("hasBorder")}const l=i-t,u=s-n,{svgFactory:h}=this,f=h.createElement("svg");f.classList.add("quadrilateralsContainer"),f.setAttribute("width",0),f.setAttribute("height",0);const p=h.createElement("defs");f.append(p);const d=h.createElement("clipPath"),x=`clippath_${this.data.id}`;d.setAttribute("id",x),d.setAttribute("clipPathUnits","objectBoundingBox"),p.append(d);for(let v=2,b=e.length;v<b;v+=8){const y=e[v],w=e[v+1],A=e[v+2],k=e[v+3],M=h.createElement("rect"),$=(A-t)/l,H=(s-w)/u,q=(y-A)/l,D=(w-k)/u;M.setAttribute("x",$),M.setAttribute("y",H),M.setAttribute("width",q),M.setAttribute("height",D),d.append(M),o==null||o.push(`<rect vector-effect="non-scaling-stroke" x="${$}" y="${H}" width="${q}" height="${D}"/>`)}m(this,Sp)&&(o.push("</g></svg>')"),a.backgroundImage=o.join("")),this.container.append(f),this.container.style.clipPath=`url(#${x})`}_createPopup(){const{data:e}=this,t=W(this,Np,new E_({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){fr("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const n=[];if(this._fieldObjects){const i=this._fieldObjects[e];if(i)for(const{page:s,id:a,exportValues:o}of i){if(s===-1||a===t)continue;const l=typeof o=="string"?o:null,u=document.querySelector(`[data-element-id="${a}"]`);if(u&&!md.has(u)){Pt(`_getElementsByName - element not allowed: ${a}`);continue}n.push({id:a,exportValue:l,domElement:u})}return n}for(const i of document.getElementsByName(e)){const{exportValue:s}=i,a=i.getAttribute("data-element-id");a!==t&&md.has(i)&&n.push({id:a,exportValue:s,domElement:i})}return n}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})})}};jh=new WeakMap,Sp=new WeakMap,Np=new WeakMap,g1=new WeakSet,N_=function(e){const{container:{style:t},data:{rect:n,rotation:i},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}}}=this;n==null||n.splice(0,4,...e);const{width:u,height:h}=ou(e);t.left=`${100*(e[0]-o)/s}%`,t.top=`${100*(a-e[3]+l)/a}%`,i===0?(t.width=`${100*u/s}%`,t.height=`${100*h/a}%`):this.setRotation(i)};let tn=lE;var bs,Bu,BL,UL;class OL extends tn{constructor(t,n=null){super(t,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});ee(this,bs);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:n}=this,i=document.createElement("a");i.setAttribute("data-element-id",t.id);let s=!1;return t.url?(n.addLinkAttributes(i,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(i,t.action),s=!0):t.attachment?(re(this,bs,BL).call(this,i,t.attachment,t.attachmentDest),s=!0):t.setOCGState?(re(this,bs,UL).call(this,i,t.setOCGState),s=!0):t.dest?(this._bindLink(i,t.dest),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(i,t),s=!0),t.resetForm?(this._bindResetFormAction(i,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(i,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(i),this.container}_bindLink(t,n){t.href=this.linkService.getDestinationHash(n),t.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&re(this,bs,Bu).call(this)}_bindNamedAction(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(n),!1),re(this,bs,Bu).call(this)}_bindJSAction(t,n){t.href=this.linkService.getAnchorUrl("");const i=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(n.actions)){const a=i.get(s);a&&(t[a]=()=>{var o;return(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:s}}),!1})}t.onclick||(t.onclick=()=>!1),re(this,bs,Bu).call(this)}_bindResetFormAction(t,n){const i=t.onclick;if(i||(t.href=this.linkService.getAnchorUrl("")),re(this,bs,Bu).call(this),!this._fieldObjects){Pt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),i||(t.onclick=()=>!1);return}t.onclick=()=>{var f;i==null||i();const{fields:s,refs:a,include:o}=n,l=[];if(s.length!==0||a.length!==0){const p=new Set(a);for(const d of s){const x=this._fieldObjects[d]||[];for(const{id:v}of x)p.add(v)}for(const d of Object.values(this._fieldObjects))for(const x of d)p.has(x.id)===o&&l.push(x)}else for(const p of Object.values(this._fieldObjects))l.push(...p);const u=this.annotationStorage,h=[];for(const p of l){const{id:d}=p;switch(h.push(d),p.type){case"text":{const v=p.defaultValue||"";u.setValue(d,{value:v});break}case"checkbox":case"radiobutton":{const v=p.defaultValue===p.exportValues;u.setValue(d,{value:v});break}case"combobox":case"listbox":{const v=p.defaultValue||"";u.setValue(d,{value:v});break}default:continue}const x=document.querySelector(`[data-element-id="${d}"]`);if(x){if(!md.has(x)){Pt(`_bindResetFormAction - element not allowed: ${d}`);continue}}else continue;x.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((f=this.linkService.eventBus)==null||f.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}bs=new WeakSet,Bu=function(){this.container.setAttribute("data-internal-link","")},BL=function(t,n,i=null){t.href=this.linkService.getAnchorUrl(""),n.description&&(t.title=n.description),t.onclick=()=>{var s;return(s=this.downloadManager)==null||s.openOrDownloadData(n.content,n.filename,i),!1},re(this,bs,Bu).call(this)},UL=function(t,n){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(n),!1),re(this,bs,Bu).call(this)};class TO extends tn{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class xd extends tn{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Ci.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,i,s){n.includes("mouse")?e.addEventListener(n,a=>{var o;(o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a),shift:a.shiftKey,modifier:this._getKeyModifier(a)}})}):e.addEventListener(n,a=>{var o;if(n==="blur"){if(!t.focused||!a.relatedTarget)return;t.focused=!1}else if(n==="focus"){if(t.focused)return;t.focused=!0}s&&((o=this.linkService.eventBus)==null||o.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:i,value:s(a)}}))})}_setEventListeners(e,t,n,i){var s,a,o;for(const[l,u]of n)(u==="Action"||(s=this.data.actions)!=null&&s[u])&&((u==="Focus"||u==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,l,u,i),u==="Focus"&&!((a=this.data.actions)!=null&&a.Blur)?this._setEventListener(e,t,"blur","Blur",null):u==="Blur"&&!((o=this.data.actions)!=null&&o.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":ut.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,i=this.data.defaultAppearanceData.fontSize||kO,s=e.style;let a;const o=2,l=u=>Math.round(10*u)/10;if(this.data.multiLine){const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o),h=Math.round(u/(R2*i))||1,f=u/h;a=Math.min(i,l(f/R2))}else{const u=Math.abs(this.data.rect[3]-this.data.rect[1]-o);a=Math.min(i,l(u/R2))}s.fontSize=`calc(${a}px * var(--scale-factor))`,s.color=ut.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class jO extends xd{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,n,i){const s=this.annotationStorage;for(const a of this._getElementsByName(e.name,e.id))a.domElement&&(a.domElement[t]=n),s.setValue(a.id,{[i]:n})}render(){var i,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const a=e.getValue(t,{value:this.data.fieldValue});let o=a.value||"";const l=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;l&&o.length>l&&(o=o.slice(0,l));let u=a.formattedValue||((i=this.data.textContent)==null?void 0:i.join(`
`))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const h={userValue:o,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=u??o,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",u??o),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),md.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=ay,this._setRequired(n,this.data.required),l&&(n.maxLength=l),n.addEventListener("input",p=>{e.setValue(t,{value:p.target.value}),this.setPropertyOnSiblings(n,"value",p.target.value,"value"),h.formattedValue=null}),n.addEventListener("resetform",p=>{const d=this.data.defaultFieldValue??"";n.value=h.userValue=d,h.formattedValue=null});let f=p=>{const{formattedValue:d}=h;d!=null&&(p.target.value=d),p.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",d=>{var v;if(h.focused)return;const{target:x}=d;h.userValue&&(x.value=h.userValue),h.lastCommittedValue=x.value,h.commitKey=1,(v=this.data.actions)!=null&&v.Focus||(h.focused=!0)}),n.addEventListener("updatefromsandbox",d=>{this.showElementAndHideCanvas(d.target);const x={value(v){h.userValue=v.detail.value??"",e.setValue(t,{value:h.userValue.toString()}),v.target.value=h.userValue},formattedValue(v){const{formattedValue:b}=v.detail;h.formattedValue=b,b!=null&&v.target!==document.activeElement&&(v.target.value=b),e.setValue(t,{formattedValue:b})},selRange(v){v.target.setSelectionRange(...v.detail.selRange)},charLimit:v=>{var A;const{charLimit:b}=v.detail,{target:y}=v;if(b===0){y.removeAttribute("maxLength");return}y.setAttribute("maxLength",b);let w=h.userValue;!w||w.length<=b||(w=w.slice(0,b),y.value=h.userValue=w,e.setValue(t,{value:w}),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:w,willCommit:!0,commitKey:1,selStart:y.selectionStart,selEnd:y.selectionEnd}}))}};this._dispatchEventFromSandbox(x,d)}),n.addEventListener("keydown",d=>{var b;h.commitKey=1;let x=-1;if(d.key==="Escape"?x=0:d.key==="Enter"&&!this.data.multiLine?x=2:d.key==="Tab"&&(h.commitKey=3),x===-1)return;const{value:v}=d.target;h.lastCommittedValue!==v&&(h.lastCommittedValue=v,h.userValue=v,(b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:v,willCommit:!0,commitKey:x,selStart:d.target.selectionStart,selEnd:d.target.selectionEnd}}))});const p=f;f=null,n.addEventListener("blur",d=>{var v,b;if(!h.focused||!d.relatedTarget)return;(v=this.data.actions)!=null&&v.Blur||(h.focused=!1);const{value:x}=d.target;h.userValue=x,h.lastCommittedValue!==x&&((b=this.linkService.eventBus)==null||b.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:h.commitKey,selStart:d.target.selectionStart,selEnd:d.target.selectionEnd}})),p(d)}),(s=this.data.actions)!=null&&s.Keystroke&&n.addEventListener("beforeinput",d=>{var M;h.lastCommittedValue=null;const{data:x,target:v}=d,{value:b,selectionStart:y,selectionEnd:w}=v;let A=y,k=w;switch(d.inputType){case"deleteWordBackward":{const $=b.substring(0,y).match(/\w*[^\w]*$/);$&&(A-=$[0].length);break}case"deleteWordForward":{const $=b.substring(y).match(/^[^\w]*\w*/);$&&(k+=$[0].length);break}case"deleteContentBackward":y===w&&(A-=1);break;case"deleteContentForward":y===w&&(k+=1);break}d.preventDefault(),(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:b,change:x||"",willCommit:!1,selStart:A,selEnd:k}})}),this._setEventListeners(n,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],d=>d.target.value)}if(f&&n.addEventListener("blur",f),this.data.comb){const d=(this.data.rect[2]-this.data.rect[0])/l;n.classList.add("comb"),n.style.letterSpacing=`calc(${d}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class PO extends xd{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class LO extends xd{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;typeof i=="string"&&(i=i!=="Off",e.setValue(n,{value:i})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return md.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=ay,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,n)){const h=l&&u.exportValue===t.exportValue;u.domElement&&(u.domElement.checked=h),e.setValue(u.id,{value:h})}e.setValue(n,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue||"Off";a.target.checked=o===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",a=>{const o={value(l){l.target.checked=l.detail.value!=="Off",e.setValue(n,{value:l.target.checked})}};this._dispatchEventFromSandbox(o,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class zL extends xd{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let i=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if(typeof i=="string"&&(i=i!==t.buttonValue,e.setValue(n,{value:i})),i)for(const a of this._getElementsByName(t.fieldName,n))e.setValue(a.id,{value:!1});const s=document.createElement("input");if(md.add(s),s.setAttribute("data-element-id",n),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,i&&s.setAttribute("checked",!0),s.tabIndex=ay,s.addEventListener("change",a=>{const{name:o,checked:l}=a.target;for(const u of this._getElementsByName(o,n))e.setValue(u.id,{value:!1});e.setValue(n,{value:l})}),s.addEventListener("resetform",a=>{const o=t.defaultFieldValue;a.target.checked=o!=null&&o===t.buttonValue}),this.enableScripting&&this.hasJSActions){const a=t.buttonValue;s.addEventListener("updatefromsandbox",o=>{const l={value:u=>{const h=a===u.detail.value;for(const f of this._getElementsByName(u.target.name)){const p=h&&f.id===n;f.domElement&&(f.domElement.checked=p),e.setValue(f.id,{value:p})}}};this._dispatchEventFromSandbox(l,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class IO extends OL{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),e}}class RO extends xd{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),i=document.createElement("select");md.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,this._setRequired(i,this.data.required),i.name=this.data.fieldName,i.tabIndex=ay;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(i.size=this.data.options.length,this.data.multiSelect&&(i.multiple=!0)),i.addEventListener("resetform",h=>{const f=this.data.defaultFieldValue;for(const p of i.options)p.selected=p.value===f});for(const h of this.data.options){const f=document.createElement("option");f.textContent=h.displayValue,f.value=h.exportValue,n.value.includes(h.exportValue)&&(f.setAttribute("selected",!0),s=!1),i.append(f)}let a=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),i.prepend(h),a=()=>{h.remove(),i.removeEventListener("input",a),a=null},i.addEventListener("input",a)}const o=h=>{const f=h?"value":"textContent",{options:p,multiple:d}=i;return d?Array.prototype.filter.call(p,x=>x.selected).map(x=>x[f]):p.selectedIndex===-1?null:p[p.selectedIndex][f]};let l=o(!1);const u=h=>{const f=h.target.options;return Array.prototype.map.call(f,p=>({displayValue:p.textContent,exportValue:p.value}))};return this.enableScripting&&this.hasJSActions?(i.addEventListener("updatefromsandbox",h=>{const f={value(p){a==null||a();const d=p.detail.value,x=new Set(Array.isArray(d)?d:[d]);for(const v of i.options)v.selected=x.has(v.value);e.setValue(t,{value:o(!0)}),l=o(!1)},multipleSelection(p){i.multiple=!0},remove(p){const d=i.options,x=p.detail.remove;d[x].selected=!1,i.remove(x),d.length>0&&Array.prototype.findIndex.call(d,b=>b.selected)===-1&&(d[0].selected=!0),e.setValue(t,{value:o(!0),items:u(p)}),l=o(!1)},clear(p){for(;i.length!==0;)i.remove(0);e.setValue(t,{value:null,items:[]}),l=o(!1)},insert(p){const{index:d,displayValue:x,exportValue:v}=p.detail.insert,b=i.children[d],y=document.createElement("option");y.textContent=x,y.value=v,b?b.before(y):i.append(y),e.setValue(t,{value:o(!0),items:u(p)}),l=o(!1)},items(p){const{items:d}=p.detail;for(;i.length!==0;)i.remove(0);for(const x of d){const{displayValue:v,exportValue:b}=x,y=document.createElement("option");y.textContent=v,y.value=b,i.append(y)}i.options.length>0&&(i.options[0].selected=!0),e.setValue(t,{value:o(!0),items:u(p)}),l=o(!1)},indices(p){const d=new Set(p.detail.indices);for(const x of p.target.options)x.selected=d.has(x.index);e.setValue(t,{value:o(!0)}),l=o(!1)},editable(p){p.target.disabled=!p.detail.editable}};this._dispatchEventFromSandbox(f,h)}),i.addEventListener("input",h=>{var d;const f=o(!0),p=o(!1);e.setValue(t,{value:f}),h.preventDefault(),(d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:l,change:p,changeEx:f,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(i,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):i.addEventListener("input",function(h){e.setValue(t,{value:o(!0)})}),this.data.combo&&this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class E_ extends tn{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:tn._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new FO({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map(n=>`${CN}${n}`).join(",")),this.container}}var Ep,kw,Cw,kp,Ph,Ur,vl,Cp,y1,v1,Tp,xl,Ea,wl,x1,bl,w1,Lh,Ih,or,ox,k_,HL,qL,WL,$L,lx,cx,C_;class FO{constructor({container:e,color:t,elements:n,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:u,parentRect:h,open:f}){ee(this,or);ee(this,Ep,re(this,or,WL).bind(this));ee(this,kw,re(this,or,C_).bind(this));ee(this,Cw,re(this,or,cx).bind(this));ee(this,kp,re(this,or,lx).bind(this));ee(this,Ph,null);ee(this,Ur,null);ee(this,vl,null);ee(this,Cp,null);ee(this,y1,null);ee(this,v1,null);ee(this,Tp,null);ee(this,xl,!1);ee(this,Ea,null);ee(this,wl,null);ee(this,x1,null);ee(this,bl,null);ee(this,w1,null);ee(this,Lh,null);ee(this,Ih,!1);var p;W(this,Ur,e),W(this,w1,i),W(this,vl,a),W(this,bl,o),W(this,v1,l),W(this,Ph,t),W(this,x1,u),W(this,Tp,h),W(this,y1,n),W(this,Cp,PN.toDateObject(s)),this.trigger=n.flatMap(d=>d.getElementsToTriggerPopup());for(const d of this.trigger)d.addEventListener("click",m(this,kp)),d.addEventListener("mouseenter",m(this,Cw)),d.addEventListener("mouseleave",m(this,kw)),d.classList.add("popupTriggerArea");for(const d of n)(p=d.container)==null||p.addEventListener("keydown",m(this,Ep));m(this,Ur).hidden=!0,f&&re(this,or,lx).call(this)}render(){if(m(this,Ea))return;const e=W(this,Ea,document.createElement("div"));if(e.className="popup",m(this,Ph)){const s=e.style.outlineColor=ut.makeHexColor(...m(this,Ph));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`:e.style.backgroundColor=ut.makeHexColor(...m(this,Ph).map(o=>Math.floor(.7*(255-o)+o)))}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),{dir:n.dir,str:n.textContent}=m(this,w1),e.append(t),m(this,Cp)){const s=document.createElement("span");s.classList.add("popupDate"),s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:m(this,Cp).valueOf()})),t.append(s)}const i=m(this,or,ox);if(i)ML.render({xfaHtml:i,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const s=this._formatContents(m(this,vl));e.append(s)}m(this,Ur).append(e)}_formatContents({str:e,dir:t}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=t;const i=e.split(/(?:\r\n?|\n)/);for(let s=0,a=i.length;s<a;++s){const o=i[s];n.append(document.createTextNode(o)),s<a-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:e,popupContent:t}){var n;m(this,Lh)||W(this,Lh,{contentsObj:m(this,vl),richText:m(this,bl)}),e&&W(this,wl,null),t&&(W(this,bl,re(this,or,qL).call(this,t)),W(this,vl,null)),(n=m(this,Ea))==null||n.remove(),W(this,Ea,null)}resetEdited(){var e;m(this,Lh)&&({contentsObj:wi(this,vl)._,richText:wi(this,bl)._}=m(this,Lh),W(this,Lh,null),(e=m(this,Ea))==null||e.remove(),W(this,Ea,null),W(this,wl,null))}forceHide(){W(this,Ih,this.isVisible),m(this,Ih)&&(m(this,Ur).hidden=!0)}maybeShow(){m(this,Ih)&&(m(this,Ea)||re(this,or,cx).call(this),W(this,Ih,!1),m(this,Ur).hidden=!1)}get isVisible(){return m(this,Ur).hidden===!1}}Ep=new WeakMap,kw=new WeakMap,Cw=new WeakMap,kp=new WeakMap,Ph=new WeakMap,Ur=new WeakMap,vl=new WeakMap,Cp=new WeakMap,y1=new WeakMap,v1=new WeakMap,Tp=new WeakMap,xl=new WeakMap,Ea=new WeakMap,wl=new WeakMap,x1=new WeakMap,bl=new WeakMap,w1=new WeakMap,Lh=new WeakMap,Ih=new WeakMap,or=new WeakSet,ox=function(){const e=m(this,bl),t=m(this,vl);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&m(this,bl).html||null},k_=function(){var e,t,n;return((n=(t=(e=m(this,or,ox))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.fontSize)||0},HL=function(){var e,t,n;return((n=(t=(e=m(this,or,ox))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:n.color)||null},qL=function(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},i={style:{color:m(this,or,HL),fontSize:m(this,or,k_)?`calc(${m(this,or,k_)}px * var(--scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:i});return n},WL=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&m(this,xl))&&re(this,or,lx).call(this)},$L=function(){if(m(this,wl)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:i,pageY:s}}}=m(this,v1);let a=!!m(this,Tp),o=a?m(this,Tp):m(this,x1);for(const x of m(this,y1))if(!o||ut.intersect(x.data.rect,o)!==null){o=x.data.rect,a=!0;break}const l=ut.normalizeRect([o[0],e[3]-o[1]+e[1],o[2],e[3]-o[3]+e[1]]),h=a?o[2]-o[0]+5:0,f=l[0]+h,p=l[1];W(this,wl,[100*(f-i)/t,100*(p-s)/n]);const{style:d}=m(this,Ur);d.left=`${m(this,wl)[0]}%`,d.top=`${m(this,wl)[1]}%`},lx=function(){W(this,xl,!m(this,xl)),m(this,xl)?(re(this,or,cx).call(this),m(this,Ur).addEventListener("click",m(this,kp)),m(this,Ur).addEventListener("keydown",m(this,Ep))):(re(this,or,C_).call(this),m(this,Ur).removeEventListener("click",m(this,kp)),m(this,Ur).removeEventListener("keydown",m(this,Ep)))},cx=function(){m(this,Ea)||this.render(),this.isVisible?m(this,xl)&&m(this,Ur).classList.add("focused"):(re(this,or,$L).call(this),m(this,Ur).hidden=!1,m(this,Ur).style.zIndex=parseInt(m(this,Ur).style.zIndex)+1e3)},C_=function(){m(this,Ur).classList.remove("focused"),!(m(this,xl)||!this.isVisible)&&(m(this,Ur).hidden=!0,m(this,Ur).style.zIndex=parseInt(m(this,Ur).style.zIndex)-1e3)};class GL extends tn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=jt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var b1;class DO extends tn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ee(this,b1,null)}render(){this.container.classList.add("lineAnnotation");const t=this.data,{width:n,height:i}=ou(t.rect),s=this.svgFactory.create(n,i,!0),a=W(this,b1,this.svgFactory.createElement("svg:line"));return a.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),a.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),a.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),a.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),a.setAttribute("stroke-width",t.borderStyle.width||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,b1)}addHighlightArea(){this.container.classList.add("highlightArea")}}b1=new WeakMap;var A1;class MO extends tn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ee(this,A1,null)}render(){this.container.classList.add("squareAnnotation");const t=this.data,{width:n,height:i}=ou(t.rect),s=this.svgFactory.create(n,i,!0),a=t.borderStyle.width,o=W(this,A1,this.svgFactory.createElement("svg:rect"));return o.setAttribute("x",a/2),o.setAttribute("y",a/2),o.setAttribute("width",n-a),o.setAttribute("height",i-a),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,A1)}addHighlightArea(){this.container.classList.add("highlightArea")}}A1=new WeakMap;var _1;class OO extends tn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ee(this,_1,null)}render(){this.container.classList.add("circleAnnotation");const t=this.data,{width:n,height:i}=ou(t.rect),s=this.svgFactory.create(n,i,!0),a=t.borderStyle.width,o=W(this,_1,this.svgFactory.createElement("svg:ellipse"));return o.setAttribute("cx",n/2),o.setAttribute("cy",i/2),o.setAttribute("rx",n/2-a/2),o.setAttribute("ry",i/2-a/2),o.setAttribute("stroke-width",a||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,_1)}addHighlightArea(){this.container.classList.add("highlightArea")}}_1=new WeakMap;var S1;class VL extends tn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ee(this,S1,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:n,borderStyle:i,popupRef:s}}=this;if(!n)return this.container;const{width:a,height:o}=ou(t),l=this.svgFactory.create(a,o,!0);let u=[];for(let f=0,p=n.length;f<p;f+=2){const d=n[f]-t[0],x=t[3]-n[f+1];u.push(`${d},${x}`)}u=u.join(" ");const h=W(this,S1,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",u),h.setAttribute("stroke-width",i.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),l.append(h),this.container.append(l),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return m(this,S1)}addHighlightArea(){this.container.classList.add("highlightArea")}}S1=new WeakMap;class BO extends VL{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class UO extends tn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var N1,Rh,E1,T_;class DN extends tn{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});ee(this,E1);ee(this,N1,null);ee(this,Rh,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?jt.HIGHLIGHT:jt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:n,inkLists:i,borderStyle:s,popupRef:a}}=this,{transform:o,width:l,height:u}=re(this,E1,T_).call(this,n,t),h=this.svgFactory.create(l,u,!0),f=W(this,N1,this.svgFactory.createElement("svg:g"));h.append(f),f.setAttribute("stroke-width",s.width||1),f.setAttribute("stroke-linecap","round"),f.setAttribute("stroke-linejoin","round"),f.setAttribute("stroke-miterlimit",10),f.setAttribute("stroke","transparent"),f.setAttribute("fill","transparent"),f.setAttribute("transform",o);for(let p=0,d=i.length;p<d;p++){const x=this.svgFactory.createElement(this.svgElementName);m(this,Rh).push(x),x.setAttribute("points",i[p].join(",")),f.append(x)}return!a&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:n,points:i,rect:s}=t,a=m(this,N1);if(n>=0&&a.setAttribute("stroke-width",n||1),i)for(let o=0,l=m(this,Rh).length;o<l;o++)m(this,Rh)[o].setAttribute("points",i[o].join(","));if(s){const{transform:o,width:l,height:u}=re(this,E1,T_).call(this,this.data.rotation,s);a.parentElement.setAttribute("viewBox",`0 0 ${l} ${u}`),a.setAttribute("transform",o)}}getElementsToTriggerPopup(){return m(this,Rh)}addHighlightArea(){this.container.classList.add("highlightArea")}}N1=new WeakMap,Rh=new WeakMap,E1=new WeakSet,T_=function(t,n){switch(t){case 90:return{transform:`rotate(90) translate(${-n[0]},${n[1]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};case 180:return{transform:`rotate(180) translate(${-n[2]},${n[1]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]};case 270:return{transform:`rotate(270) translate(${-n[2]},${n[3]}) scale(1,-1)`,width:n[3]-n[1],height:n[2]-n[0]};default:return{transform:`translate(${-n[0]},${n[3]}) scale(1,-1)`,width:n[2]-n[0],height:n[3]-n[1]}}};class KL extends tn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=jt.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class zO extends tn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class HO extends tn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class qO extends tn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class XL extends tn{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=jt.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var k1,C1,j_;class WO extends tn{constructor(t){var i;super(t,{isRenderable:!0});ee(this,C1);ee(this,k1,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(i=this.linkService.eventBus)==null||i.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:n}=this;let i;n.hasAppearance||n.fillAlpha===0?i=document.createElement("div"):(i=document.createElement("img"),i.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(i.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),i.addEventListener("dblclick",re(this,C1,j_).bind(this)),W(this,k1,i);const{isMac:s}=Ci.platform;return t.addEventListener("keydown",a=>{a.key==="Enter"&&(s?a.metaKey:a.ctrlKey)&&re(this,C1,j_).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():i.classList.add("popupTriggerArea"),t.append(i),t}getElementsToTriggerPopup(){return m(this,k1)}addHighlightArea(){this.container.classList.add("highlightArea")}}k1=new WeakMap,C1=new WeakSet,j_=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var T1,Fh,Dh,j1,gd,YL,P_;class $O{constructor({div:e,accessibilityManager:t,annotationCanvasMap:n,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o}){ee(this,gd);ee(this,T1,null);ee(this,Fh,null);ee(this,Dh,new Map);ee(this,j1,null);this.div=e,W(this,T1,t),W(this,Fh,n),W(this,j1,o||null),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return m(this,Dh).size>0}async render(e){var a;const{annotations:t}=e,n=this.div;fd(n,this.viewport);const i=new Map,s={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new FN,annotationStorage:e.annotationStorage||new IN,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const o of t){if(o.noHTML)continue;const l=o.annotationType===mn.POPUP;if(l){const f=i.get(o.id);if(!f)continue;s.elements=f}else{const{width:f,height:p}=ou(o.rect);if(f<=0||p<=0)continue}s.data=o;const u=CO.create(s);if(!u.isRenderable)continue;if(!l&&o.popupRef){const f=i.get(o.popupRef);f?f.push(u):i.set(o.popupRef,[u])}const h=u.render();o.hidden&&(h.style.visibility="hidden"),await re(this,gd,YL).call(this,h,o.id),u._isEditable&&(m(this,Dh).set(u.data.id,u),(a=this._annotationEditorUIManager)==null||a.renderAnnotationElement(u))}re(this,gd,P_).call(this)}update({viewport:e}){const t=this.div;this.viewport=e,fd(t,{rotation:e.rotation}),re(this,gd,P_).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(m(this,Dh).values())}getEditableAnnotation(e){return m(this,Dh).get(e)}}T1=new WeakMap,Fh=new WeakMap,Dh=new WeakMap,j1=new WeakMap,gd=new WeakSet,YL=async function(e,t){var a,o;const n=e.firstChild||e,i=n.id=`${CN}${t}`,s=await((a=m(this,j1))==null?void 0:a.getAriaAttributes(i));if(s)for(const[l,u]of s)n.setAttribute(l,u);this.div.append(e),(o=m(this,T1))==null||o.moveElementInDOM(this.div,e,n,!1)},P_=function(){if(!m(this,Fh))return;const e=this.div;for(const[t,n]of m(this,Fh)){const i=e.querySelector(`[data-annotation-id="${t}"]`);if(!i)continue;n.className="annotationContent";const{firstChild:s}=i;s?s.nodeName==="CANVAS"?s.replaceWith(n):s.classList.contains("annotationContent")?s.after(n):s.before(n):i.append(n)}m(this,Fh).clear()};const wv=/\r\n?|\n/g;var ka,hs,P1,Mh,ds,dn,QL,JL,ZL,ux,Dl,hx,dx,e8,I_,t8;const yr=class yr extends Rr{constructor(t){super({...t,name:"freeTextEditor"});ee(this,dn);ee(this,ka);ee(this,hs,"");ee(this,P1,`${this.id}-editor`);ee(this,Mh,null);ee(this,ds);W(this,ka,t.color||yr._defaultColor||Rr._defaultLineColor),W(this,ds,t.fontSize||yr._defaultFontSize)}static get _keyboardManager(){const t=yr.prototype,n=a=>a.isEmpty(),i=pd.TRANSLATE_SMALL,s=pd.TRANSLATE_BIG;return Ft(this,"_keyboardManager",new sy([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-i,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:n}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[i,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:n}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-i],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:n}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,i],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:n}]]))}static initialize(t,n){Rr.initialize(t,n);const i=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(i.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,n){switch(t){case Bt.FREETEXT_SIZE:yr._defaultFontSize=n;break;case Bt.FREETEXT_COLOR:yr._defaultColor=n;break}}updateParams(t,n){switch(t){case Bt.FREETEXT_SIZE:re(this,dn,QL).call(this,n);break;case Bt.FREETEXT_COLOR:re(this,dn,JL).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Bt.FREETEXT_SIZE,yr._defaultFontSize],[Bt.FREETEXT_COLOR,yr._defaultColor||Rr._defaultLineColor]]}get propertiesToUpdate(){return[[Bt.FREETEXT_SIZE,m(this,ds)],[Bt.FREETEXT_COLOR,m(this,ka)]]}_translateEmpty(t,n){this._uiManager.translateSelectedEditors(t,n,!0)}getInitialTranslation(){const t=this.parentScale;return[-yr._internalPadding*t,-(yr._internalPadding+m(this,ds))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(jt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),W(this,Mh,new AbortController);const t=this._uiManager.combinedSignal(m(this,Mh));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t})}disableEditMode(){var t;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",m(this,P1)),this._isDraggable=!0,(t=m(this,Mh))==null||t.abort(),W(this,Mh,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var n;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(n=this._initialOptions)!=null&&n.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=m(this,hs),n=W(this,hs,re(this,dn,ZL).call(this).trimEnd());if(t===n)return;const i=s=>{if(W(this,hs,s),!s){this.remove();return}re(this,dn,dx).call(this),this._uiManager.rebuild(this),re(this,dn,ux).call(this)};this.addCommands({cmd:()=>{i(n)},undo:()=>{i(t)},mustExec:!1}),re(this,dn,ux).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(t){this.enterInEditMode()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){yr._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let t,n;this.width&&(t=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",m(this,P1)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:i}=this.editorDiv;if(i.fontSize=`calc(${m(this,ds)}px * var(--scale-factor))`,i.color=m(this,ka),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),nw(this,this.div,["dblclick","keydown"]),this.width){const[s,a]=this.parentDimensions;if(this.annotationElementId){const{position:o}=this._initialData;let[l,u]=this.getInitialTranslation();[l,u]=this.pageTranslationToScreen(l,u);const[h,f]=this.pageDimensions,[p,d]=this.pageTranslation;let x,v;switch(this.rotation){case 0:x=t+(o[0]-p)/h,v=n+this.height-(o[1]-d)/f;break;case 90:x=t+(o[0]-p)/h,v=n-(o[1]-d)/f,[l,u]=[u,-l];break;case 180:x=t-this.width+(o[0]-p)/h,v=n-(o[1]-d)/f,[l,u]=[-l,-u];break;case 270:x=t+(o[0]-p-this.height*f)/h,v=n+(o[1]-d-this.width*h)/f,[l,u]=[-u,l];break}this.setAt(x*s,v*a,l,u)}else this.setAt(t*s,n*a,this.width*s,this.height*a);re(this,dn,dx).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var x,v,b;const n=t.clipboardData||window.clipboardData,{types:i}=n;if(i.length===1&&i[0]==="text/plain")return;t.preventDefault();const s=re(x=yr,Dl,I_).call(x,n.getData("text")||"").replaceAll(wv,`
`);if(!s)return;const a=window.getSelection();if(!a.rangeCount)return;this.editorDiv.normalize(),a.deleteFromDocument();const o=a.getRangeAt(0);if(!s.includes(`
`)){o.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),a.collapseToStart();return}const{startContainer:l,startOffset:u}=o,h=[],f=[];if(l.nodeType===Node.TEXT_NODE){const y=l.parentElement;if(f.push(l.nodeValue.slice(u).replaceAll(wv,"")),y!==this.editorDiv){let w=h;for(const A of this.editorDiv.childNodes){if(A===y){w=f;continue}w.push(re(v=yr,Dl,hx).call(v,A))}}h.push(l.nodeValue.slice(0,u).replaceAll(wv,""))}else if(l===this.editorDiv){let y=h,w=0;for(const A of this.editorDiv.childNodes)w++===u&&(y=f),y.push(re(b=yr,Dl,hx).call(b,A))}W(this,hs,`${h.join(`
`)}${s}${f.join(`
`)}`),re(this,dn,dx).call(this);const p=new Range;let d=h.reduce((y,w)=>y+w.length,0);for(const{firstChild:y}of this.editorDiv.childNodes)if(y.nodeType===Node.TEXT_NODE){const w=y.nodeValue.length;if(d<=w){p.setStart(y,d),p.setEnd(y,d);break}d-=w}a.removeAllRanges(),a.addRange(p)}get contentDiv(){return this.editorDiv}static async deserialize(t,n,i){var o;let s=null;if(t instanceof GL){const{data:{defaultAppearanceData:{fontSize:l,fontColor:u},rect:h,rotation:f,id:p,popupRef:d},textContent:x,textPosition:v,parent:{page:{pageNumber:b}}}=t;if(!x||x.length===0)return null;s=t={annotationType:jt.FREETEXT,color:Array.from(u),fontSize:l,value:x.join(`
`),position:v,pageIndex:b-1,rect:h.slice(0),rotation:f,id:p,deleted:!1,popupRef:d}}const a=await super.deserialize(t,n,i);return W(a,ds,t.fontSize),W(a,ka,ut.makeHexColor(...t.color)),W(a,hs,re(o=yr,Dl,I_).call(o,t.value)),a.annotationElementId=t.id||null,a._initialData=s,a}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n=yr._internalPadding*this.parentScale,i=this.getRect(n,n),s=Rr._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:m(this,ka)),a={annotationType:jt.FREETEXT,color:s,fontSize:m(this,ds),value:re(this,dn,e8).call(this),pageIndex:this.pageIndex,rect:i,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?a:this.annotationElementId&&!re(this,dn,t8).call(this,a)?null:(a.id=this.annotationElementId,a)}renderAnnotationElement(t){const n=super.renderAnnotationElement(t);if(this.deleted)return n;const{style:i}=n;i.fontSize=`calc(${m(this,ds)}px * var(--scale-factor))`,i.color=m(this,ka),n.replaceChildren();for(const a of m(this,hs).split(`
`)){const o=document.createElement("div");o.append(a?document.createTextNode(a):document.createElement("br")),n.append(o)}const s=yr._internalPadding*this.parentScale;return t.updateEdited({rect:this.getRect(s,s),popupContent:m(this,hs)}),n}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};ka=new WeakMap,hs=new WeakMap,P1=new WeakMap,Mh=new WeakMap,ds=new WeakMap,dn=new WeakSet,QL=function(t){const n=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--scale-factor))`,this.translate(0,-(s-m(this,ds))*this.parentScale),W(this,ds,s),re(this,dn,ux).call(this)},i=m(this,ds);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},JL=function(t){const n=s=>{W(this,ka,this.editorDiv.style.color=s)},i=m(this,ka);this.addCommands({cmd:n.bind(this,t),undo:n.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},ZL=function(){var i;const t=[];this.editorDiv.normalize();let n=null;for(const s of this.editorDiv.childNodes)(n==null?void 0:n.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(re(i=yr,Dl,hx).call(i,s)),n=s);return t.join(`
`)},ux=function(){const[t,n]=this.parentDimensions;let i;if(this.isAttachedToDOM)i=this.div.getBoundingClientRect();else{const{currentLayer:s,div:a}=this,o=a.style.display,l=a.classList.contains("hidden");a.classList.remove("hidden"),a.style.display="hidden",s.div.append(this.div),i=a.getBoundingClientRect(),a.remove(),a.style.display=o,a.classList.toggle("hidden",l)}this.rotation%180===this.parentRotation%180?(this.width=i.width/t,this.height=i.height/n):(this.width=i.height/t,this.height=i.width/n),this.fixAndSetPosition()},Dl=new WeakSet,hx=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(wv,"")},dx=function(){if(this.editorDiv.replaceChildren(),!!m(this,hs))for(const t of m(this,hs).split(`
`)){const n=document.createElement("div");n.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(n)}},e8=function(){return m(this,hs).replaceAll(" "," ")},I_=function(t){return t.replaceAll(" "," ")},t8=function(t){const{value:n,fontSize:i,color:s,pageIndex:a}=this._initialData;return this._hasBeenMoved||t.value!==n||t.fontSize!==i||t.color.some((o,l)=>o!==s[l])||t.pageIndex!==a},ee(yr,Dl),dt(yr,"_freeTextDefaultContent",""),dt(yr,"_internalPadding",0),dt(yr,"_defaultColor",null),dt(yr,"_defaultFontSize",10),dt(yr,"_type","freetext"),dt(yr,"_editorType",jt.FREETEXT);let L_=yr;class it{toSVGPath(){fr("Abstract method `toSVGPath` must be implemented.")}get box(){fr("Abstract getter `box` must be implemented.")}serialize(e,t){fr("Abstract method `serialize` must be implemented.")}static _rescale(e,t,n,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o]*i,a[o+1]=n+e[o+1]*s;return a}static _rescaleAndSwap(e,t,n,i,s,a){a||(a=new Float32Array(e.length));for(let o=0,l=e.length;o<l;o+=2)a[o]=t+e[o+1]*i,a[o+1]=n+e[o]*s;return a}static _translate(e,t,n,i){i||(i=new Float32Array(e.length));for(let s=0,a=e.length;s<a;s+=2)i[s]=t+e[s],i[s+1]=n+e[s+1];return i}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,n,i,s){switch(s){case 90:return[1-t/n,e/i];case 180:return[1-e/n,1-t/i];case 270:return[t/n,1-e/i];default:return[e/n,t/i]}}static _normalizePagePoint(e,t,n){switch(n){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,n,i,s,a){return[(e+5*n)/6,(t+5*i)/6,(5*n+s)/6,(5*i+a)/6,(n+s)/2,(i+a)/2]}}dt(it,"PRECISION",1e-4);var fs,Ca,jp,Pp,wo,Rt,Oh,Bh,L1,I1,Lp,Ip,Fc,R1,Tw,jw,bn,Fg,r8,n8,i8,s8,a8,o8;const rl=class rl{constructor({x:e,y:t},n,i,s,a,o=0){ee(this,bn);ee(this,fs);ee(this,Ca,[]);ee(this,jp);ee(this,Pp);ee(this,wo,[]);ee(this,Rt,new Float32Array(18));ee(this,Oh);ee(this,Bh);ee(this,L1);ee(this,I1);ee(this,Lp);ee(this,Ip);ee(this,Fc,[]);W(this,fs,n),W(this,Ip,s*i),W(this,Pp,a),m(this,Rt).set([NaN,NaN,NaN,NaN,e,t],6),W(this,jp,o),W(this,I1,m(rl,R1)*i),W(this,L1,m(rl,jw)*i),W(this,Lp,i),m(this,Fc).push(e,t)}isEmpty(){return isNaN(m(this,Rt)[8])}add({x:e,y:t}){var D;W(this,Oh,e),W(this,Bh,t);const[n,i,s,a]=m(this,fs);let[o,l,u,h]=m(this,Rt).subarray(8,12);const f=e-u,p=t-h,d=Math.hypot(f,p);if(d<m(this,L1))return!1;const x=d-m(this,I1),v=x/d,b=v*f,y=v*p;let w=o,A=l;o=u,l=h,u+=b,h+=y,(D=m(this,Fc))==null||D.push(e,t);const k=-y/x,M=b/x,$=k*m(this,Ip),H=M*m(this,Ip);return m(this,Rt).set(m(this,Rt).subarray(2,8),0),m(this,Rt).set([u+$,h+H],4),m(this,Rt).set(m(this,Rt).subarray(14,18),12),m(this,Rt).set([u-$,h-H],16),isNaN(m(this,Rt)[6])?(m(this,wo).length===0&&(m(this,Rt).set([o+$,l+H],2),m(this,wo).push(NaN,NaN,NaN,NaN,(o+$-n)/s,(l+H-i)/a),m(this,Rt).set([o-$,l-H],14),m(this,Ca).push(NaN,NaN,NaN,NaN,(o-$-n)/s,(l-H-i)/a)),m(this,Rt).set([w,A,o,l,u,h],6),!this.isEmpty()):(m(this,Rt).set([w,A,o,l,u,h],6),Math.abs(Math.atan2(A-l,w-o)-Math.atan2(y,b))<Math.PI/2?([o,l,u,h]=m(this,Rt).subarray(2,6),m(this,wo).push(NaN,NaN,NaN,NaN,((o+u)/2-n)/s,((l+h)/2-i)/a),[o,l,w,A]=m(this,Rt).subarray(14,18),m(this,Ca).push(NaN,NaN,NaN,NaN,((w+o)/2-n)/s,((A+l)/2-i)/a),!0):([w,A,o,l,u,h]=m(this,Rt).subarray(0,6),m(this,wo).push(((w+5*o)/6-n)/s,((A+5*l)/6-i)/a,((5*o+u)/6-n)/s,((5*l+h)/6-i)/a,((o+u)/2-n)/s,((l+h)/2-i)/a),[u,h,o,l,w,A]=m(this,Rt).subarray(12,18),m(this,Ca).push(((w+5*o)/6-n)/s,((A+5*l)/6-i)/a,((5*o+u)/6-n)/s,((5*l+h)/6-i)/a,((o+u)/2-n)/s,((l+h)/2-i)/a),!0))}toSVGPath(){if(this.isEmpty())return"";const e=m(this,wo),t=m(this,Ca);if(isNaN(m(this,Rt)[6])&&!this.isEmpty())return re(this,bn,r8).call(this);const n=[];n.push(`M${e[4]} ${e[5]}`);for(let i=6;i<e.length;i+=6)isNaN(e[i])?n.push(`L${e[i+4]} ${e[i+5]}`):n.push(`C${e[i]} ${e[i+1]} ${e[i+2]} ${e[i+3]} ${e[i+4]} ${e[i+5]}`);re(this,bn,i8).call(this,n);for(let i=t.length-6;i>=6;i-=6)isNaN(t[i])?n.push(`L${t[i+4]} ${t[i+5]}`):n.push(`C${t[i]} ${t[i+1]} ${t[i+2]} ${t[i+3]} ${t[i+4]} ${t[i+5]}`);return re(this,bn,n8).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,i,s,a){return new l8(e,t,n,i,s,a)}getOutlines(){var f;const e=m(this,wo),t=m(this,Ca),n=m(this,Rt),[i,s,a,o]=m(this,fs),l=new Float32Array((((f=m(this,Fc))==null?void 0:f.length)??0)+2);for(let p=0,d=l.length-2;p<d;p+=2)l[p]=(m(this,Fc)[p]-i)/a,l[p+1]=(m(this,Fc)[p+1]-s)/o;if(l[l.length-2]=(m(this,Oh)-i)/a,l[l.length-1]=(m(this,Bh)-s)/o,isNaN(n[6])&&!this.isEmpty())return re(this,bn,s8).call(this,l);const u=new Float32Array(m(this,wo).length+24+m(this,Ca).length);let h=e.length;for(let p=0;p<h;p+=2){if(isNaN(e[p])){u[p]=u[p+1]=NaN;continue}u[p]=e[p],u[p+1]=e[p+1]}h=re(this,bn,o8).call(this,u,h);for(let p=t.length-6;p>=6;p-=6)for(let d=0;d<6;d+=2){if(isNaN(t[p+d])){u[h]=u[h+1]=NaN,h+=2;continue}u[h]=t[p+d],u[h+1]=t[p+d+1],h+=2}return re(this,bn,a8).call(this,u,h),this.newFreeDrawOutline(u,l,m(this,fs),m(this,Lp),m(this,jp),m(this,Pp))}};fs=new WeakMap,Ca=new WeakMap,jp=new WeakMap,Pp=new WeakMap,wo=new WeakMap,Rt=new WeakMap,Oh=new WeakMap,Bh=new WeakMap,L1=new WeakMap,I1=new WeakMap,Lp=new WeakMap,Ip=new WeakMap,Fc=new WeakMap,R1=new WeakMap,Tw=new WeakMap,jw=new WeakMap,bn=new WeakSet,Fg=function(){const e=m(this,Rt).subarray(4,6),t=m(this,Rt).subarray(16,18),[n,i,s,a]=m(this,fs);return[(m(this,Oh)+(e[0]-t[0])/2-n)/s,(m(this,Bh)+(e[1]-t[1])/2-i)/a,(m(this,Oh)+(t[0]-e[0])/2-n)/s,(m(this,Bh)+(t[1]-e[1])/2-i)/a]},r8=function(){const[e,t,n,i]=m(this,fs),[s,a,o,l]=re(this,bn,Fg).call(this);return`M${(m(this,Rt)[2]-e)/n} ${(m(this,Rt)[3]-t)/i} L${(m(this,Rt)[4]-e)/n} ${(m(this,Rt)[5]-t)/i} L${s} ${a} L${o} ${l} L${(m(this,Rt)[16]-e)/n} ${(m(this,Rt)[17]-t)/i} L${(m(this,Rt)[14]-e)/n} ${(m(this,Rt)[15]-t)/i} Z`},n8=function(e){const t=m(this,Ca);e.push(`L${t[4]} ${t[5]} Z`)},i8=function(e){const[t,n,i,s]=m(this,fs),a=m(this,Rt).subarray(4,6),o=m(this,Rt).subarray(16,18),[l,u,h,f]=re(this,bn,Fg).call(this);e.push(`L${(a[0]-t)/i} ${(a[1]-n)/s} L${l} ${u} L${h} ${f} L${(o[0]-t)/i} ${(o[1]-n)/s}`)},s8=function(e){const t=m(this,Rt),[n,i,s,a]=m(this,fs),[o,l,u,h]=re(this,bn,Fg).call(this),f=new Float32Array(36);return f.set([NaN,NaN,NaN,NaN,(t[2]-n)/s,(t[3]-i)/a,NaN,NaN,NaN,NaN,(t[4]-n)/s,(t[5]-i)/a,NaN,NaN,NaN,NaN,o,l,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,(t[16]-n)/s,(t[17]-i)/a,NaN,NaN,NaN,NaN,(t[14]-n)/s,(t[15]-i)/a],0),this.newFreeDrawOutline(f,e,m(this,fs),m(this,Lp),m(this,jp),m(this,Pp))},a8=function(e,t){const n=m(this,Ca);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+=6},o8=function(e,t){const n=m(this,Rt).subarray(4,6),i=m(this,Rt).subarray(16,18),[s,a,o,l]=m(this,fs),[u,h,f,p]=re(this,bn,Fg).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-s)/o,(n[1]-a)/l,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,f,p,NaN,NaN,NaN,NaN,(i[0]-s)/o,(i[1]-a)/l],t),t+=24},ee(rl,R1,8),ee(rl,Tw,2),ee(rl,jw,m(rl,R1)+m(rl,Tw));let aw=rl;var Rp,Uh,Al,F1,ps,D1,Xr,Pw,c8;class l8 extends it{constructor(t,n,i,s,a,o){super();ee(this,Pw);ee(this,Rp);ee(this,Uh,new Float32Array(4));ee(this,Al);ee(this,F1);ee(this,ps);ee(this,D1);ee(this,Xr);W(this,Xr,t),W(this,ps,n),W(this,Rp,i),W(this,D1,s),W(this,Al,a),W(this,F1,o),this.lastPoint=[NaN,NaN],re(this,Pw,c8).call(this,o);const[l,u,h,f]=m(this,Uh);for(let p=0,d=t.length;p<d;p+=2)t[p]=(t[p]-l)/h,t[p+1]=(t[p+1]-u)/f;for(let p=0,d=n.length;p<d;p+=2)n[p]=(n[p]-l)/h,n[p+1]=(n[p+1]-u)/f}toSVGPath(){const t=[`M${m(this,Xr)[4]} ${m(this,Xr)[5]}`];for(let n=6,i=m(this,Xr).length;n<i;n+=6){if(isNaN(m(this,Xr)[n])){t.push(`L${m(this,Xr)[n+4]} ${m(this,Xr)[n+5]}`);continue}t.push(`C${m(this,Xr)[n]} ${m(this,Xr)[n+1]} ${m(this,Xr)[n+2]} ${m(this,Xr)[n+3]} ${m(this,Xr)[n+4]} ${m(this,Xr)[n+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,n,i,s],a){const o=i-t,l=s-n;let u,h;switch(a){case 0:u=it._rescale(m(this,Xr),t,s,o,-l),h=it._rescale(m(this,ps),t,s,o,-l);break;case 90:u=it._rescaleAndSwap(m(this,Xr),t,n,o,l),h=it._rescaleAndSwap(m(this,ps),t,n,o,l);break;case 180:u=it._rescale(m(this,Xr),i,n,-o,l),h=it._rescale(m(this,ps),i,n,-o,l);break;case 270:u=it._rescaleAndSwap(m(this,Xr),i,s,-o,-l),h=it._rescaleAndSwap(m(this,ps),i,s,-o,-l);break}return{outline:Array.from(u),points:[Array.from(h)]}}get box(){return m(this,Uh)}newOutliner(t,n,i,s,a,o=0){return new aw(t,n,i,s,a,o)}getNewOutline(t,n){const[i,s,a,o]=m(this,Uh),[l,u,h,f]=m(this,Rp),p=a*h,d=o*f,x=i*h+l,v=s*f+u,b=this.newOutliner({x:m(this,ps)[0]*p+x,y:m(this,ps)[1]*d+v},m(this,Rp),m(this,D1),t,m(this,F1),n??m(this,Al));for(let y=2;y<m(this,ps).length;y+=2)b.add({x:m(this,ps)[y]*p+x,y:m(this,ps)[y+1]*d+v});return b.getOutlines()}}Rp=new WeakMap,Uh=new WeakMap,Al=new WeakMap,F1=new WeakMap,ps=new WeakMap,D1=new WeakMap,Xr=new WeakMap,Pw=new WeakSet,c8=function(t){const n=m(this,Xr);let i=n[4],s=n[5],a=i,o=s,l=i,u=s,h=i,f=s;const p=t?Math.max:Math.min;for(let x=6,v=n.length;x<v;x+=6){if(isNaN(n[x]))a=Math.min(a,n[x+4]),o=Math.min(o,n[x+5]),l=Math.max(l,n[x+4]),u=Math.max(u,n[x+5]),f<n[x+5]?(h=n[x+4],f=n[x+5]):f===n[x+5]&&(h=p(h,n[x+4]));else{const b=ut.bezierBoundingBox(i,s,...n.slice(x,x+6));a=Math.min(a,b[0]),o=Math.min(o,b[1]),l=Math.max(l,b[2]),u=Math.max(u,b[3]),f<b[3]?(h=b[2],f=b[3]):f===b[3]&&(h=p(h,b[2]))}i=n[x+4],s=n[x+5]}const d=m(this,Uh);d[0]=a-m(this,Al),d[1]=o-m(this,Al),d[2]=l-a+2*m(this,Al),d[3]=u-o+2*m(this,Al),this.lastPoint=[h,f]};var M1,O1,Dc,Ta,ji,u8,fx,h8,d8,F_;class R_{constructor(e,t=0,n=0,i=!0){ee(this,ji);ee(this,M1);ee(this,O1);ee(this,Dc,[]);ee(this,Ta,[]);let s=1/0,a=-1/0,o=1/0,l=-1/0;const h=10**-4;for(const{x:y,y:w,width:A,height:k}of e){const M=Math.floor((y-t)/h)*h,$=Math.ceil((y+A+t)/h)*h,H=Math.floor((w-t)/h)*h,q=Math.ceil((w+k+t)/h)*h,D=[M,H,q,!0],se=[$,H,q,!1];m(this,Dc).push(D,se),s=Math.min(s,M),a=Math.max(a,$),o=Math.min(o,H),l=Math.max(l,q)}const f=a-s+2*n,p=l-o+2*n,d=s-n,x=o-n,v=m(this,Dc).at(i?-1:-2),b=[v[0],v[2]];for(const y of m(this,Dc)){const[w,A,k]=y;y[0]=(w-d)/f,y[1]=(A-x)/p,y[2]=(k-x)/p}W(this,M1,new Float32Array([d,x,f,p])),W(this,O1,b)}getOutlines(){m(this,Dc).sort((t,n)=>t[0]-n[0]||t[1]-n[1]||t[2]-n[2]);const e=[];for(const t of m(this,Dc))t[3]?(e.push(...re(this,ji,F_).call(this,t)),re(this,ji,h8).call(this,t)):(re(this,ji,d8).call(this,t),e.push(...re(this,ji,F_).call(this,t)));return re(this,ji,u8).call(this,e)}}M1=new WeakMap,O1=new WeakMap,Dc=new WeakMap,Ta=new WeakMap,ji=new WeakSet,u8=function(e){const t=[],n=new Set;for(const a of e){const[o,l,u]=a;t.push([o,l,a],[o,u,a])}t.sort((a,o)=>a[1]-o[1]||a[0]-o[0]);for(let a=0,o=t.length;a<o;a+=2){const l=t[a][2],u=t[a+1][2];l.push(u),u.push(l),n.add(l),n.add(u)}const i=[];let s;for(;n.size>0;){const a=n.values().next().value;let[o,l,u,h,f]=a;n.delete(a);let p=o,d=l;for(s=[o,u],i.push(s);;){let x;if(n.has(h))x=h;else if(n.has(f))x=f;else break;n.delete(x),[o,l,u,h,f]=x,p!==o&&(s.push(p,d,o,d===l?l:u),p=o),d=d===l?u:l}s.push(p,d)}return new GO(i,m(this,M1),m(this,O1))},fx=function(e){const t=m(this,Ta);let n=0,i=t.length-1;for(;n<=i;){const s=n+i>>1,a=t[s][0];if(a===e)return s;a<e?n=s+1:i=s-1}return i+1},h8=function([,e,t]){const n=re(this,ji,fx).call(this,e);m(this,Ta).splice(n,0,[e,t])},d8=function([,e,t]){const n=re(this,ji,fx).call(this,e);for(let i=n;i<m(this,Ta).length;i++){const[s,a]=m(this,Ta)[i];if(s!==e)break;if(s===e&&a===t){m(this,Ta).splice(i,1);return}}for(let i=n-1;i>=0;i--){const[s,a]=m(this,Ta)[i];if(s!==e)break;if(s===e&&a===t){m(this,Ta).splice(i,1);return}}},F_=function(e){const[t,n,i]=e,s=[[t,n,i]],a=re(this,ji,fx).call(this,i);for(let o=0;o<a;o++){const[l,u]=m(this,Ta)[o];for(let h=0,f=s.length;h<f;h++){const[,p,d]=s[h];if(!(u<=p||d<=l)){if(p>=l){if(d>u)s[h][1]=u;else{if(f===1)return[];s.splice(h,1),h--,f--}continue}s[h][2]=l,d>u&&s.push([t,u,d])}}}return s};var B1,Fp;class GO extends it{constructor(t,n,i){super();ee(this,B1);ee(this,Fp);W(this,Fp,t),W(this,B1,n),this.lastPoint=i}toSVGPath(){const t=[];for(const n of m(this,Fp)){let[i,s]=n;t.push(`M${i} ${s}`);for(let a=2;a<n.length;a+=2){const o=n[a],l=n[a+1];o===i?(t.push(`V${l}`),s=l):l===s&&(t.push(`H${o}`),i=o)}t.push("Z")}return t.join(" ")}serialize([t,n,i,s],a){const o=[],l=i-t,u=s-n;for(const h of m(this,Fp)){const f=new Array(h.length);for(let p=0;p<h.length;p+=2)f[p]=t+h[p]*l,f[p+1]=s-h[p+1]*u;o.push(f)}return o}get box(){return m(this,B1)}get classNamesForOutlining(){return["highlightOutline"]}}B1=new WeakMap,Fp=new WeakMap;class D_ extends aw{newFreeDrawOutline(e,t,n,i,s,a){return new VO(e,t,n,i,s,a)}}class VO extends l8{newOutliner(e,t,n,i,s,a=0){return new D_(e,t,n,i,s,a)}}var ja,zh,Dp,vn,U1,Mp,z1,H1,Mc,Pa,Op,q1,ar,M_,O_,B_,Uu,f8,uc;const Hi=class Hi{constructor({editor:e=null,uiManager:t=null}){ee(this,ar);ee(this,ja,null);ee(this,zh,null);ee(this,Dp);ee(this,vn,null);ee(this,U1,!1);ee(this,Mp,!1);ee(this,z1,null);ee(this,H1);ee(this,Mc,null);ee(this,Pa,null);ee(this,Op);var n;e?(W(this,Mp,!1),W(this,Op,Bt.HIGHLIGHT_COLOR),W(this,z1,e)):(W(this,Mp,!0),W(this,Op,Bt.HIGHLIGHT_DEFAULT_COLOR)),W(this,Pa,(e==null?void 0:e._uiManager)||t),W(this,H1,m(this,Pa)._eventBus),W(this,Dp,(e==null?void 0:e.color)||((n=m(this,Pa))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98"),m(Hi,q1)||W(Hi,q1,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return Ft(this,"_keyboardManager",new sy([[["Escape","mac+Escape"],Hi.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Hi.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Hi.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Hi.prototype._moveToPrevious],[["Home","mac+Home"],Hi.prototype._moveToBeginning],[["End","mac+End"],Hi.prototype._moveToEnd]]))}renderButton(){const e=W(this,ja,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=m(this,Pa)._signal;e.addEventListener("click",re(this,ar,Uu).bind(this),{signal:t}),e.addEventListener("keydown",re(this,ar,B_).bind(this),{signal:t});const n=W(this,zh,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=m(this,Dp),e.append(n),e}renderMainDropdown(){const e=W(this,vn,re(this,ar,M_).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===m(this,ja)){re(this,ar,Uu).call(this,e);return}const t=e.target.getAttribute("data-color");t&&re(this,ar,O_).call(this,t,e)}_moveToNext(e){var t,n;if(!m(this,ar,uc)){re(this,ar,Uu).call(this,e);return}if(e.target===m(this,ja)){(t=m(this,vn).firstChild)==null||t.focus();return}(n=e.target.nextSibling)==null||n.focus()}_moveToPrevious(e){var t,n;if(e.target===((t=m(this,vn))==null?void 0:t.firstChild)||e.target===m(this,ja)){m(this,ar,uc)&&this._hideDropdownFromKeyboard();return}m(this,ar,uc)||re(this,ar,Uu).call(this,e),(n=e.target.previousSibling)==null||n.focus()}_moveToBeginning(e){var t;if(!m(this,ar,uc)){re(this,ar,Uu).call(this,e);return}(t=m(this,vn).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!m(this,ar,uc)){re(this,ar,Uu).call(this,e);return}(t=m(this,vn).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=m(this,vn))==null||e.classList.add("hidden"),(t=m(this,Mc))==null||t.abort(),W(this,Mc,null)}_hideDropdownFromKeyboard(){var e;if(!m(this,Mp)){if(!m(this,ar,uc)){(e=m(this,z1))==null||e.unselect();return}this.hideDropdown(),m(this,ja).focus({preventScroll:!0,focusVisible:m(this,U1)})}}updateColor(e){if(m(this,zh)&&(m(this,zh).style.backgroundColor=e),!m(this,vn))return;const t=m(this,Pa).highlightColors.values();for(const n of m(this,vn).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;(e=m(this,ja))==null||e.remove(),W(this,ja,null),W(this,zh,null),(t=m(this,vn))==null||t.remove(),W(this,vn,null)}};ja=new WeakMap,zh=new WeakMap,Dp=new WeakMap,vn=new WeakMap,U1=new WeakMap,Mp=new WeakMap,z1=new WeakMap,H1=new WeakMap,Mc=new WeakMap,Pa=new WeakMap,Op=new WeakMap,q1=new WeakMap,ar=new WeakSet,M_=function(){const e=document.createElement("div"),t=m(this,Pa)._signal;e.addEventListener("contextmenu",Ha,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,i]of m(this,Pa).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",i),s.title=n,s.setAttribute("data-l10n-id",m(Hi,q1)[n]);const a=document.createElement("span");s.append(a),a.className="swatch",a.style.backgroundColor=i,s.setAttribute("aria-selected",i===m(this,Dp)),s.addEventListener("click",re(this,ar,O_).bind(this,i),{signal:t}),e.append(s)}return e.addEventListener("keydown",re(this,ar,B_).bind(this),{signal:t}),e},O_=function(e,t){t.stopPropagation(),m(this,H1).dispatch("switchannotationeditorparams",{source:this,type:m(this,Op),value:e})},B_=function(e){Hi._keyboardManager.exec(this,e)},Uu=function(e){if(m(this,ar,uc)){this.hideDropdown();return}if(W(this,U1,e.detail===0),m(this,Mc)||(W(this,Mc,new AbortController),window.addEventListener("pointerdown",re(this,ar,f8).bind(this),{signal:m(this,Pa).combinedSignal(m(this,Mc))})),m(this,vn)){m(this,vn).classList.remove("hidden");return}const t=W(this,vn,re(this,ar,M_).call(this));m(this,ja).append(t)},f8=function(e){var t;(t=m(this,vn))!=null&&t.contains(e.target)||this.hideDropdown()},uc=function(){return m(this,vn)&&!m(this,vn).classList.contains("hidden")},ee(Hi,q1,null);let ow=Hi;var Bp,W1,_l,Hh,Up,$i,$1,G1,qh,$s,ms,Bn,zp,Sl,ai,Hp,Gs,V1,Tt,U_,px,p8,m8,g8,z_,zu,Js,uf,y8,mx,Dg,v8,x8,w8,b8,A8;const Xt=class Xt extends Rr{constructor(t){super({...t,name:"highlightEditor"});ee(this,Tt);ee(this,Bp,null);ee(this,W1,0);ee(this,_l);ee(this,Hh,null);ee(this,Up,null);ee(this,$i,null);ee(this,$1,null);ee(this,G1,0);ee(this,qh,null);ee(this,$s,null);ee(this,ms,null);ee(this,Bn,!1);ee(this,zp,null);ee(this,Sl);ee(this,ai,null);ee(this,Hp,"");ee(this,Gs);ee(this,V1,"");this.color=t.color||Xt._defaultColor,W(this,Gs,t.thickness||Xt._defaultThickness),W(this,Sl,t.opacity||Xt._defaultOpacity),W(this,_l,t.boxes||null),W(this,V1,t.methodOfCreation||""),W(this,Hp,t.text||""),this._isDraggable=!1,t.highlightId>-1?(W(this,Bn,!0),re(this,Tt,px).call(this,t),re(this,Tt,zu).call(this)):m(this,_l)&&(W(this,Bp,t.anchorNode),W(this,W1,t.anchorOffset),W(this,$1,t.focusNode),W(this,G1,t.focusOffset),re(this,Tt,U_).call(this),re(this,Tt,zu).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const t=Xt.prototype;return Ft(this,"_keyboardManager",new sy([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:m(this,Bn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:m(this,Gs),methodOfCreation:m(this,V1)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,n){var i;Rr.initialize(t,n),Xt._defaultColor||(Xt._defaultColor=((i=n.highlightColors)==null?void 0:i.values().next().value)||"#fff066")}static updateDefaultParams(t,n){switch(t){case Bt.HIGHLIGHT_DEFAULT_COLOR:Xt._defaultColor=n;break;case Bt.HIGHLIGHT_THICKNESS:Xt._defaultThickness=n;break}}translateInPage(t,n){}get toolbarPosition(){return m(this,zp)}updateParams(t,n){switch(t){case Bt.HIGHLIGHT_COLOR:re(this,Tt,p8).call(this,n);break;case Bt.HIGHLIGHT_THICKNESS:re(this,Tt,m8).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Bt.HIGHLIGHT_DEFAULT_COLOR,Xt._defaultColor],[Bt.HIGHLIGHT_THICKNESS,Xt._defaultThickness]]}get propertiesToUpdate(){return[[Bt.HIGHLIGHT_COLOR,this.color||Xt._defaultColor],[Bt.HIGHLIGHT_THICKNESS,m(this,Gs)||Xt._defaultThickness],[Bt.HIGHLIGHT_FREE,m(this,Bn)]]}async addEditToolbar(){const t=await super.addEditToolbar();return t?(this._uiManager.highlightColors&&(W(this,Up,new ow({editor:this})),t.addColorPicker(m(this,Up))),t):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(re(this,Tt,Dg).call(this))}getBaseTranslation(){return[0,0]}getRect(t,n){return super.getRect(t,n,re(this,Tt,Dg).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){re(this,Tt,z_).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(re(this,Tt,zu).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let n=!1;this.parent&&!t?re(this,Tt,z_).call(this):t&&(re(this,Tt,zu).call(this,t),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),n&&this.select()}rotate(t){var s,a,o;const{drawLayer:n}=this.parent;let i;m(this,Bn)?(t=(t-this.rotation+360)%360,i=re(s=Xt,Js,uf).call(s,m(this,$s).box,t)):i=re(a=Xt,Js,uf).call(a,[this.x,this.y,this.width,this.height],t),n.updateProperties(m(this,ms),{bbox:i,root:{"data-main-rotation":t}}),n.updateProperties(m(this,ai),{bbox:re(o=Xt,Js,uf).call(o,m(this,$i).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();m(this,Hp)&&(t.setAttribute("aria-label",m(this,Hp)),t.setAttribute("role","mark")),m(this,Bn)?t.classList.add("free"):this.div.addEventListener("keydown",re(this,Tt,y8).bind(this),{signal:this._uiManager._signal});const n=W(this,qh,document.createElement("div"));t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=m(this,Hh);const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),nw(this,m(this,qh),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(m(this,ai),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(m(this,ai),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:re(this,Tt,mx).call(this,!0);break;case 1:case 3:re(this,Tt,mx).call(this,!1);break}}select(){var t;super.select(),m(this,ai)&&((t=this.parent)==null||t.drawLayer.updateProperties(m(this,ai),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),m(this,ai)&&((t=this.parent)==null||t.drawLayer.updateProperties(m(this,ai),{rootClass:{selected:!1}}),m(this,Bn)||re(this,Tt,mx).call(this,!1))}get _mustFixPosition(){return!m(this,Bn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(m(this,ms),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(m(this,ai),{rootClass:{hidden:!t}}))}static startHighlighting(t,n,{target:i,x:s,y:a}){const{x:o,y:l,width:u,height:h}=i.getBoundingClientRect(),f=new AbortController,p=t.combinedSignal(f),d=x=>{f.abort(),re(this,Js,b8).call(this,t,x)};window.addEventListener("blur",d,{signal:p}),window.addEventListener("pointerup",d,{signal:p}),window.addEventListener("pointerdown",As,{capture:!0,passive:!1,signal:p}),window.addEventListener("contextmenu",Ha,{signal:p}),i.addEventListener("pointermove",re(this,Js,w8).bind(this,t),{signal:p}),this._freeHighlight=new D_({x:s,y:a},[o,l,u,h],t.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,n,i){var v,b,y,w;let s=null;if(t instanceof KL){const{data:{quadPoints:A,rect:k,rotation:M,id:$,color:H,opacity:q,popupRef:D},parent:{page:{pageNumber:se}}}=t;s=t={annotationType:jt.HIGHLIGHT,color:Array.from(H),opacity:q,quadPoints:A,boxes:null,pageIndex:se-1,rect:k.slice(0),rotation:M,id:$,deleted:!1,popupRef:D}}else if(t instanceof DN){const{data:{inkLists:A,rect:k,rotation:M,id:$,color:H,borderStyle:{rawWidth:q},popupRef:D},parent:{page:{pageNumber:se}}}=t;s=t={annotationType:jt.HIGHLIGHT,color:Array.from(H),thickness:q,inkLists:A,boxes:null,pageIndex:se-1,rect:k.slice(0),rotation:M,id:$,deleted:!1,popupRef:D}}const{color:a,quadPoints:o,inkLists:l,opacity:u}=t,h=await super.deserialize(t,n,i);h.color=ut.makeHexColor(...a),W(h,Sl,u||1),l&&W(h,Gs,t.thickness),h.annotationElementId=t.id||null,h._initialData=s;const[f,p]=h.pageDimensions,[d,x]=h.pageTranslation;if(o){const A=W(h,_l,[]);for(let k=0;k<o.length;k+=8)A.push({x:(o[k]-d)/f,y:1-(o[k+1]-x)/p,width:(o[k+2]-o[k])/f,height:(o[k+1]-o[k+5])/p});re(v=h,Tt,U_).call(v),re(b=h,Tt,zu).call(b),h.rotate(h.rotation)}else if(l){W(h,Bn,!0);const A=l[0],k={x:A[0]-d,y:p-(A[1]-x)},M=new D_(k,[0,0,f,p],1,m(h,Gs)/2,!0,.001);for(let q=0,D=A.length;q<D;q+=2)k.x=A[q]-d,k.y=p-(A[q+1]-x),M.add(k);const{id:$,clipPathId:H}=n.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:M.toSVGPath()}},!0,!0);re(y=h,Tt,px).call(y,{highlightOutlines:M.getOutlines(),highlightId:$,clipPathId:H}),re(w=h,Tt,zu).call(w)}return h}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const n=this.getRect(0,0),i=Rr._colorManager.convert(this.color),s={annotationType:jt.HIGHLIGHT,color:i,opacity:m(this,Sl),thickness:m(this,Gs),quadPoints:re(this,Tt,v8).call(this),outlines:re(this,Tt,x8).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:re(this,Tt,Dg).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!re(this,Tt,A8).call(this,s)?null:(s.id=this.annotationElementId,s)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};Bp=new WeakMap,W1=new WeakMap,_l=new WeakMap,Hh=new WeakMap,Up=new WeakMap,$i=new WeakMap,$1=new WeakMap,G1=new WeakMap,qh=new WeakMap,$s=new WeakMap,ms=new WeakMap,Bn=new WeakMap,zp=new WeakMap,Sl=new WeakMap,ai=new WeakMap,Hp=new WeakMap,Gs=new WeakMap,V1=new WeakMap,Tt=new WeakSet,U_=function(){const t=new R_(m(this,_l),.001);W(this,$s,t.getOutlines()),[this.x,this.y,this.width,this.height]=m(this,$s).box;const n=new R_(m(this,_l),.0025,.001,this._uiManager.direction==="ltr");W(this,$i,n.getOutlines());const{lastPoint:i}=m(this,$i);W(this,zp,[(i[0]-this.x)/this.width,(i[1]-this.y)/this.height])},px=function({highlightOutlines:t,highlightId:n,clipPathId:i}){var f,p;if(W(this,$s,t),W(this,$i,t.getNewOutline(m(this,Gs)/2+1.5,.0025)),n>=0)W(this,ms,n),W(this,Hh,i),this.parent.drawLayer.finalizeDraw(n,{bbox:t.box,path:{d:t.toSVGPath()}}),W(this,ai,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:m(this,$i).box,path:{d:m(this,$i).toSVGPath()}},!0));else if(this.parent){const d=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(m(this,ms),{bbox:re(f=Xt,Js,uf).call(f,m(this,$s).box,(d-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(m(this,ai),{bbox:re(p=Xt,Js,uf).call(p,m(this,$i).box,d),path:{d:m(this,$i).toSVGPath()}})}const[a,o,l,u]=t.box;switch(this.rotation){case 0:this.x=a,this.y=o,this.width=l,this.height=u;break;case 90:{const[d,x]=this.parentDimensions;this.x=o,this.y=1-a,this.width=l*x/d,this.height=u*d/x;break}case 180:this.x=1-a,this.y=1-o,this.width=l,this.height=u;break;case 270:{const[d,x]=this.parentDimensions;this.x=1-o,this.y=a,this.width=l*x/d,this.height=u*d/x;break}}const{lastPoint:h}=m(this,$i);W(this,zp,[(h[0]-a)/l,(h[1]-o)/u])},p8=function(t){const n=(a,o)=>{var l,u;this.color=a,W(this,Sl,o),(l=this.parent)==null||l.drawLayer.updateProperties(m(this,ms),{root:{fill:a,"fill-opacity":o}}),(u=m(this,Up))==null||u.updateColor(a)},i=this.color,s=m(this,Sl);this.addCommands({cmd:n.bind(this,t,Xt._defaultOpacity),undo:n.bind(this,i,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(t)},!0)},m8=function(t){const n=m(this,Gs),i=s=>{W(this,Gs,s),re(this,Tt,g8).call(this,s)};this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Bt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},g8=function(t){if(!m(this,Bn))return;re(this,Tt,px).call(this,{highlightOutlines:m(this,$s).getNewOutline(t/2)}),this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)},z_=function(){m(this,ms)===null||!this.parent||(this.parent.drawLayer.remove(m(this,ms)),W(this,ms,null),this.parent.drawLayer.remove(m(this,ai)),W(this,ai,null))},zu=function(t=this.parent){m(this,ms)===null&&({id:wi(this,ms)._,clipPathId:wi(this,Hh)._}=t.drawLayer.draw({bbox:m(this,$s).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":m(this,Sl)},rootClass:{highlight:!0,free:m(this,Bn)},path:{d:m(this,$s).toSVGPath()}},!1,!0),W(this,ai,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:m(this,Bn)},bbox:m(this,$i).box,path:{d:m(this,$i).toSVGPath()}},m(this,Bn))),m(this,qh)&&(m(this,qh).style.clipPath=m(this,Hh)))},Js=new WeakSet,uf=function([t,n,i,s],a){switch(a){case 90:return[1-n-s,t,s,i];case 180:return[1-t-i,1-n-s,i,s];case 270:return[n,1-t-i,s,i]}return[t,n,i,s]},y8=function(t){Xt._keyboardManager.exec(this,t)},mx=function(t){if(!m(this,Bp))return;const n=window.getSelection();t?n.setPosition(m(this,Bp),m(this,W1)):n.setPosition(m(this,$1),m(this,G1))},Dg=function(){return m(this,Bn)?this.rotation:0},v8=function(){if(m(this,Bn))return null;const[t,n]=this.pageDimensions,[i,s]=this.pageTranslation,a=m(this,_l),o=new Float32Array(a.length*8);let l=0;for(const{x:u,y:h,width:f,height:p}of a){const d=u*t+i,x=(1-h)*n+s;o[l]=o[l+4]=d,o[l+1]=o[l+3]=x,o[l+2]=o[l+6]=d+f*t,o[l+5]=o[l+7]=x-p*n,l+=8}return o},x8=function(t){return m(this,$s).serialize(t,re(this,Tt,Dg).call(this))},w8=function(t,n){this._freeHighlight.add(n)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},b8=function(t,n){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},A8=function(t){const{color:n}=this._initialData;return t.color.some((i,s)=>i!==n[s])},ee(Xt,Js),dt(Xt,"_defaultColor",null),dt(Xt,"_defaultOpacity",1),dt(Xt,"_defaultThickness",12),dt(Xt,"_type","highlight"),dt(Xt,"_editorType",jt.HIGHLIGHT),dt(Xt,"_freeHighlightId",-1),dt(Xt,"_freeHighlight",null),dt(Xt,"_freeHighlightClipId","");let lw=Xt;var Wh;class KO{constructor(){ee(this,Wh,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,n]of Object.entries(e))this.updateProperty(t,n)}updateSVGProperty(e,t){m(this,Wh)[e]=t}toSVGProperties(){const e=m(this,Wh);return W(this,Wh,Object.create(null)),{root:e}}reset(){W(this,Wh,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){fr("Not implemented")}}Wh=new WeakMap;var gs,qp,Cn,$h,Gh,Oc,Bc,Uc,Vh,Wt,q_,W_,$_,Mg,_8,gx,Og,hf;const at=class at extends Rr{constructor(t){super(t);ee(this,Wt);ee(this,gs,null);ee(this,qp);dt(this,"_drawId",null);W(this,qp,t.mustBeCommitted||!1),t.drawOutlines&&(re(this,Wt,q_).call(this,t),re(this,Wt,Mg).call(this))}static _mergeSVGProperties(t,n){const i=new Set(Object.keys(t));for(const[s,a]of Object.entries(n))i.has(s)?Object.assign(t[s],a):t[s]=a;return t}static getDefaultDrawingOptions(t){fr("Not implemented")}static get typesMap(){fr("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,n){const i=this.typesMap.get(t);i&&this._defaultDrawingOptions.updateProperty(i,n),this._currentParent&&(m(at,Cn).updateProperty(i,n),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,n){const i=this.constructor.typesMap.get(t);i&&this._updateProperty(t,i,n)}static get defaultPropertiesToUpdate(){const t=[],n=this._defaultDrawingOptions;for(const[i,s]of this.typesMap)t.push([i,n[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:n}=this;for(const[i,s]of this.constructor.typesMap)t.push([i,n[s]]);return t}_updateProperty(t,n,i){const s=this._drawingOptions,a=s[n],o=l=>{var h;s.updateProperty(n,l);const u=m(this,gs).updateProperty(n,l);u&&re(this,Wt,Og).call(this,u),(h=this.parent)==null||h.drawLayer.updateProperties(this._drawId,s.toSVGProperties())};this.addCommands({cmd:o.bind(this,i),undo:o.bind(this,a),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,at._mergeSVGProperties(m(this,gs).getPathResizingSVGProperties(re(this,Wt,gx).call(this)),{bbox:re(this,Wt,hf).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,at._mergeSVGProperties(m(this,gs).getPathResizedSVGProperties(re(this,Wt,gx).call(this)),{bbox:re(this,Wt,hf).call(this)}))}_onTranslating(t,n){var i;(i=this.parent)==null||i.drawLayer.updateProperties(this._drawId,{bbox:re(this,Wt,hf).call(this,t,n)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,at._mergeSVGProperties(m(this,gs).getPathTranslatedSVGProperties(re(this,Wt,gx).call(this),this.parentDimensions),{bbox:re(this,Wt,hf).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,m(this,qp)&&(W(this,qp,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){re(this,Wt,$_).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(re(this,Wt,Mg).call(this),re(this,Wt,Og).call(this,m(this,gs).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var i;let n=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),re(this,Wt,$_).call(this)):t&&(this._uiManager.addShouldRescale(this),re(this,Wt,Mg).call(this,t),n=!this.parent&&((i=this.div)==null?void 0:i.classList.contains("selectedEditor"))),super.setParent(t),n&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,at._mergeSVGProperties({bbox:re(this,Wt,hf).call(this)},m(this,gs).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&re(this,Wt,Og).call(this,m(this,gs).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;const t=super.render();t.classList.add("draw");const n=document.createElement("div");t.append(n),n.setAttribute("aria-hidden","true"),n.className="internal";const[i,s]=this.parentDimensions;return this.setDims(this.width*i,this.height*s),this._uiManager.addShouldRescale(this),this.disableEditing(),t}static createDrawerInstance(t,n,i,s,a){fr("Not implemented")}static startDrawing(t,n,i,s){var b;const{target:a,offsetX:o,offsetY:l,pointerId:u,pointerType:h}=s;if(m(at,Bc)&&m(at,Bc)!==h)return;const{viewport:{rotation:f}}=t,{width:p,height:d}=a.getBoundingClientRect(),x=W(at,$h,new AbortController),v=t.combinedSignal(x);if(m(at,Oc)||W(at,Oc,u),m(at,Bc)??W(at,Bc,h),window.addEventListener("pointerup",y=>{var w;m(at,Oc)===y.pointerId?this._endDraw(y):(w=m(at,Uc))==null||w.delete(y.pointerId)},{signal:v}),window.addEventListener("pointercancel",y=>{var w;m(at,Oc)===y.pointerId?this._currentParent.endDrawingSession():(w=m(at,Uc))==null||w.delete(y.pointerId)},{signal:v}),window.addEventListener("pointerdown",y=>{m(at,Bc)===y.pointerType&&((m(at,Uc)||W(at,Uc,new Set)).add(y.pointerId),m(at,Cn).isCancellable()&&(m(at,Cn).removeLastElement(),m(at,Cn).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:v}),window.addEventListener("contextmenu",Ha,{signal:v}),a.addEventListener("pointermove",this._drawMove.bind(this),{signal:v}),a.addEventListener("touchmove",y=>{y.timeStamp===m(at,Vh)&&As(y)},{signal:v}),t.toggleDrawing(),(b=n._editorUndoBar)==null||b.hide(),m(at,Cn)){t.drawLayer.updateProperties(this._currentDrawId,m(at,Cn).startNew(o,l,p,d,f));return}n.updateUIForDefaultProperties(this),W(at,Cn,this.createDrawerInstance(o,l,p,d,f)),W(at,Gh,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(m(at,Gh).toSVGProperties(),m(at,Cn).defaultSVGProperties),!0,!1)}static _drawMove(t){var a;if(W(at,Vh,-1),!m(at,Cn))return;const{offsetX:n,offsetY:i,pointerId:s}=t;if(m(at,Oc)===s){if(((a=m(at,Uc))==null?void 0:a.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,m(at,Cn).add(n,i)),W(at,Vh,t.timeStamp),As(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,W(at,Cn,null),W(at,Gh,null),W(at,Bc,null),W(at,Vh,NaN)),m(at,$h)&&(m(at,$h).abort(),W(at,$h,null),W(at,Oc,NaN),W(at,Uc,null))}static _endDraw(t){const n=this._currentParent;if(n){if(n.toggleDrawing(!0),this._cleanup(!1),t&&n.drawLayer.updateProperties(this._currentDrawId,m(at,Cn).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const i=m(at,Cn),s=this._currentDrawId,a=i.getLastElement();n.addCommands({cmd:()=>{n.drawLayer.updateProperties(s,i.setLastElement(a))},undo:()=>{n.drawLayer.updateProperties(s,i.removeLastElement())},mustExec:!1,type:Bt.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const n=this._currentParent;if(!n)return null;if(n.toggleDrawing(!0),n.cleanUndoStack(Bt.DRAW_STEP),!m(at,Cn).isEmpty()){const{pageDimensions:[i,s],scale:a}=n,o=n.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:m(at,Cn).getOutlines(i*a,s*a,a,this._INNER_MARGIN),drawingOptions:m(at,Gh),mustBeCommitted:!t});return this._cleanup(!0),o}return n.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,n,i,s,a,o){fr("Not implemented")}static async deserialize(t,n,i){var f,p;const{rawDims:{pageWidth:s,pageHeight:a,pageX:o,pageY:l}}=n.viewport,u=this.deserializeDraw(o,l,s,a,this._INNER_MARGIN,t),h=await super.deserialize(t,n,i);return h.createDrawingOptions(t),re(f=h,Wt,q_).call(f,{drawOutlines:u}),re(p=h,Wt,Mg).call(p),h.onScaleChanging(),h.rotate(),h}serializeDraw(t){const[n,i]=this.pageTranslation,[s,a]=this.pageDimensions;return m(this,gs).serialize([n,i,s,a],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}};gs=new WeakMap,qp=new WeakMap,Cn=new WeakMap,$h=new WeakMap,Gh=new WeakMap,Oc=new WeakMap,Bc=new WeakMap,Uc=new WeakMap,Vh=new WeakMap,Wt=new WeakSet,q_=function({drawOutlines:t,drawId:n,drawingOptions:i}){W(this,gs,t),this._drawingOptions||(this._drawingOptions=i),n>=0?(this._drawId=n,this.parent.drawLayer.finalizeDraw(n,t.defaultProperties)):this._drawId=re(this,Wt,W_).call(this,t,this.parent),re(this,Wt,Og).call(this,t.box)},W_=function(t,n){const{id:i}=n.drawLayer.draw(at._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return i},$_=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Mg=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=re(this,Wt,W_).call(this,m(this,gs),t)}},_8=function([t,n,i,s]){const{parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[n,1-t,i*(o/a),s*(a/o)];case 180:return[1-t,1-n,i,s];case 270:return[1-n,t,i*(o/a),s*(a/o)];default:return[t,n,i,s]}},gx=function(){const{x:t,y:n,width:i,height:s,parentDimensions:[a,o],rotation:l}=this;switch(l){case 90:return[1-n,t,i*(a/o),s*(o/a)];case 180:return[1-t,1-n,i,s];case 270:return[n,1-t,i*(a/o),s*(o/a)];default:return[t,n,i,s]}},Og=function(t){if([this.x,this.y,this.width,this.height]=re(this,Wt,_8).call(this,t),this.div){this.fixAndSetPosition();const[n,i]=this.parentDimensions;this.setDims(this.width*n,this.height*i)}this._onResized()},hf=function(){const{x:t,y:n,width:i,height:s,rotation:a,parentRotation:o,parentDimensions:[l,u]}=this;switch((a*4+o)/90){case 1:return[1-n-s,t,s,i];case 2:return[1-t-i,1-n-s,i,s];case 3:return[n,1-t-i,s,i];case 4:return[t,n-i*(l/u),s*(u/l),i*(l/u)];case 5:return[1-n,t,i*(l/u),s*(u/l)];case 6:return[1-t-s*(u/l),1-n,s*(u/l),i*(l/u)];case 7:return[n-i*(l/u),1-t-s*(u/l),i*(l/u),s*(u/l)];case 8:return[t-i,n-s,i,s];case 9:return[1-n,t-i,s,i];case 10:return[1-t,1-n,i,s];case 11:return[n-s,1-t,s,i];case 12:return[t-s*(u/l),n,s*(u/l),i*(l/u)];case 13:return[1-n-i*(l/u),t-s*(u/l),i*(l/u),s*(u/l)];case 14:return[1-t,1-n-i*(l/u),s*(u/l),i*(l/u)];case 15:return[n,1-t,i*(l/u),s*(u/l)];default:return[t,n,i,s]}},dt(at,"_currentDrawId",-1),dt(at,"_currentParent",null),ee(at,Cn,null),ee(at,$h,null),ee(at,Gh,null),ee(at,Oc,NaN),ee(at,Bc,null),ee(at,Uc,null),ee(at,Vh,NaN),dt(at,"_INNER_MARGIN",3);let H_=at;var bo,Tn,jn,Kh,Wp,_i,Un,Vs,Xh,Yh,Qh,$p,yx;class XO{constructor(e,t,n,i,s,a){ee(this,$p);ee(this,bo,new Float64Array(6));ee(this,Tn);ee(this,jn);ee(this,Kh);ee(this,Wp);ee(this,_i);ee(this,Un,"");ee(this,Vs,0);ee(this,Xh,new cw);ee(this,Yh);ee(this,Qh);W(this,Yh,n),W(this,Qh,i),W(this,Kh,s),W(this,Wp,a),[e,t]=re(this,$p,yx).call(this,e,t);const o=W(this,Tn,[NaN,NaN,NaN,NaN,e,t]);W(this,_i,[e,t]),W(this,jn,[{line:o,points:m(this,_i)}]),m(this,bo).set(o,0)}updateProperty(e,t){e==="stroke-width"&&W(this,Wp,t)}isEmpty(){return!m(this,jn)||m(this,jn).length===0}isCancellable(){return m(this,_i).length<=10}add(e,t){[e,t]=re(this,$p,yx).call(this,e,t);const[n,i,s,a]=m(this,bo).subarray(2,6),o=e-s,l=t-a;return Math.hypot(m(this,Yh)*o,m(this,Qh)*l)<=2?null:(m(this,_i).push(e,t),isNaN(n)?(m(this,bo).set([s,a,e,t],2),m(this,Tn).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(m(this,bo)[0])&&m(this,Tn).splice(6,6),m(this,bo).set([n,i,s,a,e,t],0),m(this,Tn).push(...it.createBezierPoints(n,i,s,a,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const n=this.add(e,t);return n||(m(this,_i).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,n,i,s){W(this,Yh,n),W(this,Qh,i),W(this,Kh,s),[e,t]=re(this,$p,yx).call(this,e,t);const a=W(this,Tn,[NaN,NaN,NaN,NaN,e,t]);W(this,_i,[e,t]);const o=m(this,jn).at(-1);return o&&(o.line=new Float32Array(o.line),o.points=new Float32Array(o.points)),m(this,jn).push({line:a,points:m(this,_i)}),m(this,bo).set(a,0),W(this,Vs,0),this.toSVGPath(),null}getLastElement(){return m(this,jn).at(-1)}setLastElement(e){return m(this,jn)?(m(this,jn).push(e),W(this,Tn,e.line),W(this,_i,e.points),W(this,Vs,0),{path:{d:this.toSVGPath()}}):m(this,Xh).setLastElement(e)}removeLastElement(){if(!m(this,jn))return m(this,Xh).removeLastElement();m(this,jn).pop(),W(this,Un,"");for(let e=0,t=m(this,jn).length;e<t;e++){const{line:n,points:i}=m(this,jn)[e];W(this,Tn,n),W(this,_i,i),W(this,Vs,0),this.toSVGPath()}return{path:{d:m(this,Un)}}}toSVGPath(){const e=it.svgRound(m(this,Tn)[4]),t=it.svgRound(m(this,Tn)[5]);if(m(this,_i).length===2)return W(this,Un,`${m(this,Un)} M ${e} ${t} Z`),m(this,Un);if(m(this,_i).length<=6){const i=m(this,Un).lastIndexOf("M");W(this,Un,`${m(this,Un).slice(0,i)} M ${e} ${t}`),W(this,Vs,6)}if(m(this,_i).length===4){const i=it.svgRound(m(this,Tn)[10]),s=it.svgRound(m(this,Tn)[11]);return W(this,Un,`${m(this,Un)} L ${i} ${s}`),W(this,Vs,12),m(this,Un)}const n=[];m(this,Vs)===0&&(n.push(`M ${e} ${t}`),W(this,Vs,6));for(let i=m(this,Vs),s=m(this,Tn).length;i<s;i+=6){const[a,o,l,u,h,f]=m(this,Tn).slice(i,i+6).map(it.svgRound);n.push(`C${a} ${o} ${l} ${u} ${h} ${f}`)}return W(this,Un,m(this,Un)+n.join(" ")),W(this,Vs,m(this,Tn).length),m(this,Un)}getOutlines(e,t,n,i){const s=m(this,jn).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),m(this,Xh).build(m(this,jn),e,t,n,m(this,Kh),m(this,Wp),i),W(this,bo,null),W(this,Tn,null),W(this,jn,null),W(this,Un,null),m(this,Xh)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}bo=new WeakMap,Tn=new WeakMap,jn=new WeakMap,Kh=new WeakMap,Wp=new WeakMap,_i=new WeakMap,Un=new WeakMap,Vs=new WeakMap,Xh=new WeakMap,Yh=new WeakMap,Qh=new WeakMap,$p=new WeakSet,yx=function(e,t){return it._normalizePoint(e,t,m(this,Yh),m(this,Qh),m(this,Kh))};var Si,K1,X1,ys,Ao,_o,Gp,Vp,Kp,qn,Zo,S8,N8,E8;const cE=class cE extends it{constructor(){super(...arguments);ee(this,qn);ee(this,Si);ee(this,K1,0);ee(this,X1);ee(this,ys);ee(this,Ao);ee(this,_o);ee(this,Gp);ee(this,Vp);ee(this,Kp)}build(t,n,i,s,a,o,l){W(this,Ao,n),W(this,_o,i),W(this,Gp,s),W(this,Vp,a),W(this,Kp,o),W(this,X1,l??0),W(this,ys,t),re(this,qn,N8).call(this)}setLastElement(t){return m(this,ys).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return m(this,ys).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:n}of m(this,ys)){if(t.push(`M${it.svgRound(n[4])} ${it.svgRound(n[5])}`),n.length===6){t.push("Z");continue}if(n.length===12){t.push(`L${it.svgRound(n[10])} ${it.svgRound(n[11])}`);continue}for(let i=6,s=n.length;i<s;i+=6){const[a,o,l,u,h,f]=n.subarray(i,i+6).map(it.svgRound);t.push(`C${a} ${o} ${l} ${u} ${h} ${f}`)}}return t.join("")}serialize([t,n,i,s],a){const o=[],l=[],[u,h,f,p]=re(this,qn,S8).call(this);let d,x,v,b,y,w,A,k,M;switch(m(this,Vp)){case 0:M=it._rescale,d=t,x=n+s,v=i,b=-s,y=t+u*i,w=n+(1-h-p)*s,A=t+(u+f)*i,k=n+(1-h)*s;break;case 90:M=it._rescaleAndSwap,d=t,x=n,v=i,b=s,y=t+h*i,w=n+u*s,A=t+(h+p)*i,k=n+(u+f)*s;break;case 180:M=it._rescale,d=t+i,x=n,v=-i,b=s,y=t+(1-u-f)*i,w=n+h*s,A=t+(1-u)*i,k=n+(h+p)*s;break;case 270:M=it._rescaleAndSwap,d=t+i,x=n+s,v=-i,b=-s,y=t+(1-h-p)*i,w=n+(1-u-f)*s,A=t+(1-h)*i,k=n+(1-u)*s;break}for(const{line:$,points:H}of m(this,ys))o.push(M($,d,x,v,b,a?new Array($.length):null)),l.push(M(H,d,x,v,b,a?new Array(H.length):null));return{lines:o,points:l,rect:[y,w,A,k]}}static deserialize(t,n,i,s,a,{paths:{lines:o,points:l},rotation:u,thickness:h}){const f=[];let p,d,x,v,b;switch(u){case 0:b=it._rescale,p=-t/i,d=n/s+1,x=1/i,v=-1/s;break;case 90:b=it._rescaleAndSwap,p=-n/s,d=-t/i,x=1/s,v=1/i;break;case 180:b=it._rescale,p=t/i+1,d=-n/s,x=-1/i,v=1/s;break;case 270:b=it._rescaleAndSwap,p=n/s+1,d=t/i+1,x=-1/s,v=-1/i;break}if(!o){o=[];for(const w of l){const A=w.length;if(A===2){o.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1]]));continue}if(A===4){o.push(new Float32Array([NaN,NaN,NaN,NaN,w[0],w[1],NaN,NaN,NaN,NaN,w[2],w[3]]));continue}const k=new Float32Array(3*(A-2));o.push(k);let[M,$,H,q]=w.subarray(0,4);k.set([NaN,NaN,NaN,NaN,M,$],0);for(let D=4;D<A;D+=2){const se=w[D],z=w[D+1];k.set(it.createBezierPoints(M,$,H,q,se,z),(D-2)*3),[M,$,H,q]=[H,q,se,z]}}}for(let w=0,A=o.length;w<A;w++)f.push({line:b(o[w].map(k=>k??NaN),p,d,x,v),points:b(l[w].map(k=>k??NaN),p,d,x,v)});const y=new cE;return y.build(f,i,s,1,u,h,a),y}get box(){return m(this,Si)}updateProperty(t,n){return t==="stroke-width"?re(this,qn,E8).call(this,n):null}updateParentDimensions([t,n],i){const[s,a]=re(this,qn,Zo).call(this);W(this,Ao,t),W(this,_o,n),W(this,Gp,i);const[o,l]=re(this,qn,Zo).call(this),u=o-s,h=l-a,f=m(this,Si);return f[0]-=u,f[1]-=h,f[2]+=2*u,f[3]+=2*h,f}updateRotation(t){return W(this,K1,t),{path:{transform:this.rotationTransform}}}get viewBox(){return m(this,Si).map(it.svgRound).join(" ")}get defaultProperties(){const[t,n]=m(this,Si);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${it.svgRound(t)} ${it.svgRound(n)}`}}}get rotationTransform(){const[,,t,n]=m(this,Si);let i=0,s=0,a=0,o=0,l=0,u=0;switch(m(this,K1)){case 90:s=n/t,a=-t/n,l=t;break;case 180:i=-1,o=-1,l=t,u=n;break;case 270:s=-n/t,a=t/n,u=n;break;default:return""}return`matrix(${i} ${s} ${a} ${o} ${it.svgRound(l)} ${it.svgRound(u)})`}getPathResizingSVGProperties([t,n,i,s]){const[a,o]=re(this,qn,Zo).call(this),[l,u,h,f]=m(this,Si);if(Math.abs(h-a)<=it.PRECISION||Math.abs(f-o)<=it.PRECISION){const b=t+i/2-(l+h/2),y=n+s/2-(u+f/2);return{path:{"transform-origin":`${it.svgRound(t)} ${it.svgRound(n)}`,transform:`${this.rotationTransform} translate(${b} ${y})`}}}const p=(i-2*a)/(h-2*a),d=(s-2*o)/(f-2*o),x=h/i,v=f/s;return{path:{"transform-origin":`${it.svgRound(l)} ${it.svgRound(u)}`,transform:`${this.rotationTransform} scale(${x} ${v}) translate(${it.svgRound(a)} ${it.svgRound(o)}) scale(${p} ${d}) translate(${it.svgRound(-a)} ${it.svgRound(-o)})`}}}getPathResizedSVGProperties([t,n,i,s]){const[a,o]=re(this,qn,Zo).call(this),l=m(this,Si),[u,h,f,p]=l;if(l[0]=t,l[1]=n,l[2]=i,l[3]=s,Math.abs(f-a)<=it.PRECISION||Math.abs(p-o)<=it.PRECISION){const y=t+i/2-(u+f/2),w=n+s/2-(h+p/2);for(const{line:A,points:k}of m(this,ys))it._translate(A,y,w,A),it._translate(k,y,w,k);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${it.svgRound(t)} ${it.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const d=(i-2*a)/(f-2*a),x=(s-2*o)/(p-2*o),v=-d*(u+a)+t+a,b=-x*(h+o)+n+o;if(d!==1||x!==1||v!==0||b!==0)for(const{line:y,points:w}of m(this,ys))it._rescale(y,v,b,d,x,y),it._rescale(w,v,b,d,x,w);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${it.svgRound(t)} ${it.svgRound(n)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,n],i){const[s,a]=i,o=m(this,Si),l=t-o[0],u=n-o[1];if(m(this,Ao)===s&&m(this,_o)===a)for(const{line:h,points:f}of m(this,ys))it._translate(h,l,u,h),it._translate(f,l,u,f);else{const h=m(this,Ao)/s,f=m(this,_o)/a;W(this,Ao,s),W(this,_o,a);for(const{line:p,points:d}of m(this,ys))it._rescale(p,l,u,h,f,p),it._rescale(d,l,u,h,f,d);o[2]*=h,o[3]*=f}return o[0]=t,o[1]=n,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${it.svgRound(t)} ${it.svgRound(n)}`}}}get defaultSVGProperties(){const t=m(this,Si);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${it.svgRound(t[0])} ${it.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}};Si=new WeakMap,K1=new WeakMap,X1=new WeakMap,ys=new WeakMap,Ao=new WeakMap,_o=new WeakMap,Gp=new WeakMap,Vp=new WeakMap,Kp=new WeakMap,qn=new WeakSet,Zo=function(t=m(this,Kp)){const n=m(this,X1)+t/2*m(this,Gp);return m(this,Vp)%180===0?[n/m(this,Ao),n/m(this,_o)]:[n/m(this,_o),n/m(this,Ao)]},S8=function(){const[t,n,i,s]=m(this,Si),[a,o]=re(this,qn,Zo).call(this,0);return[t+a,n+o,i-2*a,s-2*o]},N8=function(){const t=W(this,Si,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of m(this,ys)){if(s.length<=12){for(let l=4,u=s.length;l<u;l+=6){const[h,f]=s.subarray(l,l+2);t[0]=Math.min(t[0],h),t[1]=Math.min(t[1],f),t[2]=Math.max(t[2],h),t[3]=Math.max(t[3],f)}continue}let a=s[4],o=s[5];for(let l=6,u=s.length;l<u;l+=6){const[h,f,p,d,x,v]=s.subarray(l,l+6);ut.bezierBoundingBox(a,o,h,f,p,d,x,v,t),a=x,o=v}}const[n,i]=re(this,qn,Zo).call(this);t[0]=Math.min(1,Math.max(0,t[0]-n)),t[1]=Math.min(1,Math.max(0,t[1]-i)),t[2]=Math.min(1,Math.max(0,t[2]+n)),t[3]=Math.min(1,Math.max(0,t[3]+i)),t[2]-=t[0],t[3]-=t[1]},E8=function(t){const[n,i]=re(this,qn,Zo).call(this);W(this,Kp,t);const[s,a]=re(this,qn,Zo).call(this),[o,l]=[s-n,a-i],u=m(this,Si);return u[0]-=o,u[1]-=l,u[2]+=2*o,u[3]+=2*l,u};let cw=cE;var Xp;const uE=class uE extends KO{constructor(t){super();ee(this,Xp);W(this,Xp,t),super.updateProperties({fill:"none",stroke:Rr._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(t,n){t==="stroke-width"&&(n??(n=this["stroke-width"]),n*=m(this,Xp).realScale),super.updateSVGProperty(t,n)}clone(){const t=new uE(m(this,Xp));return t.updateAll(this),t}};Xp=new WeakMap;let G_=uE;var Lw,k8;const Tf=class Tf extends H_{constructor(t){super({...t,name:"inkEditor"});ee(this,Lw);this._willKeepAspectRatio=!0}static initialize(t,n){Rr.initialize(t,n),this._defaultDrawingOptions=new G_(n.viewParameters)}static getDefaultDrawingOptions(t){const n=this._defaultDrawingOptions.clone();return n.updateProperties(t),n}static get supportMultipleDrawings(){return!0}static get typesMap(){return Ft(this,"typesMap",new Map([[Bt.INK_THICKNESS,"stroke-width"],[Bt.INK_COLOR,"stroke"],[Bt.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,n,i,s,a){return new XO(t,n,i,s,a,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,n,i,s,a,o){return cw.deserialize(t,n,i,s,a,o)}static async deserialize(t,n,i){let s=null;if(t instanceof DN){const{data:{inkLists:o,rect:l,rotation:u,id:h,color:f,opacity:p,borderStyle:{rawWidth:d},popupRef:x},parent:{page:{pageNumber:v}}}=t;s=t={annotationType:jt.INK,color:Array.from(f),thickness:d,opacity:p,paths:{points:o},boxes:null,pageIndex:v-1,rect:l.slice(0),rotation:u,id:h,deleted:!1,popupRef:x}}const a=await super.deserialize(t,n,i);return a.annotationElementId=t.id||null,a._initialData=s,a}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:n,parent:i}=this;n.updateSVGProperty("stroke-width"),i.drawLayer.updateProperties(t,n.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:n,opacity:i}){this._drawingOptions=Tf.getDefaultDrawingOptions({stroke:ut.makeHexColor(...t),"stroke-width":n,"stroke-opacity":i})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:n,points:i,rect:s}=this.serializeDraw(t),{_drawingOptions:{stroke:a,"stroke-opacity":o,"stroke-width":l}}=this,u={annotationType:jt.INK,color:Rr._colorManager.convert(a),opacity:o,thickness:l,paths:{lines:n,points:i},pageIndex:this.pageIndex,rect:s,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return t?u:this.annotationElementId&&!re(this,Lw,k8).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(t){const{points:n,rect:i}=this.serializeDraw(!1);return t.updateEdited({rect:i,thickness:this._drawingOptions["stroke-width"],points:n}),null}};Lw=new WeakSet,k8=function(t){const{color:n,thickness:i,opacity:s,pageIndex:a}=this._initialData;return this._hasBeenMoved||this._hasBeenResized||t.color.some((o,l)=>o!==n[l])||t.thickness!==i||t.opacity!==s||t.pageIndex!==a},dt(Tf,"_type","ink"),dt(Tf,"_editorType",jt.INK),dt(Tf,"_defaultDrawingOptions",null);let V_=Tf;var Lr,zn,zc,Nl,Hc,Yp,So,No,vs,Qp,Gt,Bg,Ug,vx,X_,xx,Y_,wx,C8;const e0=class e0 extends Rr{constructor(t){super({...t,name:"stampEditor"});ee(this,Gt);ee(this,Lr,null);ee(this,zn,null);ee(this,zc,null);ee(this,Nl,null);ee(this,Hc,null);ee(this,Yp,"");ee(this,So,null);ee(this,No,null);ee(this,vs,!1);ee(this,Qp,!1);W(this,Nl,t.bitmapUrl),W(this,Hc,t.bitmapFile)}static initialize(t,n){Rr.initialize(t,n)}static get supportedTypes(){return Ft(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return Ft(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(t){return this.supportedTypes.includes(t)}static paste(t,n){n.pasteEditor(jt.STAMP,{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const n=t.get("hasAltText");return{hasAltText:n.get(!0)??0,hasNoAltText:n.get(!1)??0}}async mlGuessAltText(t=null,n=!0){if(this.hasAltTextData())return null;const{mlManager:i}=this._uiManager;if(!i)throw new Error("No ML.");if(!await i.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:a,height:o}=t||this.copyCanvas(null,null,!0).imageData,l=await i.guess({name:"altText",request:{data:s,width:a,height:o,channels:s.length/(a*o)}});if(!l)throw new Error("No response from the AI service.");if(l.error)throw new Error("Error from the AI service.");if(l.cancel)return null;if(!l.output)throw new Error("No valid response from the AI service.");const u=l.output;return await this.setGuessedAltText(u),n&&!this.hasAltTextData()&&(this.altTextData={alt:u,decorative:!1}),u}remove(){var t;m(this,zn)&&(W(this,Lr,null),this._uiManager.imageManager.deleteId(m(this,zn)),(t=m(this,So))==null||t.remove(),W(this,So,null),m(this,No)&&(clearTimeout(m(this,No)),W(this,No,null))),super.remove()}rebuild(){if(!this.parent){m(this,zn)&&re(this,Gt,vx).call(this);return}super.rebuild(),this.div!==null&&(m(this,zn)&&m(this,So)===null&&re(this,Gt,vx).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(m(this,zc)||m(this,Lr)||m(this,Nl)||m(this,Hc)||m(this,zn))}get isResizable(){return!0}render(){if(this.div)return this.div;let t,n;if(this.width&&(t=this.x,n=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),m(this,Lr)?re(this,Gt,X_).call(this):re(this,Gt,vx).call(this),this.width&&!this.annotationElementId){const[i,s]=this.parentDimensions;this.setAt(t*i,n*s,this.width*i,this.height*s)}return this._uiManager.addShouldRescale(this),this.div}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;m(this,No)!==null&&clearTimeout(m(this,No)),W(this,No,setTimeout(()=>{W(this,No,null),re(this,Gt,Y_).call(this)},200))}copyCanvas(t,n,i=!1){var d;t||(t=224);const{width:s,height:a}=m(this,Lr),o=new GA;let l=m(this,Lr),u=s,h=a,f=null;if(n){if(s>n||a>n){const q=Math.min(n/s,n/a);u=Math.floor(s*q),h=Math.floor(a*q)}f=document.createElement("canvas");const x=f.width=Math.ceil(u*o.sx),v=f.height=Math.ceil(h*o.sy);m(this,vs)||(l=re(this,Gt,xx).call(this,x,v));const b=f.getContext("2d");b.filter=this._uiManager.hcmFilter;let y="white",w="#cfcfd8";this._uiManager.hcmFilter!=="none"?w="black":(d=window.matchMedia)!=null&&d.call(window,"(prefers-color-scheme: dark)").matches&&(y="#8f8f9d",w="#42414d");const A=15,k=A*o.sx,M=A*o.sy,$=new OffscreenCanvas(k*2,M*2),H=$.getContext("2d");H.fillStyle=y,H.fillRect(0,0,k*2,M*2),H.fillStyle=w,H.fillRect(0,0,k,M),H.fillRect(k,M,k,M),b.fillStyle=b.createPattern($,"repeat"),b.fillRect(0,0,x,v),b.drawImage(l,0,0,l.width,l.height,0,0,x,v)}let p=null;if(i){let x,v;if(o.symmetric&&l.width<t&&l.height<t)x=l.width,v=l.height;else if(l=m(this,Lr),s>t||a>t){const w=Math.min(t/s,t/a);x=Math.floor(s*w),v=Math.floor(a*w),m(this,vs)||(l=re(this,Gt,xx).call(this,x,v))}const y=new OffscreenCanvas(x,v).getContext("2d",{willReadFrequently:!0});y.drawImage(l,0,0,l.width,l.height,0,0,x,v),p={width:x,height:v,data:y.getImageData(0,0,x,v).data}}return{canvas:f,width:u,height:h,imageData:p}}getImageForAltText(){return m(this,So)}static async deserialize(t,n,i){var v;let s=null;if(t instanceof XL){const{data:{rect:b,rotation:y,id:w,structParent:A,popupRef:k},container:M,parent:{page:{pageNumber:$}}}=t,H=M.querySelector("canvas"),q=i.imageManager.getFromCanvas(M.id,H);H.remove();const D=((v=await n._structTree.getAriaAttributes(`${CN}${w}`))==null?void 0:v.get("aria-label"))||"";s=t={annotationType:jt.STAMP,bitmapId:q.id,bitmap:q.bitmap,pageIndex:$-1,rect:b.slice(0),rotation:y,id:w,deleted:!1,accessibilityData:{decorative:!1,altText:D},isSvg:!1,structParent:A,popupRef:k}}const a=await super.deserialize(t,n,i),{rect:o,bitmap:l,bitmapUrl:u,bitmapId:h,isSvg:f,accessibilityData:p}=t;h&&i.imageManager.isValidId(h)?(W(a,zn,h),l&&W(a,Lr,l)):W(a,Nl,u),W(a,vs,f);const[d,x]=a.pageDimensions;return a.width=(o[2]-o[0])/d,a.height=(o[3]-o[1])/x,a.annotationElementId=t.id||null,p&&(a.altTextData=p),a._initialData=s,W(a,Qp,!!s),a}serialize(t=!1,n=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i={annotationType:jt.STAMP,bitmapId:m(this,zn),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:m(this,vs),structTreeParentId:this._structTreeParentId};if(t)return i.bitmapUrl=re(this,Gt,wx).call(this,!0),i.accessibilityData=this.serializeAltText(!0),i;const{decorative:s,altText:a}=this.serializeAltText(!1);if(!s&&a&&(i.accessibilityData={type:"Figure",alt:a}),this.annotationElementId){const l=re(this,Gt,C8).call(this,i);if(l.isSame)return null;l.isSameAltText?delete i.accessibilityData:i.accessibilityData.structParent=this._initialData.structParent??-1}if(i.id=this.annotationElementId,n===null)return i;n.stamps||(n.stamps=new Map);const o=m(this,vs)?(i.rect[2]-i.rect[0])*(i.rect[3]-i.rect[1]):null;if(!n.stamps.has(m(this,zn)))n.stamps.set(m(this,zn),{area:o,serialized:i}),i.bitmap=re(this,Gt,wx).call(this,!1);else if(m(this,vs)){const l=n.stamps.get(m(this,zn));o>l.area&&(l.area=o,l.serialized.bitmap.close(),l.serialized.bitmap=re(this,Gt,wx).call(this,!1))}return i}renderAnnotationElement(t){return t.updateEdited({rect:this.getRect(0,0)}),null}};Lr=new WeakMap,zn=new WeakMap,zc=new WeakMap,Nl=new WeakMap,Hc=new WeakMap,Yp=new WeakMap,So=new WeakMap,No=new WeakMap,vs=new WeakMap,Qp=new WeakMap,Gt=new WeakSet,Bg=function(t,n=!1){if(!t){this.remove();return}W(this,Lr,t.bitmap),n||(W(this,zn,t.id),W(this,vs,t.isSvg)),t.file&&W(this,Yp,t.file.name),re(this,Gt,X_).call(this)},Ug=function(){if(W(this,zc,null),this._uiManager.enableWaiting(!1),!!m(this,So)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,Lr)){this._editToolbar.hide(),this._uiManager.editAltText(this,!0);return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&m(this,Lr)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},vx=function(){if(m(this,zn)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(m(this,zn)).then(i=>re(this,Gt,Bg).call(this,i,!0)).finally(()=>re(this,Gt,Ug).call(this));return}if(m(this,Nl)){const i=m(this,Nl);W(this,Nl,null),this._uiManager.enableWaiting(!0),W(this,zc,this._uiManager.imageManager.getFromUrl(i).then(s=>re(this,Gt,Bg).call(this,s)).finally(()=>re(this,Gt,Ug).call(this)));return}if(m(this,Hc)){const i=m(this,Hc);W(this,Hc,null),this._uiManager.enableWaiting(!0),W(this,zc,this._uiManager.imageManager.getFromFile(i).then(s=>re(this,Gt,Bg).call(this,s)).finally(()=>re(this,Gt,Ug).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=e0.supportedTypesStr;const n=this._uiManager._signal;W(this,zc,new Promise(i=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),re(this,Gt,Bg).call(this,s)}i()},{signal:n}),t.addEventListener("cancel",()=>{this.remove(),i()},{signal:n})}).finally(()=>re(this,Gt,Ug).call(this))),t.click()},X_=function(){var f;const{div:t}=this;let{width:n,height:i}=m(this,Lr);const[s,a]=this.pageDimensions,o=.75;if(this.width)n=this.width*s,i=this.height*a;else if(n>o*s||i>o*a){const p=Math.min(o*s/n,o*a/i);n*=p,i*=p}const[l,u]=this.parentDimensions;this.setDims(n*l/s,i*u/a),this._uiManager.enableWaiting(!1);const h=W(this,So,document.createElement("canvas"));h.setAttribute("role","img"),this.addContainer(h),this.width=n/s,this.height=i/a,(f=this._initialOptions)!=null&&f.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),re(this,Gt,Y_).call(this),m(this,Qp)||(this.parent.addUndoableEditor(this),W(this,Qp,!0)),this._reportTelemetry({action:"inserted_image"}),m(this,Yp)&&h.setAttribute("aria-label",m(this,Yp))},xx=function(t,n){const{width:i,height:s}=m(this,Lr);let a=i,o=s,l=m(this,Lr);for(;a>2*t||o>2*n;){const u=a,h=o;a>2*t&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2)),o>2*n&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2));const f=new OffscreenCanvas(a,o);f.getContext("2d").drawImage(l,0,0,u,h,0,0,a,o),l=f.transferToImageBitmap()}return l},Y_=function(){const[t,n]=this.parentDimensions,{width:i,height:s}=this,a=new GA,o=Math.ceil(i*t*a.sx),l=Math.ceil(s*n*a.sy),u=m(this,So);if(!u||u.width===o&&u.height===l)return;u.width=o,u.height=l;const h=m(this,vs)?m(this,Lr):re(this,Gt,xx).call(this,o,l),f=u.getContext("2d");f.filter=this._uiManager.hcmFilter,f.drawImage(h,0,0,h.width,h.height,0,0,o,l)},wx=function(t){if(t){if(m(this,vs)){const s=this._uiManager.imageManager.getSvgUrl(m(this,zn));if(s)return s}const n=document.createElement("canvas");return{width:n.width,height:n.height}=m(this,Lr),n.getContext("2d").drawImage(m(this,Lr),0,0),n.toDataURL()}if(m(this,vs)){const[n,i]=this.pageDimensions,s=Math.round(this.width*n*hu.PDF_TO_CSS_UNITS),a=Math.round(this.height*i*hu.PDF_TO_CSS_UNITS),o=new OffscreenCanvas(s,a);return o.getContext("2d").drawImage(m(this,Lr),0,0,m(this,Lr).width,m(this,Lr).height,0,0,s,a),o.transferToImageBitmap()}return structuredClone(m(this,Lr))},C8=function(t){var o;const{pageIndex:n,accessibilityData:{altText:i}}=this._initialData,s=t.pageIndex===n,a=(((o=t.accessibilityData)==null?void 0:o.alt)||"")===i;return{isSame:!this._hasBeenMoved&&!this._hasBeenResized&&s&&a,isSameAltText:a}},dt(e0,"_type","stamp"),dt(e0,"_editorType",jt.STAMP);let K_=e0;var Jh,Jp,Eo,qc,El,Ks,Wc,Zp,Zh,La,kl,oi,Cl,ct,$c,Cr,T8,io,J_,Z_,bx;const va=class va{constructor({uiManager:e,pageIndex:t,div:n,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:u,l10n:h}){ee(this,Cr);ee(this,Jh);ee(this,Jp,!1);ee(this,Eo,null);ee(this,qc,null);ee(this,El,null);ee(this,Ks,new Map);ee(this,Wc,!1);ee(this,Zp,!1);ee(this,Zh,!1);ee(this,La,null);ee(this,kl,null);ee(this,oi,null);ee(this,Cl,null);ee(this,ct);const f=[...m(va,$c).values()];if(!va._initialized){va._initialized=!0;for(const p of f)p.initialize(h,e)}e.registerEditorTypes(f),W(this,ct,e),this.pageIndex=t,this.div=n,W(this,Jh,s),W(this,Eo,a),this.viewport=u,W(this,oi,l),this.drawLayer=o,this._structTree=i,m(this,ct).addLayer(this)}get isEmpty(){return m(this,Ks).size===0}get isInvisible(){return this.isEmpty&&m(this,ct).getMode()===jt.NONE}updateToolbar(e){m(this,ct).updateToolbar(e)}updateMode(e=m(this,ct).getMode()){switch(re(this,Cr,bx).call(this),e){case jt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case jt.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case jt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of m(va,$c).values())t.toggle(`${n._type}Editing`,e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=m(this,oi))==null?void 0:t.div)}setEditingState(e){m(this,ct).setEditingState(e)}addCommands(e){m(this,ct).addCommands(e)}cleanUndoStack(e){m(this,ct).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=m(this,Eo))==null||t.div.classList.toggle("disabled",!e)}async enable(){W(this,Zh,!0),this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of m(this,Ks).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(m(this,ct).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!m(this,Eo)){W(this,Zh,!1);return}const t=m(this,Eo).getEditableAnnotations();for(const n of t){if(n.hide(),m(this,ct).isDeletedAnnotationElement(n.data.id)||e.has(n.data.id))continue;const i=await this.deserialize(n);i&&(this.addOrRebuild(i),i.enableEditing())}W(this,Zh,!1)}disable(){var i;W(this,Zp,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const s of m(this,Ks).values())if(s.disableEditing(),!!s.annotationElementId){if(s.serialize()!==null){e.set(s.annotationElementId,s);continue}else t.set(s.annotationElementId,s);(i=this.getEditableAnnotation(s.annotationElementId))==null||i.show(),s.remove()}if(m(this,Eo)){const s=m(this,Eo).getEditableAnnotations();for(const a of s){const{id:o}=a.data;if(m(this,ct).isDeletedAnnotationElement(o))continue;let l=t.get(o);if(l){l.resetAnnotationElement(a),l.show(!1),a.show();continue}l=e.get(o),l&&(m(this,ct).addChangedExistingAnnotation(l),l.renderAnnotationElement(a)&&l.show(!1)),a.show()}}re(this,Cr,bx).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const s of m(va,$c).values())n.remove(`${s._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),W(this,Zp,!1)}getEditableAnnotation(e){var t;return((t=m(this,Eo))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){m(this,ct).getActive()!==e&&m(this,ct).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=m(this,oi))!=null&&e.div&&!m(this,Cl)){W(this,Cl,new AbortController);const t=m(this,ct).combinedSignal(m(this,Cl));m(this,oi).div.addEventListener("pointerdown",re(this,Cr,T8).bind(this),{signal:t}),m(this,oi).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=m(this,oi))!=null&&e.div&&m(this,Cl)&&(m(this,Cl).abort(),W(this,Cl,null),m(this,oi).div.classList.remove("highlighting"))}enableClick(){if(m(this,qc))return;W(this,qc,new AbortController);const e=m(this,ct).combinedSignal(m(this,qc));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=m(this,qc))==null||e.abort(),W(this,qc,null)}attach(e){m(this,Ks).set(e.id,e);const{annotationElementId:t}=e;t&&m(this,ct).isDeletedAnnotationElement(t)&&m(this,ct).removeDeletedAnnotationElement(e)}detach(e){var t;m(this,Ks).delete(e.id),(t=m(this,Jh))==null||t.removePointerInTextLayer(e.contentDiv),!m(this,Zp)&&e.annotationElementId&&m(this,ct).addDeletedAnnotationElement(e)}remove(e){this.detach(e),m(this,ct).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(m(this,ct).addDeletedAnnotationElement(e.annotationElementId),Rr.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),m(this,ct).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!m(this,Zh)),m(this,ct).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var n;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!m(this,El)&&(e._focusEventsAllowed=!1,W(this,El,setTimeout(()=>{W(this,El,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:m(this,ct)._signal}),t.focus())},0))),e._structTreeParentId=(n=m(this,Jh))==null?void 0:n.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),n=()=>{e.remove()};this.addCommands({cmd:t,undo:n,mustExec:!1})}getNextId(){return m(this,ct).getId()}combinedSignal(e){return m(this,ct).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=m(this,Cr,io))==null?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){m(this,ct).updateToolbar(e),m(this,ct).updateMode(e);const{offsetX:n,offsetY:i}=re(this,Cr,Z_).call(this),s=this.getNextId(),a=re(this,Cr,J_).call(this,{parent:this,id:s,x:n,y:i,uiManager:m(this,ct),isCentered:!0,...t});a&&this.add(a)}async deserialize(e){var t;return await((t=m(va,$c).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,m(this,ct)))||null}createAndAddNewEditor(e,t,n={}){const i=this.getNextId(),s=re(this,Cr,J_).call(this,{parent:this,id:i,x:e.offsetX,y:e.offsetY,uiManager:m(this,ct),isCentered:t,...n});return s&&this.add(s),s}addNewEditor(){this.createAndAddNewEditor(re(this,Cr,Z_).call(this),!0)}setSelected(e){m(this,ct).setSelected(e)}toggleSelected(e){m(this,ct).toggleSelected(e)}unselect(e){m(this,ct).unselect(e)}pointerup(e){var n;const{isMac:t}=Ci.platform;if(!(e.button!==0||e.ctrlKey&&t)&&e.target===this.div&&m(this,Wc)&&(W(this,Wc,!1),!((n=m(this,Cr,io))!=null&&n.isDrawer&&m(this,Cr,io).supportMultipleDrawings))){if(!m(this,Jp)){W(this,Jp,!0);return}if(m(this,ct).getMode()===jt.STAMP){m(this,ct).unselectAll();return}this.createAndAddNewEditor(e,!1)}}pointerdown(e){var i;if(m(this,ct).getMode()===jt.HIGHLIGHT&&this.enableTextSelection(),m(this,Wc)){W(this,Wc,!1);return}const{isMac:t}=Ci.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(W(this,Wc,!0),(i=m(this,Cr,io))!=null&&i.isDrawer){this.startDrawingSession(e);return}const n=m(this,ct).getActive();W(this,Jp,!n||n.isEmpty())}startDrawingSession(e){if(this.div.focus(),m(this,La)){m(this,Cr,io).startDrawing(this,m(this,ct),!1,e);return}m(this,ct).setCurrentDrawingSession(this),W(this,La,new AbortController);const t=m(this,ct).combinedSignal(m(this,La));this.div.addEventListener("blur",({relatedTarget:n})=>{n&&!this.div.contains(n)&&(W(this,kl,null),this.commitOrRemove())},{signal:t}),m(this,Cr,io).startDrawing(this,m(this,ct),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&W(this,kl,t);return}m(this,kl)&&setTimeout(()=>{var t;(t=m(this,kl))==null||t.focus(),W(this,kl,null)},0)}endDrawingSession(e=!1){return m(this,La)?(m(this,ct).setCurrentDrawingSession(null),m(this,La).abort(),W(this,La,null),W(this,kl,null),m(this,Cr,io).endDrawing(e)):null}findNewParent(e,t,n){const i=m(this,ct).findParent(t,n);return i===null||i===this?!1:(i.changeParent(e),!0)}commitOrRemove(){return m(this,La)?(this.endDrawingSession(),!0):!1}onScaleChanging(){m(this,La)&&m(this,Cr,io).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=m(this,ct).getActive())==null?void 0:e.parent)===this&&(m(this,ct).commitOrRemove(),m(this,ct).setActiveEditor(null)),m(this,El)&&(clearTimeout(m(this,El)),W(this,El,null));for(const n of m(this,Ks).values())(t=m(this,Jh))==null||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,m(this,Ks).clear(),m(this,ct).removeLayer(this)}render({viewport:e}){this.viewport=e,fd(this.div,e);for(const t of m(this,ct).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){m(this,ct).commitOrRemove(),re(this,Cr,bx).call(this);const t=this.viewport.rotation,n=e.rotation;if(this.viewport=e,fd(this.div,{rotation:n}),t!==n)for(const i of m(this,Ks).values())i.rotate(n)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return m(this,ct).viewParameters.realScale}};Jh=new WeakMap,Jp=new WeakMap,Eo=new WeakMap,qc=new WeakMap,El=new WeakMap,Ks=new WeakMap,Wc=new WeakMap,Zp=new WeakMap,Zh=new WeakMap,La=new WeakMap,kl=new WeakMap,oi=new WeakMap,Cl=new WeakMap,ct=new WeakMap,$c=new WeakMap,Cr=new WeakSet,T8=function(e){m(this,ct).unselectAll();const{target:t}=e;if(t===m(this,oi).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&m(this,oi).div.contains(t)){const{isMac:n}=Ci.platform;if(e.button!==0||e.ctrlKey&&n)return;m(this,ct).showAllEditors("highlight",!0,!0),m(this,oi).div.classList.add("free"),this.toggleDrawing(),lw.startHighlighting(this,m(this,ct).direction==="ltr",{target:m(this,oi).div,x:e.x,y:e.y}),m(this,oi).div.addEventListener("pointerup",()=>{m(this,oi).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:m(this,ct)._signal}),e.preventDefault()}},io=function(){return m(va,$c).get(m(this,ct).getMode())},J_=function(e){const t=m(this,Cr,io);return t?new t.prototype.constructor(e):null},Z_=function(){const{x:e,y:t,width:n,height:i}=this.div.getBoundingClientRect(),s=Math.max(0,e),a=Math.max(0,t),o=Math.min(window.innerWidth,e+n),l=Math.min(window.innerHeight,t+i),u=(s+o)/2-e,h=(a+l)/2-t,[f,p]=this.viewport.rotation%180===0?[u,h]:[h,u];return{offsetX:f,offsetY:p}},bx=function(){for(const e of m(this,Ks).values())e.isEmpty()&&e.remove()},dt(va,"_initialized",!1),ee(va,$c,new Map([L_,V_,K_,lw].map(e=>[e._editorType,e])));let Q_=va;var Ia,Y1,Ni,ed,Iw,j8,Ro,tS,P8,rS;const ni=class ni{constructor({pageIndex:e}){ee(this,Ro);ee(this,Ia,null);ee(this,Y1,0);ee(this,Ni,new Map);ee(this,ed,new Map);this.pageIndex=e}setParent(e){if(!m(this,Ia)){W(this,Ia,e);return}if(m(this,Ia)!==e){if(m(this,Ni).size>0)for(const t of m(this,Ni).values())t.remove(),e.append(t);W(this,Ia,e)}}static get _svgFactory(){return Ft(this,"_svgFactory",new FN)}draw(e,t=!1,n=!1){const i=wi(this,Y1)._++,s=re(this,Ro,tS).call(this),a=ni._svgFactory.createElement("defs");s.append(a);const o=ni._svgFactory.createElement("path");a.append(o);const l=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",l),o.setAttribute("vector-effect","non-scaling-stroke"),t&&m(this,ed).set(i,o);const u=n?re(this,Ro,P8).call(this,a,l):null,h=ni._svgFactory.createElement("use");return s.append(h),h.setAttribute("href",`#${l}`),this.updateProperties(s,e),m(this,Ni).set(i,s),{id:i,clipPathId:`url(#${u})`}}drawOutline(e,t){const n=wi(this,Y1)._++,i=re(this,Ro,tS).call(this),s=ni._svgFactory.createElement("defs");i.append(s);const a=ni._svgFactory.createElement("path");s.append(a);const o=`path_p${this.pageIndex}_${n}`;a.setAttribute("id",o),a.setAttribute("vector-effect","non-scaling-stroke");let l;if(t){const f=ni._svgFactory.createElement("mask");s.append(f),l=`mask_p${this.pageIndex}_${n}`,f.setAttribute("id",l),f.setAttribute("maskUnits","objectBoundingBox");const p=ni._svgFactory.createElement("rect");f.append(p),p.setAttribute("width","1"),p.setAttribute("height","1"),p.setAttribute("fill","white");const d=ni._svgFactory.createElement("use");f.append(d),d.setAttribute("href",`#${o}`),d.setAttribute("stroke","none"),d.setAttribute("fill","black"),d.setAttribute("fill-rule","nonzero"),d.classList.add("mask")}const u=ni._svgFactory.createElement("use");i.append(u),u.setAttribute("href",`#${o}`),l&&u.setAttribute("mask",`url(#${l})`);const h=u.cloneNode();return i.append(h),u.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(i,e),m(this,Ni).set(n,i),n}finalizeDraw(e,t){m(this,ed).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var l;if(!t)return;const{root:n,bbox:i,rootClass:s,path:a}=t,o=typeof e=="number"?m(this,Ni).get(e):e;if(o){if(n&&re(this,Ro,rS).call(this,o,n),i&&re(l=ni,Iw,j8).call(l,o,i),s){const{classList:u}=o;for(const[h,f]of Object.entries(s))u.toggle(h,f)}if(a){const h=o.firstChild.firstChild;re(this,Ro,rS).call(this,h,a)}}}updateParent(e,t){if(t===this)return;const n=m(this,Ni).get(e);n&&(m(t,Ia).append(n),m(this,Ni).delete(e),m(t,Ni).set(e,n))}remove(e){m(this,ed).delete(e),m(this,Ia)!==null&&(m(this,Ni).get(e).remove(),m(this,Ni).delete(e))}destroy(){W(this,Ia,null);for(const e of m(this,Ni).values())e.remove();m(this,Ni).clear(),m(this,ed).clear()}};Ia=new WeakMap,Y1=new WeakMap,Ni=new WeakMap,ed=new WeakMap,Iw=new WeakSet,j8=function(e,[t,n,i,s]){const{style:a}=e;a.top=`${100*n}%`,a.left=`${100*t}%`,a.width=`${100*i}%`,a.height=`${100*s}%`},Ro=new WeakSet,tS=function(){const e=ni._svgFactory.create(1,1,!0);return m(this,Ia).append(e),e.setAttribute("aria-hidden",!0),e},P8=function(e,t){const n=ni._svgFactory.createElement("clipPath");e.append(n);const i=`clip_${t}`;n.setAttribute("id",i),n.setAttribute("clipPathUnits","objectBoundingBox");const s=ni._svgFactory.createElement("use");return n.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),i},rS=function(e,t){for(const[n,i]of Object.entries(t))i===null?e.removeAttribute(n):e.setAttribute(n,i)},ee(ni,Iw);let eS=ni;globalThis.pdfjsTestingUtils={HighlightOutliner:R_};At.AbortException;At.AnnotationEditorLayer;At.AnnotationEditorParamsType;At.AnnotationEditorType;At.AnnotationEditorUIManager;At.AnnotationLayer;At.AnnotationMode;At.ColorPicker;At.DOMSVGFactory;At.DrawLayer;At.FeatureTest;var YO=At.GlobalWorkerOptions;At.ImageKind;At.InvalidPDFException;At.MissingPDFException;At.OPS;At.OutputScale;At.PDFDataRangeTransport;At.PDFDateString;At.PDFWorker;At.PasswordResponses;At.PermissionFlag;At.PixelsPerInch;At.RenderingCancelledException;At.TextLayer;At.TouchManager;At.UnexpectedResponseException;At.Util;At.VerbosityLevel;At.XfaLayer;At.build;At.createValidAbsoluteUrl;At.fetchData;var QO=At.getDocument;At.getFilenameFromUrl;At.getPdfFilenameFromUrl;At.getXfaPageViewport;At.isDataScheme;At.isPdfFile;At.noContextMenu;At.normalizeUnicode;At.setLayerDimensions;At.shadow;At.stopEvent;At.version;const JO="/assets/pdf.worker.min-yatZIOMy.mjs";YO.workerSrc=JO;const ZO=async r=>{try{const e=await r.arrayBuffer(),t=await QO({data:e}).promise;let n="";const i=t.numPages;for(let o=1;o<=i;o++){const h=(await(await t.getPage(o)).getTextContent()).items.map(f=>"str"in f?f.str:"").join(" ").replace(/\s+/g," ").trim();h&&(n+=h+`

`)}const s=await t.getMetadata(),a=s.info?{title:s.info.Title||void 0,author:s.info.Author||void 0,subject:s.info.Subject||void 0,creator:s.info.Creator||void 0,producer:s.info.Producer||void 0,creationDate:s.info.CreationDate?new Date(s.info.CreationDate):void 0,modificationDate:s.info.ModDate?new Date(s.info.ModDate):void 0}:void 0;return{text:n.trim(),pageCount:i,metadata:a}}catch(e){throw console.error("Error parsing PDF:",e),new Error("Failed to parse PDF file. Please ensure the file is a valid PDF document.")}},eB=r=>{if(r.type!=="application/pdf")return!1;const e=10*1024*1024;return!(r.size>e)},tB=r=>{if(r===0)return"0 Bytes";const e=1024,t=["Bytes","KB","MB","GB"],n=Math.floor(Math.log(r)/Math.log(e));return parseFloat((r/Math.pow(e,n)).toFixed(2))+" "+t[n]},rB=({onTextExtracted:r,onError:e,className:t=""})=>{var w;const[n,i]=je.useState(!1),[s,a]=je.useState(!1),[o,l]=je.useState(null),[u,h]=je.useState(null),[f,p]=je.useState(null),d=je.useRef(null),x=async A=>{if(p(null),l(null),h(null),!eB(A)){const k=A.type!=="application/pdf"?"Please select a valid PDF file.":"File size must be less than 10MB.";p(k),e==null||e(k);return}l(A),a(!0);try{const k=await ZO(A);if(h(k),k.text.trim())r(k.text,k.metadata);else{const M="No text content found in the PDF. The file might be image-based or corrupted.";p(M),e==null||e(M)}}catch(k){const M=k instanceof Error?k.message:"Failed to process PDF file.";p(M),e==null||e(M)}finally{a(!1)}},v=A=>{A.preventDefault(),i(!1);const M=Array.from(A.dataTransfer.files).find($=>$.type==="application/pdf");if(M)x(M);else{const $="Please drop a PDF file.";p($),e==null||e($)}},b=A=>{var M;const k=(M=A.target.files)==null?void 0:M[0];k&&x(k)},y=()=>{l(null),h(null),p(null),d.current&&(d.current.value="")};return c.jsxs("div",{className:t,children:[c.jsxs("div",{className:`border-2 border-dashed rounded-lg p-6 text-center transition-all duration-200 ${n?"border-primary-400 bg-primary-50":f?"border-red-300 bg-red-50":o?"border-green-300 bg-green-50":"border-gray-300 hover:border-primary-400 hover:bg-gray-50"}`,onDrop:v,onDragOver:A=>{A.preventDefault(),i(!0)},onDragLeave:()=>i(!1),children:[c.jsx("input",{ref:d,type:"file",accept:".pdf",onChange:b,className:"hidden",id:"pdf-upload"}),s?c.jsxs("div",{className:"space-y-3",children:[c.jsx(MD,{className:"h-8 w-8 text-primary-500 mx-auto animate-spin"}),c.jsx("div",{className:"text-sm text-gray-600",children:"Processing PDF..."}),o&&c.jsxs("div",{className:"text-xs text-gray-500",children:["Extracting text from ",o.name]})]}):o&&u?c.jsxs("div",{className:"space-y-3",children:[c.jsx(Dt,{className:"h-8 w-8 text-green-500 mx-auto"}),c.jsx("div",{className:"text-sm font-medium text-green-700",children:"PDF processed successfully!"}),c.jsxs("div",{className:"bg-white rounded-lg p-4 text-left",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Cs,{className:"h-4 w-4 text-gray-500"}),c.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.name})]}),c.jsx("button",{onClick:y,className:"text-gray-400 hover:text-gray-600",children:c.jsx(au,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-xs text-gray-600",children:[c.jsxs("div",{children:["Size: ",tB(o.size)]}),c.jsxs("div",{children:["Pages: ",u.pageCount]}),c.jsxs("div",{children:["Characters: ",u.text.length.toLocaleString()]}),c.jsxs("div",{children:["Words: ~",u.text.split(/\s+/).length.toLocaleString()]})]}),((w=u.metadata)==null?void 0:w.title)&&c.jsxs("div",{className:"mt-2 text-xs text-gray-600",children:["Title: ",u.metadata.title]})]})]}):f?c.jsxs("div",{className:"space-y-3",children:[c.jsx(Qw,{className:"h-8 w-8 text-red-500 mx-auto"}),c.jsx("div",{className:"text-sm text-red-600",children:f}),c.jsx("button",{onClick:()=>{var A;p(null),(A=d.current)==null||A.click()},className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"Try again"})]}):c.jsxs("div",{className:"space-y-3",children:[c.jsx(IP,{className:"h-8 w-8 text-gray-400 mx-auto"}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Drop your RFP PDF here or"," ",c.jsx("label",{htmlFor:"pdf-upload",className:"text-primary-600 hover:text-primary-700 cursor-pointer font-medium",children:"click to browse"})]}),c.jsx("div",{className:"text-xs text-gray-500",children:"Supports PDF files up to 10MB"})]})]}),u&&u.text&&c.jsxs("div",{className:"mt-4",children:[c.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"Extracted Text Preview:"}),c.jsx("div",{className:"bg-gray-50 rounded-lg p-4 max-h-40 overflow-y-auto",children:c.jsxs("div",{className:"text-sm text-gray-700 whitespace-pre-wrap",children:[u.text.substring(0,500),u.text.length>500&&"..."]})})]})]})},nB=({analysis:r})=>{je.useState(null);const[e,t]=je.useState("all"),[n,i]=je.useState("all"),[s,a]=je.useState(""),o=p=>{switch(p){case"technical":return c.jsx(Cs,{className:"h-4 w-4 text-blue-500"});case"commercial":return c.jsx(om,{className:"h-4 w-4 text-green-500"});case"compliance":return c.jsx(lm,{className:"h-4 w-4 text-red-500"});case"experience":return c.jsx(dd,{className:"h-4 w-4 text-purple-500"});default:return c.jsx(Dt,{className:"h-4 w-4 text-gray-500"})}},l=p=>{switch(p){case"high":return"bg-red-100 text-red-700 border-red-200";case"medium":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"low":return"bg-green-100 text-green-700 border-green-200"}},u=r.sections.flatMap(p=>p.questions.filter(d=>{const x=e==="all"||d.type===e,v=n==="all"||d.priority===n,b=!s||d.question.toLowerCase().includes(s.toLowerCase())||d.keywords.some(y=>y.toLowerCase().includes(s.toLowerCase()));return x&&v&&b})),h={technical:r.sections.flatMap(p=>p.questions.filter(d=>d.type==="technical")).length,commercial:r.sections.flatMap(p=>p.questions.filter(d=>d.type==="commercial")).length,compliance:r.sections.flatMap(p=>p.questions.filter(d=>d.type==="compliance")).length,experience:r.sections.flatMap(p=>p.questions.filter(d=>d.type==="experience")).length,general:r.sections.flatMap(p=>p.questions.filter(d=>d.type==="general")).length},f={high:r.sections.flatMap(p=>p.questions.filter(d=>d.priority==="high")).length,medium:r.sections.flatMap(p=>p.questions.filter(d=>d.priority==="medium")).length,low:r.sections.flatMap(p=>p.questions.filter(d=>d.priority==="low")).length};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6 border border-blue-200/50",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:c.jsx(Am,{className:"h-6 w-6 text-blue-600"})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"RFP Analysis Summary"})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[c.jsxs("div",{className:"bg-white/70 rounded-lg p-4 text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.totalPages}),c.jsx("div",{className:"text-sm text-gray-600",children:"Total Pages"})]}),c.jsxs("div",{className:"bg-white/70 rounded-lg p-4 text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.sections.length}),c.jsx("div",{className:"text-sm text-gray-600",children:"Sections"})]}),c.jsxs("div",{className:"bg-white/70 rounded-lg p-4 text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.totalQuestions}),c.jsx("div",{className:"text-sm text-gray-600",children:"Questions Found"})]}),c.jsxs("div",{className:"bg-white/70 rounded-lg p-4 text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-red-600",children:f.high}),c.jsx("div",{className:"text-sm text-gray-600",children:"High Priority"})]})]}),c.jsxs("div",{className:"bg-white/70 rounded-lg p-4",children:[c.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"AI Analysis Summary:"}),c.jsx("p",{className:"text-sm text-gray-700",children:r.summary})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Questions by Type"}),c.jsx("div",{className:"space-y-3",children:Object.entries(h).map(([p,d])=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[o(p),c.jsx("span",{className:"capitalize text-gray-700",children:p})]}),c.jsx("span",{className:"font-semibold text-gray-900",children:d})]},p))})]}),c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Questions by Priority"}),c.jsx("div",{className:"space-y-3",children:Object.entries(f).map(([p,d])=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:`w-3 h-3 rounded-full ${p==="high"?"bg-red-500":p==="medium"?"bg-yellow-500":"bg-green-500"}`}),c.jsxs("span",{className:"capitalize text-gray-700",children:[p," Priority"]})]}),c.jsx("span",{className:"font-semibold text-gray-900",children:d})]},p))})]})]}),c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Question Explorer"}),c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0 mb-6",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"relative",children:[c.jsx(_N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search questions...",value:s,onChange:p=>a(p.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("select",{value:e,onChange:p=>t(p.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"all",children:"All Types"}),c.jsx("option",{value:"technical",children:"Technical"}),c.jsx("option",{value:"commercial",children:"Commercial"}),c.jsx("option",{value:"compliance",children:"Compliance"}),c.jsx("option",{value:"experience",children:"Experience"}),c.jsx("option",{value:"general",children:"General"})]}),c.jsxs("select",{value:n,onChange:p=>i(p.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"all",children:"All Priorities"}),c.jsx("option",{value:"high",children:"High Priority"}),c.jsx("option",{value:"medium",children:"Medium Priority"}),c.jsx("option",{value:"low",children:"Low Priority"})]})]}),c.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",u.length," of ",r.totalQuestions," questions"]})]}),c.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:u.map((p,d)=>c.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:c.jsx("div",{className:"flex items-start justify-between",children:c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[o(p.type),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${l(p.priority)}`,children:p.priority.toUpperCase()}),c.jsxs("span",{className:"text-xs text-gray-500",children:["Section: ",p.section]}),p.requiresAttention&&c.jsxs("div",{className:"flex items-center space-x-1 text-xs text-orange-600",children:[c.jsx(su,{className:"h-3 w-3"}),c.jsx("span",{children:"Requires Attention"})]})]}),c.jsx("p",{className:"text-gray-900 mb-2",children:p.question}),p.keywords.length>0&&c.jsxs("div",{className:"flex flex-wrap gap-1",children:[p.keywords.slice(0,5).map((x,v)=>c.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:x},v)),p.keywords.length>5&&c.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",p.keywords.length-5," more"]})]})]})})},p.id))})]}),r.keyRequirements.length>0&&c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Key Requirements Identified"}),c.jsx("div",{className:"space-y-3",children:r.keyRequirements.slice(0,5).map((p,d)=>c.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-blue-50 rounded-lg",children:[c.jsx(hd,{className:"h-5 w-5 text-blue-600 mt-0.5"}),c.jsx("p",{className:"text-gray-700 text-sm",children:p})]},d))})]}),c.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-6 border border-green-200/50",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:c.jsx(ak,{className:"h-5 w-5 text-green-600"})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"AI Recommendations"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-green-700",children:[c.jsx(Dt,{className:"h-4 w-4"}),c.jsxs("span",{children:["All ",r.totalQuestions," questions have been identified and categorized"]})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-green-700",children:[c.jsx(Dt,{className:"h-4 w-4"}),c.jsxs("span",{children:[f.high," high-priority questions require immediate attention"]})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-green-700",children:[c.jsx(Dt,{className:"h-4 w-4"}),c.jsx("span",{children:"Knowledge base content will be automatically matched to relevant questions"})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-blue-700",children:[c.jsx(ak,{className:"h-4 w-4"}),c.jsx("span",{children:"AI will generate comprehensive responses addressing all requirements"})]})]})]})]})};class iB{constructor(){dt(this,"questionPatterns",[/(?:^|\n)\s*(?:\d+\.?\s*)?(.{0,200}?\?)/gm,/(?:please\s+(?:provide|describe|explain|detail|list|specify|include))\s+(.{0,300}?)(?:\.|$)/gi,/(?:we\s+(?:require|need|request|expect))\s+(.{0,300}?)(?:\.|$)/gi,/(?:(?:must|shall|should)\s+(?:provide|include|demonstrate|show))\s+(.{0,300}?)(?:\.|$)/gi,/(?:vendor\s+(?:must|shall|should|will))\s+(.{0,300}?)(?:\.|$)/gi,/(?:proposal\s+(?:must|shall|should)\s+(?:include|contain|address))\s+(.{0,300}?)(?:\.|$)/gi,/(?:response\s+(?:must|shall|should)\s+(?:include|contain|address))\s+(.{0,300}?)(?:\.|$)/gi,/(?:bidder\s+(?:must|shall|should|will))\s+(.{0,300}?)(?:\.|$)/gi,/(?:contractor\s+(?:must|shall|should|will))\s+(.{0,300}?)(?:\.|$)/gi,/(?:supplier\s+(?:must|shall|should|will))\s+(.{0,300}?)(?:\.|$)/gi]);dt(this,"sectionPatterns",[/(?:^|\n)\s*(?:\d+\.?\s*)?(?:SECTION|PART|CHAPTER)\s+(?:\d+\.?\s*)?(.{1,100}?)(?:\n|$)/gi,/(?:^|\n)\s*(?:\d+\.?\s*)?(EXECUTIVE\s+SUMMARY|TECHNICAL\s+REQUIREMENTS|COMMERCIAL\s+TERMS|SCOPE\s+OF\s+WORK|PROJECT\s+OVERVIEW|EVALUATION\s+CRITERIA|SUBMISSION\s+REQUIREMENTS|TERMS\s+AND\s+CONDITIONS|PRICING|TIMELINE|DELIVERABLES|COMPLIANCE|EXPERIENCE|QUALIFICATIONS)(?:\s|$)/gi,/(?:^|\n)\s*(\d+\.?\s+[A-Z][^.\n]{5,80})(?:\n|$)/gm,/(?:^|\n)\s*([A-Z]\.?\s+[A-Z][^.\n]{5,80})(?:\n|$)/gm]);dt(this,"keywordCategories",{technical:["technology","architecture","platform","framework","database","api","integration","security","performance","scalability","cloud","infrastructure","development","programming","software","system","application","solution","technical","specification"],commercial:["price","cost","budget","payment","commercial","financial","pricing","rate","fee","invoice","billing","contract","terms","conditions","warranty","support"],compliance:["compliance","regulation","standard","certification","audit","policy","procedure","requirement","mandatory","must","shall","legal","regulatory","gdpr","iso"],experience:["experience","portfolio","case study","reference","client","project","track record","qualification","expertise","capability","team","resource","skill","background"]})}analyzeRFP(e,t){console.log("Starting comprehensive RFP analysis...");const n=this.cleanText(e),i=this.extractSections(n);i.forEach(x=>{x.questions=this.extractQuestions(x.content,x.title)});const s=this.extractKeyRequirements(n),a=this.extractTechnicalRequirements(n),o=this.extractCommercialTerms(n),l=this.extractComplianceItems(n),u=this.extractDeadlines(n),h=this.extractEvaluationCriteria(n),f=this.extractSubmissionRequirements(n),p=this.generateSummary(i,s,a),d=i.reduce((x,v)=>x+v.questions.length,0);return console.log(`RFP Analysis Complete: ${i.length} sections, ${d} questions identified`),{totalPages:(t==null?void 0:t.pageCount)||Math.ceil(e.length/2e3),totalQuestions:d,sections:i,keyRequirements:s,technicalRequirements:a,commercialTerms:o,complianceItems:l,deadlines:u,evaluationCriteria:h,submissionRequirements:f,summary:p}}cleanText(e){return e.replace(/\r\n/g,`
`).replace(/\r/g,`
`).replace(/\n{3,}/g,`

`).replace(/\s{2,}/g," ").trim()}extractSections(e){const t=[],n=e.split(`
`);let i=null,s=[];for(let a=0;a<n.length;a++){const o=n[a].trim(),l=this.isSectionHeader(o);l?(i&&s.length>0&&(i.content=s.join(`
`).trim(),t.push(i)),i={id:`section-${t.length+1}`,title:l,content:"",questions:[],pageNumbers:[Math.floor(a/50)+1]},s=[]):i?s.push(o):t.length===0&&(i={id:"section-general",title:"General Information",content:"",questions:[],pageNumbers:[1]},s=[o])}return i&&s.length>0&&(i.content=s.join(`
`).trim(),t.push(i)),t.length===0&&t.push({id:"section-all",title:"Complete RFP Document",content:e,questions:[],pageNumbers:[1]}),t}isSectionHeader(e){for(const i of this.sectionPatterns){const s=e.match(i);if(s)return s[1]||s[0]}const t=["executive summary","scope of work","technical requirements","commercial terms","evaluation criteria","submission requirements","project overview","timeline","deliverables","pricing","terms and conditions","compliance","experience","qualifications","proposal format","contract terms","service level agreement"],n=e.toLowerCase();for(const i of t)if(n.includes(i)&&e.length<100)return e;return null}extractQuestions(e,t){var a;const n=[],i=new Set;for(const o of this.questionPatterns){const l=e.matchAll(o);for(const u of l){const h=(a=u[1])==null?void 0:a.trim();if(h&&h.length>10&&h.length<500){const f=h.toLowerCase();if(!i.has(f)){i.add(f);const p={id:`q-${n.length+1}`,section:t,question:h,type:this.categorizeQuestion(h),priority:this.assessPriority(h),keywords:this.extractKeywords(h),requiresAttention:this.requiresSpecialAttention(h)};n.push(p)}}}}return this.extractNumberedQuestions(e,t).forEach(o=>{const l=o.question.toLowerCase();i.has(l)||(i.add(l),n.push(o))}),n}extractNumberedQuestions(e,t){const n=[],i=/(?:^|\n)\s*(\d+\.?\s+.{10,500}?\?)/gm,s=e.matchAll(i);for(const a of s){const o=a[1].trim(),l={id:`nq-${n.length+1}`,section:t,question:o,type:this.categorizeQuestion(o),priority:this.assessPriority(o),keywords:this.extractKeywords(o),requiresAttention:this.requiresSpecialAttention(o)};n.push(l)}return n}categorizeQuestion(e){const t=e.toLowerCase();return this.keywordCategories.technical.some(n=>t.includes(n))?"technical":this.keywordCategories.commercial.some(n=>t.includes(n))?"commercial":this.keywordCategories.compliance.some(n=>t.includes(n))?"compliance":this.keywordCategories.experience.some(n=>t.includes(n))?"experience":"general"}assessPriority(e){const t=e.toLowerCase();return["must","shall","required","mandatory","critical","essential","key"].some(s=>t.includes(s))?"high":["should","preferred","desired","important","significant"].some(s=>t.includes(s))?"medium":"low"}extractKeywords(e){const t=[],n=e.toLowerCase().split(/\s+/);return Object.values(this.keywordCategories).flat().forEach(i=>{n.some(s=>s.includes(i))&&t.push(i)}),[...new Set(t)]}requiresSpecialAttention(e){const t=e.toLowerCase();return["compliance","regulation","legal","audit","certification","security","gdpr","privacy","data protection","iso","soc","hipaa"].some(i=>t.includes(i))}extractKeyRequirements(e){const t=[];return[/(?:key\s+requirements?|main\s+requirements?|primary\s+requirements?)[\s\S]{0,500}?(?:\n\n|\.\s)/gi,/(?:must\s+(?:have|include|provide|support))[\s\S]{0,200}?(?:\.|$)/gi,/(?:shall\s+(?:have|include|provide|support))[\s\S]{0,200}?(?:\.|$)/gi].forEach(i=>{const s=e.matchAll(i);for(const a of s){const o=a[0].trim();o.length>20&&o.length<300&&t.push(o)}}),[...new Set(t)]}extractTechnicalRequirements(e){const t=[];return[/(?:technical\s+(?:requirements?|specifications?))[\s\S]{0,500}?(?:\n\n|\.\s)/gi,/(?:system\s+(?:requirements?|specifications?))[\s\S]{0,500}?(?:\n\n|\.\s)/gi,/(?:platform|technology|framework|database|api|integration)[\s\S]{0,200}?(?:\.|$)/gi].forEach(i=>{const s=e.matchAll(i);for(const a of s){const o=a[0].trim();o.length>20&&o.length<300&&t.push(o)}}),[...new Set(t)]}extractCommercialTerms(e){const t=[];return[/(?:commercial\s+terms|pricing|payment\s+terms|contract\s+terms)[\s\S]{0,500}?(?:\n\n|\.\s)/gi,/(?:price|cost|budget|fee|rate)[\s\S]{0,200}?(?:\.|$)/gi].forEach(i=>{const s=e.matchAll(i);for(const a of s){const o=a[0].trim();o.length>20&&o.length<300&&t.push(o)}}),[...new Set(t)]}extractComplianceItems(e){const t=[];return[/(?:compliance|regulatory|certification|audit|standard)[\s\S]{0,200}?(?:\.|$)/gi,/(?:gdpr|iso|soc|hipaa|pci|sox)[\s\S]{0,200}?(?:\.|$)/gi].forEach(i=>{const s=e.matchAll(i);for(const a of s){const o=a[0].trim();o.length>20&&o.length<300&&t.push(o)}}),[...new Set(t)]}extractDeadlines(e){const t=[];return[/(?:deadline|due\s+date|submission\s+date|closing\s+date)[\s\S]{0,100}?(?:\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}|\d{1,2}\s+\w+\s+\d{2,4})/gi,/(?:by|before|no\s+later\s+than)[\s\S]{0,50}?(?:\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}|\d{1,2}\s+\w+\s+\d{2,4})/gi].forEach(i=>{const s=e.matchAll(i);for(const a of s){const o=a[0].trim();o.length>10&&o.length<200&&t.push(o)}}),[...new Set(t)]}extractEvaluationCriteria(e){const t=[];return[/(?:evaluation\s+criteria|selection\s+criteria|scoring|weighting)[\s\S]{0,500}?(?:\n\n|\.\s)/gi,/(?:will\s+be\s+evaluated|assessment\s+based\s+on)[\s\S]{0,300}?(?:\.|$)/gi].forEach(i=>{const s=e.matchAll(i);for(const a of s){const o=a[0].trim();o.length>20&&o.length<400&&t.push(o)}}),[...new Set(t)]}extractSubmissionRequirements(e){const t=[];return[/(?:submission\s+requirements?|proposal\s+format|document\s+requirements?)[\s\S]{0,500}?(?:\n\n|\.\s)/gi,/(?:proposals?\s+must\s+include|responses?\s+must\s+contain)[\s\S]{0,300}?(?:\.|$)/gi].forEach(i=>{const s=e.matchAll(i);for(const a of s){const o=a[0].trim();o.length>20&&o.length<400&&t.push(o)}}),[...new Set(t)]}generateSummary(e,t,n){const i=e.reduce((o,l)=>o+l.questions.length,0),s=e.reduce((o,l)=>o+l.questions.filter(u=>u.priority==="high").length,0),a={technical:0,commercial:0,compliance:0,experience:0,general:0};return e.forEach(o=>{o.questions.forEach(l=>{a[l.type]++})}),`This RFP contains ${e.length} main sections with ${i} identified questions and requirements. 
${s} questions are marked as high priority and require immediate attention.

Question breakdown:
- Technical: ${a.technical} questions
- Commercial: ${a.commercial} questions  
- Compliance: ${a.compliance} questions
- Experience: ${a.experience} questions
- General: ${a.general} questions

Key areas identified: ${t.length} key requirements, ${n.length} technical specifications.

This comprehensive analysis ensures all RFP requirements are captured and addressed in your proposal response.`}}const sB=(r,e)=>new iB().analyzeRFP(r,e);class aB{constructor(e){dt(this,"knowledgeBase",[]);this.knowledgeBase=e}generateProposal(e,t,n,i){console.log("Generating comprehensive proposal from RFP analysis...");const s=this.generateExecutiveSummary(e,t,n),a=this.generateSections(e),o=a.reduce((f,p)=>f+p.rfpQuestions.length,0),l=o/e.totalQuestions*100,u=this.generateRecommendations(e,a),h=this.identifyMissingInformation(e,a);return console.log(`Proposal generated: ${a.length} sections, ${o}/${e.totalQuestions} questions addressed (${l.toFixed(1)}% coverage)`),{title:t,executiveSummary:s,sections:a,questionsAddressed:o,totalQuestions:e.totalQuestions,coveragePecentage:l,recommendations:u,missingInformation:h}}generateExecutiveSummary(e,t,n){const i=this.findRelevantKnowledge(["company","overview","capabilities"]),s=e.keyRequirements.slice(0,3);return`# Executive Summary

We are pleased to submit our comprehensive proposal for ${t} to ${n}. Our team has thoroughly analyzed your RFP requirements and identified ${e.totalQuestions} specific questions and requirements across ${e.sections.length} key areas.

## Our Understanding
${e.summary}

## Our Approach
${i?i.content.substring(0,300)+"...":"Our experienced team brings proven expertise in delivering complex software solutions that drive business growth and digital transformation."}

## Key Differentiators
- Comprehensive coverage of all ${e.totalQuestions} RFP requirements
- Proven track record with similar projects
- Dedicated project team with relevant expertise
- Agile development methodology ensuring timely delivery
- 24/7 support and maintenance capabilities

## Value Proposition
We understand that ${n} requires a solution that not only meets your technical specifications but also delivers measurable business value. Our proposal addresses each of your requirements with detailed solutions, timelines, and pricing.

${s.length>0?`
## Key Requirements Addressed
${s.map((a,o)=>`${o+1}. ${a.substring(0,200)}...`).join(`
`)}`:""}

We look forward to discussing how our solution can help ${n} achieve its objectives and deliver exceptional results.`}generateSections(e){const t=[];e.sections.forEach((i,s)=>{if(i.questions.length>0){const a=this.generateSectionContent(i,s+1);t.push(a)}});const n=this.generateStandardSections(e);return t.push(...n),t}generateSectionContent(e,t){const n=this.findRelevantKnowledgeForSection(e),i=e.questions.filter(h=>h.priority==="high"),s=e.questions.filter(h=>h.type==="technical"),a=e.questions.filter(h=>h.type==="commercial");let o=`# ${t}. ${e.title}

`;o+=`## Overview
`,o+=`This section addresses ${e.questions.length} specific requirements from your RFP, including ${i.length} high-priority items.

`,s.length>0&&(o+=`## Technical Approach
`,o+=this.generateTechnicalResponses(s,n),o+=`

`),a.length>0&&(o+=`## Commercial Considerations
`,o+=this.generateCommercialResponses(a,n),o+=`

`);const l=e.questions.filter(h=>h.type!=="technical"&&h.type!=="commercial");l.length>0&&(o+=`## Additional Requirements
`,o+=this.generateGeneralResponses(l,n),o+=`

`);const u=n.filter(h=>h.type==="case-study");return u.length>0&&(o+=`## Relevant Experience
`,o+=u[0].content.substring(0,500)+`...

`),{id:`section-${t}`,title:e.title,content:o,rfpQuestions:e.questions.map(h=>h.question),knowledgeUsed:n.map(h=>h.title),confidence:this.calculateSectionConfidence(e.questions,n)}}generateTechnicalResponses(e,t){let n="";const i=t.filter(a=>a.type==="technical-spec"||a.tags.some(o=>["technical","technology","architecture","development"].includes(o.toLowerCase()))),s=this.groupQuestionsByTechnology(e);return Object.entries(s).forEach(([a,o])=>{n+=`### ${a}
`,o.forEach((l,u)=>{n+=`**${u+1}. ${l.question}**

`,n+=this.generateQuestionResponse(l,i),n+=`

`})}),i.length>0&&(n+=`### Our Technical Capabilities
`,n+=i[0].content.substring(0,400)+`...

`),n}generateCommercialResponses(e,t){let n="";const i=t.filter(s=>s.type==="pricing"||s.tags.includes("pricing"));return e.forEach((s,a)=>{n+=`**${a+1}. ${s.question}**

`,n+=this.generateQuestionResponse(s,i),n+=`

`}),i.length>0&&(n+=`### Our Pricing Approach
`,n+=i[0].content.substring(0,400)+`...

`),n}generateGeneralResponses(e,t){let n="";return e.forEach((i,s)=>{n+=`**${s+1}. ${i.question}**

`,n+=this.generateQuestionResponse(i,t),n+=`

`}),n}generateQuestionResponse(e,t){const n=this.findMostRelevantKnowledge(e,t);let i="";switch(e.type){case"technical":i=this.generateTechnicalResponse(e,n);break;case"commercial":i=this.generateCommercialResponse(e,n);break;case"experience":i=this.generateExperienceResponse(e,n);break;case"compliance":i=this.generateComplianceResponse(e,n);break;default:i=this.generateGeneralResponse(e,n)}return i}generateTechnicalResponse(e,t){return t.length>0?`Our technical approach leverages industry best practices and proven technologies. ${(t.find(i=>i.type==="technical-spec")||t[0]).content.substring(0,300)}...

We ensure scalability, security, and performance through:
- Modern architecture patterns and frameworks
- Comprehensive testing and quality assurance
- Continuous integration and deployment practices
- Performance monitoring and optimization`:`Our technical team brings extensive experience in modern software development practices. We follow industry standards and best practices to ensure:

- Scalable and maintainable architecture
- Robust security implementation
- High-performance solutions
- Comprehensive documentation and testing

We will provide detailed technical specifications and architecture diagrams during the project planning phase.`}generateCommercialResponse(e,t){return t.length>0?`Our commercial approach is transparent and competitive. ${(t.find(i=>i.type==="pricing")||t[0]).content.substring(0,300)}...

We offer flexible pricing models including:
- Fixed-price project delivery
- Time and materials engagement
- Hybrid pricing structures
- Flexible payment terms`:`We provide transparent and competitive pricing with flexible payment terms. Our commercial approach includes:

- Detailed cost breakdown and justification
- Flexible payment schedules aligned with project milestones
- Competitive rates with no hidden costs
- Value-based pricing that delivers ROI

We will provide a comprehensive commercial proposal with detailed pricing upon request.`}generateExperienceResponse(e,t){const n=t.filter(i=>i.type==="case-study");return n.length>0?`Our team has extensive experience in similar projects. ${n[0].content.substring(0,300)}...

Key highlights of our experience:
- Successfully delivered 200+ projects
- 95% client satisfaction rate
- Average project delivery 20% faster than industry standards
- Proven track record across multiple industries`:`Our team brings extensive experience and proven expertise:

- 8+ years of software development experience
- Successfully delivered 200+ projects across various industries
- 95% client satisfaction rate with long-term partnerships
- Certified professionals with relevant industry experience
- Proven methodology and best practices

We can provide detailed case studies and client references upon request.`}generateComplianceResponse(e,t){return`We maintain strict compliance with industry standards and regulations:

- ISO 27001 certified for information security management
- GDPR compliant data handling and privacy practices
- Regular security audits and compliance assessments
- Documented policies and procedures for all processes
- Staff training on compliance requirements

We will ensure all project deliverables meet your compliance requirements and provide necessary documentation and certifications.`}generateGeneralResponse(e,t){return t.length>0?`${t[0].content.substring(0,200)}...

We are committed to delivering exceptional results that meet and exceed your expectations. Our approach includes:
- Detailed project planning and management
- Regular communication and progress updates
- Quality assurance at every stage
- Comprehensive documentation and training`:`We understand the importance of this requirement and are committed to providing a comprehensive solution. Our approach includes:

- Thorough analysis and planning
- Best-in-class implementation practices
- Regular progress monitoring and reporting
- Dedicated support throughout the project lifecycle

We will provide detailed specifications and implementation plans during the project planning phase.`}findRelevantKnowledgeForSection(e){const t=this.extractKeywords(e.title+" "+e.content),n=e.questions.flatMap(s=>s.keywords),i=[...t,...n];return this.knowledgeBase.filter(s=>s.isActive).map(s=>({item:s,relevance:this.calculateRelevance(s,i)})).filter(({relevance:s})=>s>.1).sort((s,a)=>a.relevance-s.relevance).slice(0,5).map(({item:s})=>s)}findMostRelevantKnowledge(e,t){return t.map(n=>({item:n,relevance:this.calculateRelevance(n,e.keywords)})).sort((n,i)=>i.relevance-n.relevance).slice(0,3).map(({item:n})=>n)}calculateRelevance(e,t){let n=0;const i=(e.title+" "+e.content+" "+e.tags.join(" ")).toLowerCase();return t.forEach(s=>{i.includes(s.toLowerCase())&&(n+=1)}),t.forEach(s=>{e.title.toLowerCase().includes(s.toLowerCase())&&(n+=2),e.tags.some(a=>a.toLowerCase().includes(s.toLowerCase()))&&(n+=1.5)}),n/Math.max(t.length,1)}extractKeywords(e){const t=e.toLowerCase().replace(/[^\w\s]/g," ").split(/\s+/).filter(i=>i.length>3),n=["this","that","with","from","they","been","have","were","said","each","which","their","time","will","about","would","there","could","other"];return[...new Set(t.filter(i=>!n.includes(i)))]}groupQuestionsByTechnology(e){const t={"Architecture & Design":[],"Development & Implementation":[],"Security & Compliance":[],"Performance & Scalability":[],"Integration & APIs":[],"General Technical":[]};return e.forEach(n=>{const i=n.question.toLowerCase();i.includes("architecture")||i.includes("design")||i.includes("pattern")?t["Architecture & Design"].push(n):i.includes("development")||i.includes("implementation")||i.includes("coding")?t["Development & Implementation"].push(n):i.includes("security")||i.includes("compliance")||i.includes("audit")?t["Security & Compliance"].push(n):i.includes("performance")||i.includes("scalability")||i.includes("load")?t["Performance & Scalability"].push(n):i.includes("integration")||i.includes("api")||i.includes("interface")?t["Integration & APIs"].push(n):t["General Technical"].push(n)}),Object.keys(t).forEach(n=>{t[n].length===0&&delete t[n]}),t}calculateSectionConfidence(e,t){if(e.length===0)return 0;let n=0;return e.forEach(i=>{const s=this.findMostRelevantKnowledge(i,t),a=Math.min(s.length*.3,1);n+=a}),n/e.length}generateStandardSections(e){const t=[];return t.push({id:"timeline",title:"Project Timeline & Milestones",content:this.generateTimelineSection(e),rfpQuestions:[],knowledgeUsed:[],confidence:.8}),t.push({id:"team",title:"Project Team & Resources",content:this.generateTeamSection(),rfpQuestions:[],knowledgeUsed:[],confidence:.9}),t.push({id:"risk-management",title:"Risk Management & Mitigation",content:this.generateRiskSection(),rfpQuestions:[],knowledgeUsed:[],confidence:.7}),t}generateTimelineSection(e){return`# Project Timeline & Milestones

## Project Phases

### Phase 1: Discovery & Planning (Weeks 1-2)
- Detailed requirements analysis and validation
- Technical architecture design and review
- Project plan finalization and team allocation
- Risk assessment and mitigation planning

**Deliverables:**
- Requirements specification document
- Technical architecture document
- Detailed project plan with milestones
- Risk management plan

### Phase 2: Design & Prototyping (Weeks 3-4)
- UI/UX design and user experience planning
- System design and database architecture
- API design and integration planning
- Prototype development and validation

**Deliverables:**
- UI/UX designs and style guide
- System design documentation
- API specifications
- Working prototype

### Phase 3: Development & Implementation (Weeks 5-12)
- Core system development
- Feature implementation and testing
- Integration with external systems
- Performance optimization

**Deliverables:**
- Core application functionality
- Integrated system components
- Test results and quality reports
- Performance benchmarks

### Phase 4: Testing & Quality Assurance (Weeks 13-14)
- Comprehensive system testing
- User acceptance testing
- Performance and security testing
- Bug fixes and optimization

**Deliverables:**
- Test execution reports
- UAT sign-off
- Performance test results
- Security assessment report

### Phase 5: Deployment & Go-Live (Weeks 15-16)
- Production environment setup
- Data migration and system deployment
- User training and documentation
- Go-live support and monitoring

**Deliverables:**
- Production-ready system
- User training materials
- System documentation
- Go-live support plan

## Key Milestones
- Week 2: Requirements and architecture approval
- Week 4: Design approval and prototype sign-off
- Week 8: Core functionality demonstration
- Week 12: System integration complete
- Week 14: UAT completion and sign-off
- Week 16: Production go-live

## Timeline Flexibility
We understand that project timelines may need adjustment based on changing requirements or priorities. Our agile approach allows for flexibility while maintaining quality and delivery commitments.`}generateTeamSection(){const e=this.findRelevantKnowledge(["team","resource","expertise"]);return`# Project Team & Resources

## Team Structure

### Project Management
- **Project Manager**: Dedicated PM with 8+ years experience
- **Technical Lead**: Senior architect overseeing technical decisions
- **Quality Assurance Lead**: Ensuring deliverable quality and standards

### Development Team
- **Senior Full-Stack Developers**: 2-3 developers with relevant technology expertise
- **Frontend Specialists**: UI/UX focused developers for optimal user experience
- **Backend Developers**: API and database specialists
- **DevOps Engineer**: Infrastructure and deployment specialist

### Specialized Roles
- **Business Analyst**: Requirements gathering and stakeholder communication
- **Security Specialist**: Security implementation and compliance
- **Testing Engineers**: Automated and manual testing specialists

## Team Qualifications
${e?e.content.substring(0,400)+"...":"Our team members are certified professionals with relevant industry experience and proven track records in similar projects."}

## Resource Allocation
- Full-time dedicated team for project duration
- Part-time specialists available as needed
- 24/7 support during critical phases
- Backup resources for continuity planning

## Communication Structure
- Daily standups for development team coordination
- Weekly progress reviews with stakeholders
- Bi-weekly steering committee meetings
- Monthly executive briefings

## Team Availability
Our team is committed to your project success with:
- Dedicated resources for the project duration
- Flexible working arrangements to meet project needs
- Overlap with client time zones for effective communication
- Escalation procedures for urgent issues`}generateRiskSection(){return`# Risk Management & Mitigation

## Risk Assessment Framework

### Technical Risks
**Risk**: Technology integration challenges
- **Probability**: Medium
- **Impact**: Medium
- **Mitigation**: Proof of concept development, early integration testing

**Risk**: Performance and scalability issues
- **Probability**: Low
- **Impact**: High
- **Mitigation**: Performance testing throughout development, scalable architecture design

**Risk**: Security vulnerabilities
- **Probability**: Low
- **Impact**: High
- **Mitigation**: Security-first development approach, regular security audits

### Project Risks
**Risk**: Scope creep and requirement changes
- **Probability**: Medium
- **Impact**: Medium
- **Mitigation**: Clear change management process, regular stakeholder communication

**Risk**: Resource availability issues
- **Probability**: Low
- **Impact**: Medium
- **Mitigation**: Backup resource planning, cross-training team members

**Risk**: Timeline delays
- **Probability**: Medium
- **Impact**: Medium
- **Mitigation**: Buffer time in schedule, agile delivery approach

### Business Risks
**Risk**: Stakeholder alignment issues
- **Probability**: Low
- **Impact**: High
- **Mitigation**: Regular communication, clear decision-making processes

**Risk**: Budget constraints
- **Probability**: Low
- **Impact**: High
- **Mitigation**: Transparent cost tracking, flexible scope management

## Risk Monitoring
- Weekly risk assessment reviews
- Risk register maintenance and updates
- Proactive communication of potential issues
- Escalation procedures for high-impact risks

## Contingency Planning
- Alternative technical approaches identified
- Backup resource allocation plans
- Emergency response procedures
- Business continuity planning

## Success Factors
- Clear communication channels
- Regular progress monitoring
- Proactive issue identification
- Collaborative problem-solving approach`}findRelevantKnowledge(e){return this.knowledgeBase.filter(n=>n.isActive).find(n=>e.some(i=>n.title.toLowerCase().includes(i)||n.tags.some(s=>s.toLowerCase().includes(i))||n.content.toLowerCase().includes(i)))||null}generateRecommendations(e,t){const n=[],i=t.filter(u=>u.confidence<.5);i.length>0&&n.push(`Consider adding more specific information for: ${i.map(u=>u.title).join(", ")}`);const s=e.sections.flatMap(u=>u.questions.filter(h=>h.priority==="high"));s.length>0&&n.push(`Ensure detailed responses to ${s.length} high-priority requirements`);const a=e.sections.flatMap(u=>u.questions.filter(h=>h.type==="compliance"));return a.length>0&&n.push(`Include compliance documentation and certifications for ${a.length} compliance requirements`),e.sections.flatMap(u=>u.questions.filter(h=>h.type==="technical")).length>10&&n.push("Consider adding technical architecture diagrams and detailed specifications"),e.sections.flatMap(u=>u.questions.filter(h=>h.type==="commercial")).length>0&&n.push("Include detailed pricing breakdown and commercial terms"),n}identifyMissingInformation(e,t){const n=[],i=t.flatMap(h=>h.rfpQuestions),a=e.sections.flatMap(h=>h.questions.map(f=>f.question)).filter(h=>!i.includes(h));a.length>0&&n.push(`${a.length} questions require additional attention`);const o=["company-info","case-study","technical-spec","pricing"],l=[...new Set(this.knowledgeBase.map(h=>h.type))],u=o.filter(h=>!l.includes(h));return u.length>0&&n.push(`Consider adding knowledge base content for: ${u.join(", ")}`),e.technicalRequirements.length>0&&!this.knowledgeBase.some(h=>h.type==="technical-spec")&&n.push("Technical specifications and capabilities documentation"),e.complianceItems.length>0&&n.push("Compliance certifications and documentation"),n}}const oB=(r,e,t,n,i)=>new aB(e).generateProposal(r,t,n,i),lB=()=>{const[r,e]=je.useState(1),[t,n]=je.useState(!1),[i,s]=je.useState(!1),[a,o]=je.useState([]),[l,u]=je.useState(!1),[h,f]=je.useState(null),[p,d]=je.useState(null),[x,v]=je.useState(null),[b,y]=je.useState({title:"",client:"",rfpContent:"",deadline:"",value:"",probability:70,category:"",requirements:"",teamSize:"",timeline:""}),{addProposal:w,templates:A,searchKnowledgeBase:k,knowledgeBases:M}=wu(),$=wm(),H=T=>{const{name:K,value:he}=T.target;if(y(le=>({...le,[K]:he})),K==="rfpContent"&&he.length>50){const le=k(he);o(le.slice(0,5)),u(le.length>0)}},q=(T,K)=>{var le;if(f(null),y(me=>({...me,rfpContent:T})),K!=null&&K.title&&!b.title)y(me=>({...me,title:K.title}));else if(!b.title){const pe=(le=T.split(`
`).filter(be=>be.trim().length>0)[0])==null?void 0:le.trim();pe&&pe.length<100&&y(be=>({...be,title:pe}))}const he=k(T);o(he.slice(0,5)),u(he.length>0)},D=T=>{f(T)},se=async()=>{if(!b.rfpContent){alert("Please provide RFP content to analyze");return}s(!0);try{await new Promise(K=>setTimeout(K,2e3));const T=sB(b.rfpContent);d(T),e(3)}catch(T){console.error("RFP analysis failed:",T),alert("Failed to analyze RFP. Please try again.")}finally{s(!1)}},z=async()=>{if(!p){alert("Please analyze the RFP first");return}n(!0);try{const T=M.flatMap(le=>le.items),K=oB(p,T,b.title,b.client,b.requirements);v(K);const he=w({title:b.title,client:b.client,status:"draft",deadline:b.deadline,value:b.value?parseInt(b.value):void 0,probability:b.probability,content:R(K),rfpContent:b.rfpContent});n(!1),$(`/proposal/${he}`)}catch(T){console.error("Proposal generation failed:",T),alert("Failed to generate proposal. Please try again."),n(!1)}},R=T=>{let K=T.executiveSummary+`

`;return T.sections.forEach(he=>{K+=he.content+`

`}),K},V=["Web Development","Mobile Development","Cloud Services","E-commerce","Enterprise Software","UI/UX Design","Digital Transformation","API Development","System Integration"];return t?c.jsx("div",{className:"min-h-screen pt-16 flex items-center justify-center",children:c.jsxs("div",{className:"text-center max-w-md mx-auto p-8",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-full flex items-center justify-center animate-pulse",children:c.jsx(Ua,{className:"h-10 w-10 text-white"})}),c.jsx("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-accent-400 rounded-full animate-bounce",children:c.jsx(LP,{className:"h-4 w-4 text-white m-1"})})]}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"AI is Crafting Your Proposal"}),c.jsxs("p",{className:"text-gray-600 mb-6",children:["Generating comprehensive responses to ",(p==null?void 0:p.totalQuestions)||0," RFP questions..."]}),c.jsx("div",{className:"space-y-2 text-left",children:["Analyzing RFP requirements and questions","Matching with knowledge base content","Generating technical responses","Creating commercial proposals","Addressing compliance requirements","Finalizing proposal structure"].map((T,K)=>c.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[c.jsx(Dt,{className:"h-4 w-4 text-green-500"}),c.jsx("span",{className:"text-gray-700",children:T})]},K))}),x&&c.jsx("div",{className:"mt-6 p-4 bg-green-50 rounded-lg border border-green-200",children:c.jsxs("div",{className:"text-sm text-green-700",children:["✅ Generated proposal addressing ",x.questionsAddressed,"/",x.totalQuestions," questions (",x.coveragePecentage.toFixed(1),"% coverage)"]})})]})}):i?c.jsx("div",{className:"min-h-screen pt-16 flex items-center justify-center",children:c.jsxs("div",{className:"text-center max-w-md mx-auto p-8",children:[c.jsx("div",{className:"relative",children:c.jsx("div",{className:"w-20 h-20 mx-auto mb-6 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center animate-pulse",children:c.jsx(sk,{className:"h-10 w-10 text-white"})})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Analyzing RFP Document"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"AI is reading and extracting all questions and requirements..."}),c.jsx("div",{className:"space-y-2 text-left",children:["Parsing document structure and sections","Identifying questions and requirements","Categorizing by type and priority","Extracting technical specifications","Finding compliance requirements","Generating comprehensive analysis"].map((T,K)=>c.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[c.jsx(Dt,{className:"h-4 w-4 text-blue-500"}),c.jsx("span",{className:"text-gray-700",children:T})]},K))})]})}):c.jsx("div",{className:"min-h-screen pt-16 pb-12",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Create New Proposal"}),c.jsx("p",{className:"text-gray-600",children:"AI-powered proposal generation with comprehensive RFP analysis"})]}),c.jsxs("div",{className:"mb-8",children:[c.jsx("div",{className:"flex items-center space-x-4",children:[1,2,3,4].map(T=>c.jsxs("div",{className:"flex items-center",children:[c.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${r>=T?"bg-primary-500 text-white":"bg-gray-200 text-gray-600"}`,children:T}),T<4&&c.jsx("div",{className:`w-16 h-1 mx-2 ${r>T?"bg-primary-500":"bg-gray-200"}`})]},T))}),c.jsxs("div",{className:"flex justify-between mt-2 text-sm text-gray-600",children:[c.jsx("span",{children:"RFP Upload"}),c.jsx("span",{children:"Requirements"}),c.jsx("span",{children:"AI Analysis"}),c.jsx("span",{children:"Generate"})]})]}),c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-8",children:[r===1&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"RFP Document & Basic Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Proposal Title *"}),c.jsx("input",{type:"text",name:"title",required:!0,value:b.title,onChange:H,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., E-commerce Platform Development"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Name *"}),c.jsx("input",{type:"text",name:"client",required:!0,value:b.client,onChange:H,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Client company name"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),c.jsxs("select",{name:"category",value:b.category,onChange:H,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"",children:"Select category"}),V.map(T=>c.jsx("option",{value:T,children:T},T))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Deadline"}),c.jsxs("div",{className:"relative",children:[c.jsx(Jw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"date",name:"deadline",value:b.deadline,onChange:H,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload RFP Document (PDF)"}),c.jsx(rB,{onTextExtracted:q,onError:D,className:"mb-4"}),h&&c.jsxs("div",{className:"mt-2 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[c.jsx(Qw,{className:"h-4 w-4 text-red-500"}),c.jsx("span",{className:"text-sm text-red-700",children:h})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Or paste RFP content directly"}),c.jsx("textarea",{name:"rfpContent",value:b.rfpContent,onChange:H,rows:8,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Paste the complete RFP content here for comprehensive analysis..."}),c.jsx("div",{className:"mt-2 text-sm text-gray-500",children:b.rfpContent.length>0&&c.jsxs("span",{children:["Content length: ",b.rfpContent.length.toLocaleString()," characters"]})})]}),l&&a.length>0&&c.jsxs("div",{className:"bg-gradient-to-r from-primary-50 to-secondary-50 rounded-lg p-6 border border-primary-200/50",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:c.jsx(w0,{className:"h-5 w-5 text-primary-600"})}),c.jsx("h3",{className:"font-semibold text-gray-900",children:"Relevant Knowledge Found"}),c.jsxs("span",{className:"text-sm text-gray-500",children:["(",a.length," items)"]})]}),c.jsx("div",{className:"space-y-3",children:a.map((T,K)=>c.jsxs("div",{className:"bg-white/70 rounded-lg p-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("h4",{className:"font-medium text-gray-900 text-sm",children:T.title}),c.jsx("span",{className:"text-xs bg-primary-100 text-primary-700 px-2 py-1 rounded-full",children:T.type.replace("-"," ")})]}),c.jsxs("p",{className:"text-xs text-gray-600 line-clamp-2",children:[T.content.substring(0,150),"..."]})]},K))}),c.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[c.jsx(Dt,{className:"h-4 w-4 inline mr-1 text-green-500"}),"This content will be automatically referenced in your proposal"]})]}),c.jsx("div",{className:"flex justify-end",children:c.jsxs("button",{onClick:()=>e(2),disabled:!b.title||!b.client||!b.rfpContent,className:"bg-gradient-to-r from-primary-500 to-secondary-500 text-white px-6 py-3 rounded-lg font-medium hover:from-primary-600 hover:to-secondary-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:[c.jsx("span",{children:"Next Step"}),c.jsx(Yg,{className:"h-5 w-5"})]})})]}),r===2&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Project Requirements"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Estimated Value (₹)"}),c.jsxs("div",{className:"relative",children:[c.jsx(om,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"number",name:"value",value:b.value,onChange:H,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., 2500000"})]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Win Probability: ",b.probability,"%"]}),c.jsx("input",{type:"range",name:"probability",min:"0",max:"100",value:b.probability,onChange:H,className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer slider"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Team Size"}),c.jsxs("div",{className:"relative",children:[c.jsx(dd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsxs("select",{name:"teamSize",value:b.teamSize,onChange:H,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"",children:"Select team size"}),c.jsx("option",{value:"1-3",children:"1-3 members"}),c.jsx("option",{value:"4-6",children:"4-6 members"}),c.jsx("option",{value:"7-10",children:"7-10 members"}),c.jsx("option",{value:"10+",children:"10+ members"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timeline"}),c.jsxs("div",{className:"relative",children:[c.jsx(ry,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsxs("select",{name:"timeline",value:b.timeline,onChange:H,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"",children:"Select timeline"}),c.jsx("option",{value:"2-4 weeks",children:"2-4 weeks"}),c.jsx("option",{value:"1-2 months",children:"1-2 months"}),c.jsx("option",{value:"3-6 months",children:"3-6 months"}),c.jsx("option",{value:"6+ months",children:"6+ months"})]})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Context & Requirements"}),c.jsx("textarea",{name:"requirements",value:b.requirements,onChange:H,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Any additional context, specific requirements, or constraints that should be considered..."})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("button",{onClick:()=>e(1),className:"text-gray-600 px-6 py-3 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:"Previous"}),c.jsxs("button",{onClick:se,className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white px-6 py-3 rounded-lg font-medium hover:from-blue-600 hover:to-purple-600 transition-all duration-200 flex items-center space-x-2",children:[c.jsx(sk,{className:"h-5 w-5"}),c.jsx("span",{children:"Analyze RFP"})]})]})]}),r===3&&p&&c.jsxs("div",{className:"space-y-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"RFP Analysis Results"}),c.jsx(nB,{analysis:p}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("button",{onClick:()=>e(2),className:"text-gray-600 px-6 py-3 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:"Previous"}),c.jsxs("button",{onClick:z,className:"bg-gradient-to-r from-primary-500 to-secondary-500 text-white px-8 py-3 rounded-lg font-semibold hover:from-primary-600 hover:to-secondary-600 transition-all duration-200 flex items-center space-x-2 shadow-lg hover:shadow-xl",children:[c.jsx(Ua,{className:"h-5 w-5"}),c.jsx("span",{children:"Generate Comprehensive Proposal"})]})]})]})]})]})})},cB="modulepreload",uB=function(r){return"/"+r},Ck={},nS=function(e,t,n){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(t.map(l=>{if(l=uB(l),l in Ck)return;Ck[l]=!0;const u=l.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":cB,u||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((p,d)=>{f.addEventListener("load",p),f.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function nr(r){"@babel/helpers - typeof";return nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nr(r)}var di=Uint8Array,Ss=Uint16Array,MN=Int32Array,ob=new di([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),lb=new di([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),iS=new di([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),L8=function(r,e){for(var t=new Ss(31),n=0;n<31;++n)t[n]=e+=1<<r[n-1];for(var i=new MN(t[30]),n=1;n<30;++n)for(var s=t[n];s<t[n+1];++s)i[s]=s-t[n]<<5|n;return{b:t,r:i}},I8=L8(ob,2),R8=I8.b,sS=I8.r;R8[28]=258,sS[258]=28;var F8=L8(lb,0),hB=F8.b,Tk=F8.r,aS=new Ss(32768);for(var Ar=0;Ar<32768;++Ar){var oc=(Ar&43690)>>1|(Ar&21845)<<1;oc=(oc&52428)>>2|(oc&13107)<<2,oc=(oc&61680)>>4|(oc&3855)<<4,aS[Ar]=((oc&65280)>>8|(oc&255)<<8)>>1}var Io=function(r,e,t){for(var n=r.length,i=0,s=new Ss(e);i<n;++i)r[i]&&++s[r[i]-1];var a=new Ss(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(t){o=new Ss(1<<e);var l=15-e;for(i=0;i<n;++i)if(r[i])for(var u=i<<4|r[i],h=e-r[i],f=a[r[i]-1]++<<h,p=f|(1<<h)-1;f<=p;++f)o[aS[f]>>l]=u}else for(o=new Ss(n),i=0;i<n;++i)r[i]&&(o[i]=aS[a[r[i]-1]++]>>15-r[i]);return o},du=new di(288);for(var Ar=0;Ar<144;++Ar)du[Ar]=8;for(var Ar=144;Ar<256;++Ar)du[Ar]=9;for(var Ar=256;Ar<280;++Ar)du[Ar]=7;for(var Ar=280;Ar<288;++Ar)du[Ar]=8;var S0=new di(32);for(var Ar=0;Ar<32;++Ar)S0[Ar]=5;var dB=Io(du,9,0),fB=Io(du,9,1),pB=Io(S0,5,0),mB=Io(S0,5,1),z2=function(r){for(var e=r[0],t=1;t<r.length;++t)r[t]>e&&(e=r[t]);return e},ma=function(r,e,t){var n=e/8|0;return(r[n]|r[n+1]<<8)>>(e&7)&t},H2=function(r,e){var t=e/8|0;return(r[t]|r[t+1]<<8|r[t+2]<<16)>>(e&7)},ON=function(r){return(r+7)/8|0},D8=function(r,e,t){return(t==null||t>r.length)&&(t=r.length),new di(r.subarray(e,t))},gB=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ba=function(r,e,t){var n=new Error(e||gB[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,ba),!t)throw n;return n},yB=function(r,e,t,n){var i=r.length,s=0;if(!i||e.f&&!e.l)return t||new di(0);var a=!t,o=a||e.i!=2,l=e.i;a&&(t=new di(i*3));var u=function(X){var ie=t.length;if(X>ie){var Ae=new di(Math.max(ie*2,X));Ae.set(t),t=Ae}},h=e.f||0,f=e.p||0,p=e.b||0,d=e.l,x=e.d,v=e.m,b=e.n,y=i*8;do{if(!d){h=ma(r,f,1);var w=ma(r,f+1,3);if(f+=3,w)if(w==1)d=fB,x=mB,v=9,b=5;else if(w==2){var $=ma(r,f,31)+257,H=ma(r,f+10,15)+4,q=$+ma(r,f+5,31)+1;f+=14;for(var D=new di(q),se=new di(19),z=0;z<H;++z)se[iS[z]]=ma(r,f+z*3,7);f+=H*3;for(var R=z2(se),V=(1<<R)-1,T=Io(se,R,1),z=0;z<q;){var K=T[ma(r,f,V)];f+=K&15;var A=K>>4;if(A<16)D[z++]=A;else{var he=0,le=0;for(A==16?(le=3+ma(r,f,3),f+=2,he=D[z-1]):A==17?(le=3+ma(r,f,7),f+=3):A==18&&(le=11+ma(r,f,127),f+=7);le--;)D[z++]=he}}var me=D.subarray(0,$),pe=D.subarray($);v=z2(me),b=z2(pe),d=Io(me,v,1),x=Io(pe,b,1)}else ba(1);else{var A=ON(f)+4,k=r[A-4]|r[A-3]<<8,M=A+k;if(M>i){l&&ba(0);break}o&&u(p+k),t.set(r.subarray(A,M),p),e.b=p+=k,e.p=f=M*8,e.f=h;continue}if(f>y){l&&ba(0);break}}o&&u(p+131072);for(var be=(1<<v)-1,ge=(1<<b)-1,C=f;;C=f){var he=d[H2(r,f)&be],B=he>>4;if(f+=he&15,f>y){l&&ba(0);break}if(he||ba(2),B<256)t[p++]=B;else if(B==256){C=f,d=null;break}else{var G=B-254;if(B>264){var z=B-257,ae=ob[z];G=ma(r,f,(1<<ae)-1)+R8[z],f+=ae}var J=x[H2(r,f)&ge],L=J>>4;J||ba(3),f+=J&15;var pe=hB[L];if(L>3){var ae=lb[L];pe+=H2(r,f)&(1<<ae)-1,f+=ae}if(f>y){l&&ba(0);break}o&&u(p+131072);var I=p+G;if(p<pe){var ne=s-pe,ue=Math.min(pe,I);for(ne+p<0&&ba(3);p<ue;++p)t[p]=n[ne+p]}for(;p<I;++p)t[p]=t[p-pe]}}e.l=d,e.p=C,e.b=p,e.f=h,d&&(h=1,e.m=v,e.d=x,e.n=b)}while(!h);return p!=t.length&&a?D8(t,0,p):t.subarray(0,p)},Vo=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8},mg=function(r,e,t){t<<=e&7;var n=e/8|0;r[n]|=t,r[n+1]|=t>>8,r[n+2]|=t>>16},q2=function(r,e){for(var t=[],n=0;n<r.length;++n)r[n]&&t.push({s:n,f:r[n]});var i=t.length,s=t.slice();if(!i)return{t:O8,l:0};if(i==1){var a=new di(t[0].s+1);return a[t[0].s]=1,{t:a,l:1}}t.sort(function(M,$){return M.f-$.f}),t.push({s:-1,f:25001});var o=t[0],l=t[1],u=0,h=1,f=2;for(t[0]={s:-1,f:o.f+l.f,l:o,r:l};h!=i-1;)o=t[t[u].f<t[f].f?u++:f++],l=t[u!=h&&t[u].f<t[f].f?u++:f++],t[h++]={s:-1,f:o.f+l.f,l:o,r:l};for(var p=s[0].s,n=1;n<i;++n)s[n].s>p&&(p=s[n].s);var d=new Ss(p+1),x=oS(t[h-1],d,0);if(x>e){var n=0,v=0,b=x-e,y=1<<b;for(s.sort(function($,H){return d[H.s]-d[$.s]||$.f-H.f});n<i;++n){var w=s[n].s;if(d[w]>e)v+=y-(1<<x-d[w]),d[w]=e;else break}for(v>>=b;v>0;){var A=s[n].s;d[A]<e?v-=1<<e-d[A]++-1:++n}for(;n>=0&&v;--n){var k=s[n].s;d[k]==e&&(--d[k],++v)}x=e}return{t:new di(d),l:x}},oS=function(r,e,t){return r.s==-1?Math.max(oS(r.l,e,t+1),oS(r.r,e,t+1)):e[r.s]=t},jk=function(r){for(var e=r.length;e&&!r[--e];);for(var t=new Ss(++e),n=0,i=r[0],s=1,a=function(l){t[n++]=l},o=1;o<=e;++o)if(r[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=r[o]}return{c:t.subarray(0,n),n:e}},gg=function(r,e){for(var t=0,n=0;n<e.length;++n)t+=r[n]*e[n];return t},M8=function(r,e,t){var n=t.length,i=ON(e+2);r[i]=n&255,r[i+1]=n>>8,r[i+2]=r[i]^255,r[i+3]=r[i+1]^255;for(var s=0;s<n;++s)r[i+s+4]=t[s];return(i+4+n)*8},Pk=function(r,e,t,n,i,s,a,o,l,u,h){Vo(e,h++,t),++i[256];for(var f=q2(i,15),p=f.t,d=f.l,x=q2(s,15),v=x.t,b=x.l,y=jk(p),w=y.c,A=y.n,k=jk(v),M=k.c,$=k.n,H=new Ss(19),q=0;q<w.length;++q)++H[w[q]&31];for(var q=0;q<M.length;++q)++H[M[q]&31];for(var D=q2(H,7),se=D.t,z=D.l,R=19;R>4&&!se[iS[R-1]];--R);var V=u+5<<3,T=gg(i,du)+gg(s,S0)+a,K=gg(i,p)+gg(s,v)+a+14+3*R+gg(H,se)+2*H[16]+3*H[17]+7*H[18];if(l>=0&&V<=T&&V<=K)return M8(e,h,r.subarray(l,l+u));var he,le,me,pe;if(Vo(e,h,1+(K<T)),h+=2,K<T){he=Io(p,d,0),le=p,me=Io(v,b,0),pe=v;var be=Io(se,z,0);Vo(e,h,A-257),Vo(e,h+5,$-1),Vo(e,h+10,R-4),h+=14;for(var q=0;q<R;++q)Vo(e,h+3*q,se[iS[q]]);h+=3*R;for(var ge=[w,M],C=0;C<2;++C)for(var B=ge[C],q=0;q<B.length;++q){var G=B[q]&31;Vo(e,h,be[G]),h+=se[G],G>15&&(Vo(e,h,B[q]>>5&127),h+=B[q]>>12)}}else he=dB,le=du,me=pB,pe=S0;for(var q=0;q<o;++q){var ae=n[q];if(ae>255){var G=ae>>18&31;mg(e,h,he[G+257]),h+=le[G+257],G>7&&(Vo(e,h,ae>>23&31),h+=ob[G]);var J=ae&31;mg(e,h,me[J]),h+=pe[J],J>3&&(mg(e,h,ae>>5&8191),h+=lb[J])}else mg(e,h,he[ae]),h+=le[ae]}return mg(e,h,he[256]),h+le[256]},vB=new MN([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),O8=new di(0),xB=function(r,e,t,n,i,s){var a=s.z||r.length,o=new di(n+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(n,o.length-i),u=s.l,h=(s.r||0)&7;if(e){h&&(l[0]=s.r>>3);for(var f=vB[e-1],p=f>>13,d=f&8191,x=(1<<t)-1,v=s.p||new Ss(32768),b=s.h||new Ss(x+1),y=Math.ceil(t/3),w=2*y,A=function(O){return(r[O]^r[O+1]<<y^r[O+2]<<w)&x},k=new MN(25e3),M=new Ss(288),$=new Ss(32),H=0,q=0,D=s.i||0,se=0,z=s.w||0,R=0;D+2<a;++D){var V=A(D),T=D&32767,K=b[V];if(v[T]=K,b[V]=T,z<=D){var he=a-D;if((H>7e3||se>24576)&&(he>423||!u)){h=Pk(r,l,0,k,M,$,q,se,R,D-R,h),se=H=q=0,R=D;for(var le=0;le<286;++le)M[le]=0;for(var le=0;le<30;++le)$[le]=0}var me=2,pe=0,be=d,ge=T-K&32767;if(he>2&&V==A(D-ge))for(var C=Math.min(p,he)-1,B=Math.min(32767,D),G=Math.min(258,he);ge<=B&&--be&&T!=K;){if(r[D+me]==r[D+me-ge]){for(var ae=0;ae<G&&r[D+ae]==r[D+ae-ge];++ae);if(ae>me){if(me=ae,pe=ge,ae>C)break;for(var J=Math.min(ge,ae-2),L=0,le=0;le<J;++le){var I=D-ge+le&32767,ne=v[I],ue=I-ne&32767;ue>L&&(L=ue,K=I)}}}T=K,K=v[T],ge+=T-K&32767}if(pe){k[se++]=268435456|sS[me]<<18|Tk[pe];var X=sS[me]&31,ie=Tk[pe]&31;q+=ob[X]+lb[ie],++M[257+X],++$[ie],z=D+me,++H}else k[se++]=r[D],++M[r[D]]}}for(D=Math.max(D,z);D<a;++D)k[se++]=r[D],++M[r[D]];h=Pk(r,l,u,k,M,$,q,se,R,D-R,h),u||(s.r=h&7|l[h/8|0]<<3,h-=7,s.h=b,s.p=v,s.i=D,s.w=z)}else{for(var D=s.w||0;D<a+u;D+=65535){var Ae=D+65535;Ae>=a&&(l[h/8|0]=u,Ae=a),h=M8(l,h+1,r.subarray(D,Ae))}s.i=a}return D8(o,0,n+ON(h)+i)},B8=function(){var r=1,e=0;return{p:function(t){for(var n=r,i=e,s=t.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=t[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}r=n,e=i},d:function(){return r%=65521,e%=65521,(r&255)<<24|(r&65280)<<8|(e&255)<<8|e>>8}}},wB=function(r,e,t,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new di(s.length+r.length);a.set(s),a.set(r,s.length),r=a,i.w=s.length}return xB(r,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+e.mem,t,n,i)},U8=function(r,e,t){for(;t;++e)r[e]=t,t>>>=8},bB=function(r,e){var t=e.level,n=t==0?0:t<6?1:t==9?3:2;if(r[0]=120,r[1]=n<<6|(e.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,e.dictionary){var i=B8();i.p(e.dictionary),U8(r,2,i.d())}},AB=function(r,e){return((r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31)&&ba(6,"invalid zlib data"),(r[1]>>5&1)==+!e&&ba(6,"invalid zlib data: "+(r[1]&32?"need":"unexpected")+" dictionary"),(r[1]>>3&4)+2};function lS(r,e){e||(e={});var t=B8();t.p(r);var n=wB(r,e,e.dictionary?6:2,4);return bB(n,e),U8(n,n.length-4,t.d()),n}function _B(r,e){return yB(r.subarray(AB(r,e),-4),{i:2},e,e)}var SB=typeof TextDecoder<"u"&&new TextDecoder,NB=0;try{SB.decode(O8,{stream:!0}),NB=1}catch{}var vt=function(){return typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:this}();function W2(){vt.console&&typeof vt.console.log=="function"&&vt.console.log.apply(vt.console,arguments)}var dr={log:W2,warn:function(r){vt.console&&(typeof vt.console.warn=="function"?vt.console.warn.apply(vt.console,arguments):W2.call(null,arguments))},error:function(r){vt.console&&(typeof vt.console.error=="function"?vt.console.error.apply(vt.console,arguments):W2(r))}};function $2(r,e,t){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){Hu(n.response,e,t)},n.onerror=function(){dr.error("could not download file")},n.send()}function Lk(r){var e=new XMLHttpRequest;e.open("HEAD",r,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function bv(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(e)}}var Zg,cS,Hu=vt.saveAs||((typeof window>"u"?"undefined":nr(window))!=="object"||window!==vt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,e,t){var n=vt.URL||vt.webkitURL,i=document.createElement("a");e=e||r.name||"download",i.download=e,i.rel="noopener",typeof r=="string"?(i.href=r,i.origin!==location.origin?Lk(i.href)?$2(r,e,t):bv(i,i.target="_blank"):bv(i)):(i.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){bv(i)},0))}:"msSaveOrOpenBlob"in navigator?function(r,e,t){if(e=e||r.name||"download",typeof r=="string")if(Lk(r))$2(r,e,t);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){bv(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:nr(s)!=="object"&&(dr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(r,t),e)}:function(r,e,t,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return $2(r,e,t);var i=r.type==="application/octet-stream",s=/constructor/i.test(vt.HTMLElement)||vt.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":nr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var h=o.result;h=a?h:h.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=h:location=h,n=null},o.readAsDataURL(r)}else{var l=vt.URL||vt.webkitURL,u=l.createObjectURL(r);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function z8(r){var e;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<t.length;n++){var i=t[n].re,s=t[n].process,a=i.exec(r);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function G2(r,e){var t=r[0],n=r[1],i=r[2],s=r[3];t=Qn(t,n,i,s,e[0],7,-680876936),s=Qn(s,t,n,i,e[1],12,-389564586),i=Qn(i,s,t,n,e[2],17,606105819),n=Qn(n,i,s,t,e[3],22,-1044525330),t=Qn(t,n,i,s,e[4],7,-176418897),s=Qn(s,t,n,i,e[5],12,1200080426),i=Qn(i,s,t,n,e[6],17,-1473231341),n=Qn(n,i,s,t,e[7],22,-45705983),t=Qn(t,n,i,s,e[8],7,1770035416),s=Qn(s,t,n,i,e[9],12,-1958414417),i=Qn(i,s,t,n,e[10],17,-42063),n=Qn(n,i,s,t,e[11],22,-1990404162),t=Qn(t,n,i,s,e[12],7,1804603682),s=Qn(s,t,n,i,e[13],12,-40341101),i=Qn(i,s,t,n,e[14],17,-1502002290),t=Jn(t,n=Qn(n,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Jn(s,t,n,i,e[6],9,-1069501632),i=Jn(i,s,t,n,e[11],14,643717713),n=Jn(n,i,s,t,e[0],20,-373897302),t=Jn(t,n,i,s,e[5],5,-701558691),s=Jn(s,t,n,i,e[10],9,38016083),i=Jn(i,s,t,n,e[15],14,-660478335),n=Jn(n,i,s,t,e[4],20,-405537848),t=Jn(t,n,i,s,e[9],5,568446438),s=Jn(s,t,n,i,e[14],9,-1019803690),i=Jn(i,s,t,n,e[3],14,-187363961),n=Jn(n,i,s,t,e[8],20,1163531501),t=Jn(t,n,i,s,e[13],5,-1444681467),s=Jn(s,t,n,i,e[2],9,-51403784),i=Jn(i,s,t,n,e[7],14,1735328473),t=Zn(t,n=Jn(n,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Zn(s,t,n,i,e[8],11,-2022574463),i=Zn(i,s,t,n,e[11],16,1839030562),n=Zn(n,i,s,t,e[14],23,-35309556),t=Zn(t,n,i,s,e[1],4,-1530992060),s=Zn(s,t,n,i,e[4],11,1272893353),i=Zn(i,s,t,n,e[7],16,-155497632),n=Zn(n,i,s,t,e[10],23,-1094730640),t=Zn(t,n,i,s,e[13],4,681279174),s=Zn(s,t,n,i,e[0],11,-358537222),i=Zn(i,s,t,n,e[3],16,-722521979),n=Zn(n,i,s,t,e[6],23,76029189),t=Zn(t,n,i,s,e[9],4,-640364487),s=Zn(s,t,n,i,e[12],11,-421815835),i=Zn(i,s,t,n,e[15],16,530742520),t=ei(t,n=Zn(n,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=ei(s,t,n,i,e[7],10,1126891415),i=ei(i,s,t,n,e[14],15,-1416354905),n=ei(n,i,s,t,e[5],21,-57434055),t=ei(t,n,i,s,e[12],6,1700485571),s=ei(s,t,n,i,e[3],10,-1894986606),i=ei(i,s,t,n,e[10],15,-1051523),n=ei(n,i,s,t,e[1],21,-2054922799),t=ei(t,n,i,s,e[8],6,1873313359),s=ei(s,t,n,i,e[15],10,-30611744),i=ei(i,s,t,n,e[6],15,-1560198380),n=ei(n,i,s,t,e[13],21,1309151649),t=ei(t,n,i,s,e[4],6,-145523070),s=ei(s,t,n,i,e[11],10,-1120210379),i=ei(i,s,t,n,e[2],15,718787259),n=ei(n,i,s,t,e[9],21,-343485551),r[0]=Xc(t,r[0]),r[1]=Xc(n,r[1]),r[2]=Xc(i,r[2]),r[3]=Xc(s,r[3])}function cb(r,e,t,n,i,s){return e=Xc(Xc(e,r),Xc(n,s)),Xc(e<<i|e>>>32-i,t)}function Qn(r,e,t,n,i,s,a){return cb(e&t|~e&n,r,e,i,s,a)}function Jn(r,e,t,n,i,s,a){return cb(e&n|t&~n,r,e,i,s,a)}function Zn(r,e,t,n,i,s,a){return cb(e^t^n,r,e,i,s,a)}function ei(r,e,t,n,i,s,a){return cb(t^(e|~n),r,e,i,s,a)}function H8(r){var e,t=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=r.length;e+=64)G2(n,EB(r.substring(e-64,e)));r=r.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r.length;e++)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(G2(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,G2(n,i),n}function EB(r){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=r.charCodeAt(e)+(r.charCodeAt(e+1)<<8)+(r.charCodeAt(e+2)<<16)+(r.charCodeAt(e+3)<<24);return t}Zg=vt.atob.bind(vt),cS=vt.btoa.bind(vt);var Ik="0123456789abcdef".split("");function kB(r){for(var e="",t=0;t<4;t++)e+=Ik[r>>8*t+4&15]+Ik[r>>8*t&15];return e}function CB(r){return String.fromCharCode((255&r)>>0,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function uS(r){return H8(r).map(CB).join("")}var TB=function(r){for(var e=0;e<r.length;e++)r[e]=kB(r[e]);return r.join("")}(H8("hello"))!="5d41402abc4b2a76b9719d911017c592";function Xc(r,e){if(TB){var t=(65535&r)+(65535&e);return(r>>16)+(e>>16)+(t>>16)<<16|65535&t}return r+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function hS(r,e){var t,n,i,s;if(r!==t){for(var a=(i=r,s=1+(256/r.length>>0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var h=o[l];u=(u+h+a.charCodeAt(l))%256,o[l]=o[u],o[u]=h}t=r,n=o}else o=n;var f=e.length,p=0,d=0,x="";for(l=0;l<f;l++)d=(d+(h=o[p=(p+1)%256]))%256,o[p]=o[d],o[d]=h,a=o[(o[p]+o[d])%256],x+=String.fromCharCode(e.charCodeAt(l)^a);return x}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Rk={print:4,modify:8,copy:16,"annot-forms":32};function df(r,e,t,n){this.v=1,this.r=2;var i=192;r.forEach(function(o){if(Rk.perm!==void 0)throw new Error("Invalid permission: "+o);i+=Rk[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),a=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=uS(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=hS(this.encryptionKey,this.padding)}function ff(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var e="",t=r.length,n=0;n<t;n++){var i=r.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=r[n]}return e}function Fk(r){if(nr(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,n,i){if(i=i||!1,typeof t!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[n,!!i],s},this.unsubscribe=function(t){for(var n in e)if(e[n][t])return delete e[n][t],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var a=e[t][s];try{a[0].apply(r,n)}catch(o){vt.console&&dr.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function uw(r){if(!(this instanceof uw))return new uw(r);var e="opacity,stroke-opacity".split(",");for(var t in r)r.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=r[t]);this.id="",this.objectNumber=-1}function q8(r,e){this.gState=r,this.matrix=e,this.id="",this.objectNumber=-1}function qu(r,e,t,n,i){if(!(this instanceof qu))return new qu(r,e,t,n,i);this.type=r==="axial"?2:3,this.coords=e,this.colors=t,q8.call(this,n,i)}function Ef(r,e,t,n,i){if(!(this instanceof Ef))return new Ef(r,e,t,n,i);this.boundingBox=r,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,q8.call(this,n,i)}function yt(r){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,u="S",h=null;nr(r=r||{})==="object"&&(t=r.orientation,n=r.unit||n,i=r.format||i,s=r.compress||r.compressPdf||s,(h=r.encryption||null)!==null&&(h.userPassword=h.userPassword||"",h.ownerPassword=h.ownerPassword||"",h.userPermissions=h.userPermissions||[]),o=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(e=r.precision),r.floatPrecision!==void 0&&(l=r.floatPrecision),u=r.defaultPathOperation||"S"),a=r.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",t=(""+(t||"P")).toLowerCase();var f=r.putOnlyUsedFonts||!1,p={},d={internal:{},__private__:{}};d.__private__.PubSub=Fk;var x="1.3",v=d.__private__.getPdfVersion=function(){return x};d.__private__.setPdfVersion=function(E){x=E};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return b};var y=d.__private__.getPageFormat=function(E){return b[E]};i=i||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},A=w.COMPAT;function k(){this.saveGraphicsState(),P(new gt(Xe,0,0,-Xe,0,Kl()*Xe).toString()+" cm"),this.setFontSize(this.getFontSize()/Xe),u="n",A=w.ADVANCED}function M(){this.restoreGraphicsState(),u="S",A=w.COMPAT}var $=d.__private__.combineFontStyleAndFontWeight=function(E,Q){if(E=="bold"&&Q=="normal"||E=="bold"&&Q==400||E=="normal"&&Q=="italic"||E=="bold"&&Q=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Q&&(E=Q==400||Q==="normal"?E==="italic"?"italic":"normal":Q!=700&&Q!=="bold"||E!=="normal"?(Q==700?"bold":Q)+""+E:"bold"),E};d.advancedAPI=function(E){var Q=A===w.COMPAT;return Q&&k.call(this),typeof E!="function"||(E(this),Q&&M.call(this)),this},d.compatAPI=function(E){var Q=A===w.ADVANCED;return Q&&M.call(this),typeof E!="function"||(E(this),Q&&k.call(this)),this},d.isAdvancedAPI=function(){return A===w.ADVANCED};var H,q=function(E){if(A!==w.ADVANCED)throw new Error(E+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},D=d.roundToPrecision=d.__private__.roundToPrecision=function(E,Q){var we=e||Q;if(isNaN(E)||isNaN(we))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return E.toFixed(we).replace(/0+$/,"")};H=d.hpf=d.__private__.hpf=typeof l=="number"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return D(E,l)}:l==="smart"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return D(E,E>-1&&E<1?16:5)}:function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return D(E,16)};var se=d.f2=d.__private__.f2=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f2");return D(E,2)},z=d.__private__.f3=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f3");return D(E,3)},R=d.scale=d.__private__.scale=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.scale");return A===w.COMPAT?E*Xe:A===w.ADVANCED?E:void 0},V=function(E){return A===w.COMPAT?Kl()-E:A===w.ADVANCED?E:void 0},T=function(E){return R(V(E))};d.__private__.setPrecision=d.setPrecision=function(E){typeof parseInt(E,10)=="number"&&(e=parseInt(E,10))};var K,he="00000000000000000000000000000000",le=d.__private__.getFileId=function(){return he},me=d.__private__.setFileId=function(E){return he=E!==void 0&&/^[a-fA-F0-9]{32}$/.test(E)?E.toUpperCase():he.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),h!==null&&(Vn=new df(h.userPermissions,h.userPassword,h.ownerPassword,he)),he};d.setFileId=function(E){return me(E),this},d.getFileId=function(){return le()};var pe=d.__private__.convertDateToPDFDate=function(E){var Q=E.getTimezoneOffset(),we=Q<0?"+":"-",_e=Math.floor(Math.abs(Q/60)),Te=Math.abs(Q%60),Me=[we,G(_e),"'",G(Te),"'"].join("");return["D:",E.getFullYear(),G(E.getMonth()+1),G(E.getDate()),G(E.getHours()),G(E.getMinutes()),G(E.getSeconds()),Me].join("")},be=d.__private__.convertPDFDateToDate=function(E){var Q=parseInt(E.substr(2,4),10),we=parseInt(E.substr(6,2),10)-1,_e=parseInt(E.substr(8,2),10),Te=parseInt(E.substr(10,2),10),Me=parseInt(E.substr(12,2),10),$e=parseInt(E.substr(14,2),10);return new Date(Q,we,_e,Te,Me,$e,0)},ge=d.__private__.setCreationDate=function(E){var Q;if(E===void 0&&(E=new Date),E instanceof Date)Q=pe(E);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(E))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Q=E}return K=Q},C=d.__private__.getCreationDate=function(E){var Q=K;return E==="jsDate"&&(Q=be(K)),Q};d.setCreationDate=function(E){return ge(E),this},d.getCreationDate=function(E){return C(E)};var B,G=d.__private__.padd2=function(E){return("0"+parseInt(E)).slice(-2)},ae=d.__private__.padd2Hex=function(E){return("00"+(E=E.toString())).substr(E.length)},J=0,L=[],I=[],ne=0,ue=[],X=[],ie=!1,Ae=I,O=function(){J=0,ne=0,I=[],L=[],ue=[],Mo=sn(),aa=sn()};d.__private__.setCustomOutputDestination=function(E){ie=!0,Ae=E};var ve=function(E){ie||(Ae=E)};d.__private__.resetCustomOutputDestination=function(){ie=!1,Ae=I};var P=d.__private__.out=function(E){return E=E.toString(),ne+=E.length+1,Ae.push(E),Ae},S=d.__private__.write=function(E){return P(arguments.length===1?E.toString():Array.prototype.join.call(arguments," "))},N=d.__private__.getArrayBuffer=function(E){for(var Q=E.length,we=new ArrayBuffer(Q),_e=new Uint8Array(we);Q--;)_e[Q]=E.charCodeAt(Q);return we},F=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return F};var oe=r.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(E){return oe=A===w.ADVANCED?E/Xe:E,this};var xe,fe=d.__private__.getFontSize=d.getFontSize=function(){return A===w.COMPAT?oe:oe*Xe},Ce=r.R2L||!1;d.__private__.setR2L=d.setR2L=function(E){return Ce=E,this},d.__private__.getR2L=d.getR2L=function(){return Ce};var Re,Ie=d.__private__.setZoomMode=function(E){var Q=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(E))xe=E;else if(isNaN(E)){if(Q.indexOf(E)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+E+'" is not recognized.');xe=E}else xe=parseInt(E,10)};d.__private__.getZoomMode=function(){return xe};var Ue,Ke=d.__private__.setPageMode=function(E){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(E)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+E+'" is not recognized.');Re=E};d.__private__.getPageMode=function(){return Re};var Ze=d.__private__.setLayoutMode=function(E){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(E)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+E+'" is not recognized.');Ue=E};d.__private__.getLayoutMode=function(){return Ue},d.__private__.setDisplayMode=d.setDisplayMode=function(E,Q,we){return Ie(E),Ze(Q),Ke(we),this};var lt={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(E){if(Object.keys(lt).indexOf(E)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return lt[E]},d.__private__.getDocumentProperties=function(){return lt},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(E){for(var Q in lt)lt.hasOwnProperty(Q)&&E[Q]&&(lt[Q]=E[Q]);return this},d.__private__.setDocumentProperty=function(E,Q){if(Object.keys(lt).indexOf(E)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return lt[E]=Q};var wt,Xe,Mr,ft,Gn,Vt={},Ut={},ts=[],$t={},Do={},Sr={},Ii={},gi=null,cr=0,St=[],Qt=new Fk(d),_u=r.hotfixes||[],Rn={},Ga={},Va=[],gt=function E(Q,we,_e,Te,Me,$e){if(!(this instanceof E))return new E(Q,we,_e,Te,Me,$e);isNaN(Q)&&(Q=1),isNaN(we)&&(we=0),isNaN(_e)&&(_e=0),isNaN(Te)&&(Te=1),isNaN(Me)&&(Me=0),isNaN($e)&&($e=0),this._matrix=[Q,we,_e,Te,Me,$e]};Object.defineProperty(gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),gt.prototype.join=function(E){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(H).join(E)},gt.prototype.multiply=function(E){var Q=E.sx*this.sx+E.shy*this.shx,we=E.sx*this.shy+E.shy*this.sy,_e=E.shx*this.sx+E.sy*this.shx,Te=E.shx*this.shy+E.sy*this.sy,Me=E.tx*this.sx+E.ty*this.shx+this.tx,$e=E.tx*this.shy+E.ty*this.sy+this.ty;return new gt(Q,we,_e,Te,Me,$e)},gt.prototype.decompose=function(){var E=this.sx,Q=this.shy,we=this.shx,_e=this.sy,Te=this.tx,Me=this.ty,$e=Math.sqrt(E*E+Q*Q),et=(E/=$e)*we+(Q/=$e)*_e;we-=E*et,_e-=Q*et;var ht=Math.sqrt(we*we+_e*_e);return et/=ht,E*(_e/=ht)<Q*(we/=ht)&&(E=-E,Q=-Q,et=-et,$e=-$e),{scale:new gt($e,0,0,ht,0,0),translate:new gt(1,0,0,1,Te,Me),rotate:new gt(E,Q,-Q,E,0,0),skew:new gt(1,0,et,1,0,0)}},gt.prototype.toString=function(E){return this.join(" ")},gt.prototype.inversed=function(){var E=this.sx,Q=this.shy,we=this.shx,_e=this.sy,Te=this.tx,Me=this.ty,$e=1/(E*_e-Q*we),et=_e*$e,ht=-Q*$e,kt=-we*$e,Nt=E*$e;return new gt(et,ht,kt,Nt,-et*Te-kt*Me,-ht*Te-Nt*Me)},gt.prototype.applyToPoint=function(E){var Q=E.x*this.sx+E.y*this.shx+this.tx,we=E.x*this.shy+E.y*this.sy+this.ty;return new Dd(Q,we)},gt.prototype.applyToRectangle=function(E){var Q=this.applyToPoint(E),we=this.applyToPoint(new Dd(E.x+E.w,E.y+E.h));return new Mm(Q.x,Q.y,we.x-Q.x,we.y-Q.y)},gt.prototype.clone=function(){var E=this.sx,Q=this.shy,we=this.shx,_e=this.sy,Te=this.tx,Me=this.ty;return new gt(E,Q,we,_e,Te,Me)},d.Matrix=gt;var sa=d.matrixMult=function(E,Q){return Q.multiply(E)},Ka=new gt(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=Ka;var Ri=function(E,Q){if(!Do[E]){var we=(Q instanceof qu?"Sh":"P")+(Object.keys($t).length+1).toString(10);Q.id=we,Do[E]=we,$t[we]=Q,Qt.publish("addPattern",Q)}};d.ShadingPattern=qu,d.TilingPattern=Ef,d.addShadingPattern=function(E,Q){return q("addShadingPattern()"),Ri(E,Q),this},d.beginTilingPattern=function(E){q("beginTilingPattern()"),Cy(E.boundingBox[0],E.boundingBox[1],E.boundingBox[2]-E.boundingBox[0],E.boundingBox[3]-E.boundingBox[1],E.matrix)},d.endTilingPattern=function(E,Q){q("endTilingPattern()"),Q.stream=X[B].join(`
`),Ri(E,Q),Qt.publish("endTilingPattern",Q),Va.pop().restore()};var fn=d.__private__.newObject=function(){var E=sn();return rs(E,!0),E},sn=d.__private__.newObjectDeferred=function(){return J++,L[J]=function(){return ne},J},rs=function(E,Q){return Q=typeof Q=="boolean"&&Q,L[E]=ne,Q&&P(E+" 0 obj"),E},_d=d.__private__.newAdditionalObject=function(){var E={objId:sn(),content:""};return ue.push(E),E},Mo=sn(),aa=sn(),oa=d.__private__.decodeColorString=function(E){var Q=E.split(" ");if(Q.length!==2||Q[1]!=="g"&&Q[1]!=="G")Q.length===5&&(Q[4]==="k"||Q[4]==="K")&&(Q=[(1-Q[0])*(1-Q[3]),(1-Q[1])*(1-Q[3]),(1-Q[2])*(1-Q[3]),"r"]);else{var we=parseFloat(Q[0]);Q=[we,we,we,"r"]}for(var _e="#",Te=0;Te<3;Te++)_e+=("0"+Math.floor(255*parseFloat(Q[Te])).toString(16)).slice(-2);return _e},la=d.__private__.encodeColorString=function(E){var Q;typeof E=="string"&&(E={ch1:E});var we=E.ch1,_e=E.ch2,Te=E.ch3,Me=E.ch4,$e=E.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof we=="string"&&we.charAt(0)!=="#"){var et=new z8(we);if(et.ok)we=et.toHex();else if(!/^\d*\.?\d*$/.test(we))throw new Error('Invalid color "'+we+'" passed to jsPDF.encodeColorString.')}if(typeof we=="string"&&/^#[0-9A-Fa-f]{3}$/.test(we)&&(we="#"+we[1]+we[1]+we[2]+we[2]+we[3]+we[3]),typeof we=="string"&&/^#[0-9A-Fa-f]{6}$/.test(we)){var ht=parseInt(we.substr(1),16);we=ht>>16&255,_e=ht>>8&255,Te=255&ht}if(_e===void 0||Me===void 0&&we===_e&&_e===Te)if(typeof we=="string")Q=we+" "+$e[0];else switch(E.precision){case 2:Q=se(we/255)+" "+$e[0];break;case 3:default:Q=z(we/255)+" "+$e[0]}else if(Me===void 0||nr(Me)==="object"){if(Me&&!isNaN(Me.a)&&Me.a===0)return Q=["1.","1.","1.",$e[1]].join(" ");if(typeof we=="string")Q=[we,_e,Te,$e[1]].join(" ");else switch(E.precision){case 2:Q=[se(we/255),se(_e/255),se(Te/255),$e[1]].join(" ");break;default:case 3:Q=[z(we/255),z(_e/255),z(Te/255),$e[1]].join(" ")}}else if(typeof we=="string")Q=[we,_e,Te,Me,$e[2]].join(" ");else switch(E.precision){case 2:Q=[se(we),se(_e),se(Te),se(Me),$e[2]].join(" ");break;case 3:default:Q=[z(we),z(_e),z(Te),z(Me),$e[2]].join(" ")}return Q},Xa=d.__private__.getFilters=function(){return a},Ps=d.__private__.putStream=function(E){var Q=(E=E||{}).data||"",we=E.filters||Xa(),_e=E.alreadyAppliedFilters||[],Te=E.addLength1||!1,Me=Q.length,$e=E.objectId,et=function(Kn){return Kn};if(h!==null&&$e===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");h!==null&&(et=Vn.encryptor($e,0));var ht={};we===!0&&(we=["FlateEncode"]);var kt=E.additionalKeyValues||[],Nt=(ht=yt.API.processDataByFilters!==void 0?yt.API.processDataByFilters(Q,we):{data:Q,reverseChain:[]}).reverseChain+(Array.isArray(_e)?_e.join(" "):_e.toString());if(ht.data.length!==0&&(kt.push({key:"Length",value:ht.data.length}),Te===!0&&kt.push({key:"Length1",value:Me})),Nt.length!=0)if(Nt.split("/").length-1==1)kt.push({key:"Filter",value:Nt});else{kt.push({key:"Filter",value:"["+Nt+"]"});for(var zt=0;zt<kt.length;zt+=1)if(kt[zt].key==="DecodeParms"){for(var jr=[],Or=0;Or<ht.reverseChain.split("/").length-1;Or+=1)jr.push("null");jr.push(kt[zt].value),kt[zt].value="["+jr.join(" ")+"]"}}P("<<");for(var an=0;an<kt.length;an++)P("/"+kt[an].key+" "+kt[an].value);P(">>"),ht.data.length!==0&&(P("stream"),P(et(ht.data)),P("endstream"))},Ya=d.__private__.putPage=function(E){var Q=E.number,we=E.data,_e=E.objId,Te=E.contentsObjId;rs(_e,!0),P("<</Type /Page"),P("/Parent "+E.rootDictionaryObjId+" 0 R"),P("/Resources "+E.resourceDictionaryObjId+" 0 R"),P("/MediaBox ["+parseFloat(H(E.mediaBox.bottomLeftX))+" "+parseFloat(H(E.mediaBox.bottomLeftY))+" "+H(E.mediaBox.topRightX)+" "+H(E.mediaBox.topRightY)+"]"),E.cropBox!==null&&P("/CropBox ["+H(E.cropBox.bottomLeftX)+" "+H(E.cropBox.bottomLeftY)+" "+H(E.cropBox.topRightX)+" "+H(E.cropBox.topRightY)+"]"),E.bleedBox!==null&&P("/BleedBox ["+H(E.bleedBox.bottomLeftX)+" "+H(E.bleedBox.bottomLeftY)+" "+H(E.bleedBox.topRightX)+" "+H(E.bleedBox.topRightY)+"]"),E.trimBox!==null&&P("/TrimBox ["+H(E.trimBox.bottomLeftX)+" "+H(E.trimBox.bottomLeftY)+" "+H(E.trimBox.topRightX)+" "+H(E.trimBox.topRightY)+"]"),E.artBox!==null&&P("/ArtBox ["+H(E.artBox.bottomLeftX)+" "+H(E.artBox.bottomLeftY)+" "+H(E.artBox.topRightX)+" "+H(E.artBox.topRightY)+"]"),typeof E.userUnit=="number"&&E.userUnit!==1&&P("/UserUnit "+E.userUnit),Qt.publish("putPage",{objId:_e,pageContext:St[Q],pageNumber:Q,page:we}),P("/Contents "+Te+" 0 R"),P(">>"),P("endobj");var Me=we.join(`
`);return A===w.ADVANCED&&(Me+=`
Q`),rs(Te,!0),Ps({data:Me,filters:Xa(),objectId:Te}),P("endobj"),_e},Su=d.__private__.putPages=function(){var E,Q,we=[];for(E=1;E<=cr;E++)St[E].objId=sn(),St[E].contentsObjId=sn();for(E=1;E<=cr;E++)we.push(Ya({number:E,data:X[E],objId:St[E].objId,contentsObjId:St[E].contentsObjId,mediaBox:St[E].mediaBox,cropBox:St[E].cropBox,bleedBox:St[E].bleedBox,trimBox:St[E].trimBox,artBox:St[E].artBox,userUnit:St[E].userUnit,rootDictionaryObjId:Mo,resourceDictionaryObjId:aa}));rs(Mo,!0),P("<</Type /Pages");var _e="/Kids [";for(Q=0;Q<cr;Q++)_e+=we[Q]+" 0 R ";P(_e+"]"),P("/Count "+cr),P(">>"),P("endobj"),Qt.publish("postPutPages")},Sd=function(E){Qt.publish("putFont",{font:E,out:P,newObject:fn,putStream:Ps}),E.isAlreadyPutted!==!0&&(E.objectNumber=fn(),P("<<"),P("/Type /Font"),P("/BaseFont /"+ff(E.postScriptName)),P("/Subtype /Type1"),typeof E.encoding=="string"&&P("/Encoding /"+E.encoding),P("/FirstChar 32"),P("/LastChar 255"),P(">>"),P("endobj"))},Nd=function(){for(var E in Vt)Vt.hasOwnProperty(E)&&(f===!1||f===!0&&p.hasOwnProperty(E))&&Sd(Vt[E])},Ed=function(E){E.objectNumber=fn();var Q=[];Q.push({key:"Type",value:"/XObject"}),Q.push({key:"Subtype",value:"/Form"}),Q.push({key:"BBox",value:"["+[H(E.x),H(E.y),H(E.x+E.width),H(E.y+E.height)].join(" ")+"]"}),Q.push({key:"Matrix",value:"["+E.matrix.toString()+"]"});var we=E.pages[1].join(`
`);Ps({data:we,additionalKeyValues:Q,objectId:E.objectNumber}),P("endobj")},kd=function(){for(var E in Rn)Rn.hasOwnProperty(E)&&Ed(Rn[E])},uy=function(E,Q){var we,_e=[],Te=1/(Q-1);for(we=0;we<1;we+=Te)_e.push(we);if(_e.push(1),E[0].offset!=0){var Me={offset:0,color:E[0].color};E.unshift(Me)}if(E[E.length-1].offset!=1){var $e={offset:1,color:E[E.length-1].color};E.push($e)}for(var et="",ht=0,kt=0;kt<_e.length;kt++){for(we=_e[kt];we>E[ht+1].offset;)ht++;var Nt=E[ht].offset,zt=(we-Nt)/(E[ht+1].offset-Nt),jr=E[ht].color,Or=E[ht+1].color;et+=ae(Math.round((1-zt)*jr[0]+zt*Or[0]).toString(16))+ae(Math.round((1-zt)*jr[1]+zt*Or[1]).toString(16))+ae(Math.round((1-zt)*jr[2]+zt*Or[2]).toString(16))}return et.trim()},vb=function(E,Q){Q||(Q=21);var we=fn(),_e=uy(E.colors,Q),Te=[];Te.push({key:"FunctionType",value:"0"}),Te.push({key:"Domain",value:"[0.0 1.0]"}),Te.push({key:"Size",value:"["+Q+"]"}),Te.push({key:"BitsPerSample",value:"8"}),Te.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Te.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ps({data:_e,additionalKeyValues:Te,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:we}),P("endobj"),E.objectNumber=fn(),P("<< /ShadingType "+E.type),P("/ColorSpace /DeviceRGB");var Me="/Coords ["+H(parseFloat(E.coords[0]))+" "+H(parseFloat(E.coords[1]))+" ";E.type===2?Me+=H(parseFloat(E.coords[2]))+" "+H(parseFloat(E.coords[3])):Me+=H(parseFloat(E.coords[2]))+" "+H(parseFloat(E.coords[3]))+" "+H(parseFloat(E.coords[4]))+" "+H(parseFloat(E.coords[5])),P(Me+="]"),E.matrix&&P("/Matrix ["+E.matrix.toString()+"]"),P("/Function "+we+" 0 R"),P("/Extend [true true]"),P(">>"),P("endobj")},xb=function(E,Q){var we=sn(),_e=fn();Q.push({resourcesOid:we,objectOid:_e}),E.objectNumber=_e;var Te=[];Te.push({key:"Type",value:"/Pattern"}),Te.push({key:"PatternType",value:"1"}),Te.push({key:"PaintType",value:"1"}),Te.push({key:"TilingType",value:"1"}),Te.push({key:"BBox",value:"["+E.boundingBox.map(H).join(" ")+"]"}),Te.push({key:"XStep",value:H(E.xStep)}),Te.push({key:"YStep",value:H(E.yStep)}),Te.push({key:"Resources",value:we+" 0 R"}),E.matrix&&Te.push({key:"Matrix",value:"["+E.matrix.toString()+"]"}),Ps({data:E.stream,additionalKeyValues:Te,objectId:E.objectNumber}),P("endobj")},Cd=function(E){var Q;for(Q in $t)$t.hasOwnProperty(Q)&&($t[Q]instanceof qu?vb($t[Q]):$t[Q]instanceof Ef&&xb($t[Q],E))},hy=function(E){for(var Q in E.objectNumber=fn(),P("<<"),E)switch(Q){case"opacity":P("/ca "+se(E[Q]));break;case"stroke-opacity":P("/CA "+se(E[Q]))}P(">>"),P("endobj")},wb=function(){var E;for(E in Sr)Sr.hasOwnProperty(E)&&hy(Sr[E])},km=function(){for(var E in P("/XObject <<"),Rn)Rn.hasOwnProperty(E)&&Rn[E].objectNumber>=0&&P("/"+E+" "+Rn[E].objectNumber+" 0 R");Qt.publish("putXobjectDict"),P(">>")},bb=function(){Vn.oid=fn(),P("<<"),P("/Filter /Standard"),P("/V "+Vn.v),P("/R "+Vn.r),P("/U <"+Vn.toHexString(Vn.U)+">"),P("/O <"+Vn.toHexString(Vn.O)+">"),P("/P "+Vn.P),P(">>"),P("endobj")},dy=function(){for(var E in P("/Font <<"),Vt)Vt.hasOwnProperty(E)&&(f===!1||f===!0&&p.hasOwnProperty(E))&&P("/"+E+" "+Vt[E].objectNumber+" 0 R");P(">>")},Ab=function(){if(Object.keys($t).length>0){for(var E in P("/Shading <<"),$t)$t.hasOwnProperty(E)&&$t[E]instanceof qu&&$t[E].objectNumber>=0&&P("/"+E+" "+$t[E].objectNumber+" 0 R");Qt.publish("putShadingPatternDict"),P(">>")}},Td=function(E){if(Object.keys($t).length>0){for(var Q in P("/Pattern <<"),$t)$t.hasOwnProperty(Q)&&$t[Q]instanceof d.TilingPattern&&$t[Q].objectNumber>=0&&$t[Q].objectNumber<E&&P("/"+Q+" "+$t[Q].objectNumber+" 0 R");Qt.publish("putTilingPatternDict"),P(">>")}},_b=function(){if(Object.keys(Sr).length>0){var E;for(E in P("/ExtGState <<"),Sr)Sr.hasOwnProperty(E)&&Sr[E].objectNumber>=0&&P("/"+E+" "+Sr[E].objectNumber+" 0 R");Qt.publish("putGStateDict"),P(">>")}},Wr=function(E){rs(E.resourcesOid,!0),P("<<"),P("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),dy(),Ab(),Td(E.objectOid),_b(),km(),P(">>"),P("endobj")},fy=function(){var E=[];Nd(),wb(),kd(),Cd(E),Qt.publish("putResources"),E.forEach(Wr),Wr({resourcesOid:aa,objectOid:Number.MAX_SAFE_INTEGER}),Qt.publish("postPutResources")},py=function(){Qt.publish("putAdditionalObjects");for(var E=0;E<ue.length;E++){var Q=ue[E];rs(Q.objId,!0),P(Q.content),P("endobj")}Qt.publish("postPutAdditionalObjects")},my=function(E){Ut[E.fontName]=Ut[E.fontName]||{},Ut[E.fontName][E.fontStyle]=E.id},Cm=function(E,Q,we,_e,Te){var Me={id:"F"+(Object.keys(Vt).length+1).toString(10),postScriptName:E,fontName:Q,fontStyle:we,encoding:_e,isStandardFont:Te||!1,metadata:{}};return Qt.publish("addFont",{font:Me,instance:this}),Vt[Me.id]=Me,my(Me),Me.id},Sb=function(E){for(var Q=0,we=F.length;Q<we;Q++){var _e=Cm.call(this,E[Q][0],E[Q][1],E[Q][2],F[Q][3],!0);f===!1&&(p[_e]=!0);var Te=E[Q][0].split("-");my({id:_e,fontName:Te[0],fontStyle:Te[1]||""})}Qt.publish("addFonts",{fonts:Vt,dictionary:Ut})},ca=function(E){return E.foo=function(){try{return E.apply(this,arguments)}catch(_e){var Q=_e.stack||"";~Q.indexOf(" at ")&&(Q=Q.split(" at ")[1]);var we="Error in function "+Q.split(`
`)[0].split("<")[0]+": "+_e.message;if(!vt.console)throw new Error(we);vt.console.error(we,_e),vt.alert&&alert(we)}},E.foo.bar=E,E.foo},jd=function(E,Q){var we,_e,Te,Me,$e,et,ht,kt,Nt;if(Te=(Q=Q||{}).sourceEncoding||"Unicode",$e=Q.outputEncoding,(Q.autoencode||$e)&&Vt[wt].metadata&&Vt[wt].metadata[Te]&&Vt[wt].metadata[Te].encoding&&(Me=Vt[wt].metadata[Te].encoding,!$e&&Vt[wt].encoding&&($e=Vt[wt].encoding),!$e&&Me.codePages&&($e=Me.codePages[0]),typeof $e=="string"&&($e=Me[$e]),$e)){for(ht=!1,et=[],we=0,_e=E.length;we<_e;we++)(kt=$e[E.charCodeAt(we)])?et.push(String.fromCharCode(kt)):et.push(E[we]),et[we].charCodeAt(0)>>8&&(ht=!0);E=et.join("")}for(we=E.length;ht===void 0&&we!==0;)E.charCodeAt(we-1)>>8&&(ht=!0),we--;if(!ht)return E;for(et=Q.noBOM?[]:[254,255],we=0,_e=E.length;we<_e;we++){if((Nt=(kt=E.charCodeAt(we))>>8)>>8)throw new Error("Character at position "+we+" of string '"+E+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");et.push(Nt),et.push(kt-(Nt<<8))}return String.fromCharCode.apply(void 0,et)},Fi=d.__private__.pdfEscape=d.pdfEscape=function(E,Q){return jd(E,Q).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tm=d.__private__.beginPage=function(E){X[++cr]=[],St[cr]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(E[0]),topRightY:Number(E[1])}},yy(cr),ve(X[B])},gy=function(E,Q){var we,_e,Te;switch(t=Q||t,typeof E=="string"&&(we=y(E.toLowerCase()),Array.isArray(we)&&(_e=we[0],Te=we[1])),Array.isArray(E)&&(_e=E[0]*Xe,Te=E[1]*Xe),isNaN(_e)&&(_e=i[0],Te=i[1]),(_e>14400||Te>14400)&&(dr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),_e=Math.min(14400,_e),Te=Math.min(14400,Te)),i=[_e,Te],t.substr(0,1)){case"l":Te>_e&&(i=[Te,_e]);break;case"p":_e>Te&&(i=[Te,_e])}Tm(i),_y(Im),P(ua),Fm!==0&&P(Fm+" J"),Dm!==0&&P(Dm+" j"),Qt.publish("addPage",{pageNumber:cr})},Nb=function(E){E>0&&E<=cr&&(X.splice(E,1),St.splice(E,1),cr--,B>cr&&(B=cr),this.setPage(B))},yy=function(E){E>0&&E<=cr&&(B=E)},Eb=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return X.length-1},vy=function(E,Q,we){var _e,Te=void 0;return we=we||{},E=E!==void 0?E:Vt[wt].fontName,Q=Q!==void 0?Q:Vt[wt].fontStyle,_e=E.toLowerCase(),Ut[_e]!==void 0&&Ut[_e][Q]!==void 0?Te=Ut[_e][Q]:Ut[E]!==void 0&&Ut[E][Q]!==void 0?Te=Ut[E][Q]:we.disableWarning===!1&&dr.warn("Unable to look up font label for font '"+E+"', '"+Q+"'. Refer to getFontList() for available fonts."),Te||we.noFallback||(Te=Ut.times[Q])==null&&(Te=Ut.times.normal),Te},kb=d.__private__.putInfo=function(){var E=fn(),Q=function(_e){return _e};for(var we in h!==null&&(Q=Vn.encryptor(E,0)),P("<<"),P("/Producer ("+Fi(Q("jsPDF "+yt.version))+")"),lt)lt.hasOwnProperty(we)&&lt[we]&&P("/"+we.substr(0,1).toUpperCase()+we.substr(1)+" ("+Fi(Q(lt[we]))+")");P("/CreationDate ("+Fi(Q(K))+")"),P(">>"),P("endobj")},jm=d.__private__.putCatalog=function(E){var Q=(E=E||{}).rootDictionaryObjId||Mo;switch(fn(),P("<<"),P("/Type /Catalog"),P("/Pages "+Q+" 0 R"),xe||(xe="fullwidth"),xe){case"fullwidth":P("/OpenAction [3 0 R /FitH null]");break;case"fullheight":P("/OpenAction [3 0 R /FitV null]");break;case"fullpage":P("/OpenAction [3 0 R /Fit]");break;case"original":P("/OpenAction [3 0 R /XYZ null null 1]");break;default:var we=""+xe;we.substr(we.length-1)==="%"&&(xe=parseInt(xe)/100),typeof xe=="number"&&P("/OpenAction [3 0 R /XYZ null null "+se(xe)+"]")}switch(Ue||(Ue="continuous"),Ue){case"continuous":P("/PageLayout /OneColumn");break;case"single":P("/PageLayout /SinglePage");break;case"two":case"twoleft":P("/PageLayout /TwoColumnLeft");break;case"tworight":P("/PageLayout /TwoColumnRight")}Re&&P("/PageMode /"+Re),Qt.publish("putCatalog"),P(">>"),P("endobj")},Cb=d.__private__.putTrailer=function(){P("trailer"),P("<<"),P("/Size "+(J+1)),P("/Root "+J+" 0 R"),P("/Info "+(J-1)+" 0 R"),h!==null&&P("/Encrypt "+Vn.oid+" 0 R"),P("/ID [ <"+he+"> <"+he+"> ]"),P(">>")},Tb=d.__private__.putHeader=function(){P("%PDF-"+x),P("%ºß¬à")},jb=d.__private__.putXRef=function(){var E="0000000000";P("xref"),P("0 "+(J+1)),P("0000000000 65535 f ");for(var Q=1;Q<=J;Q++)typeof L[Q]=="function"?P((E+L[Q]()).slice(-10)+" 00000 n "):L[Q]!==void 0?P((E+L[Q]).slice(-10)+" 00000 n "):P("0000000000 00000 n ")},Oo=d.__private__.buildDocument=function(){O(),ve(I),Qt.publish("buildDocument"),Tb(),Su(),py(),fy(),h!==null&&bb(),kb(),jm();var E=ne;return jb(),Cb(),P("startxref"),P(""+E),P("%%EOF"),ve(X[B]),I.join(`
`)},Pd=d.__private__.getBlob=function(E){return new Blob([N(E)],{type:"application/pdf"})},Ld=d.output=d.__private__.output=ca(function(E,Q){switch(typeof(Q=Q||{})=="string"?Q={filename:Q}:Q.filename=Q.filename||"generated.pdf",E){case void 0:return Oo();case"save":d.save(Q.filename);break;case"arraybuffer":return N(Oo());case"blob":return Pd(Oo());case"bloburi":case"bloburl":if(vt.URL!==void 0&&typeof vt.URL.createObjectURL=="function")return vt.URL&&vt.URL.createObjectURL(Pd(Oo()))||void 0;dr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var we="",_e=Oo();try{we=cS(_e)}catch{we=cS(unescape(encodeURIComponent(_e)))}return"data:application/pdf;filename="+Q.filename+";base64,"+we;case"pdfobjectnewwindow":if(Object.prototype.toString.call(vt)==="[object Window]"){var Te="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Me=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Q.pdfObjectUrl&&(Te=Q.pdfObjectUrl,Me="");var $e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Te+'"'+Me+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Q)+");<\/script></body></html>",et=vt.open();return et!==null&&et.document.write($e),et}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(vt)==="[object Window]"){var ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Q.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Q.filename+'" width="500px" height="400px" /></body></html>',kt=vt.open();if(kt!==null){kt.document.write(ht);var Nt=this;kt.document.documentElement.querySelector("#pdfViewer").onload=function(){kt.document.title=Q.filename,kt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Nt.output("bloburl"))}}return kt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(vt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Q)+'"></iframe></body></html>',jr=vt.open();if(jr!==null&&(jr.document.write(zt),jr.document.title=Q.filename),jr||typeof safari>"u")return jr;break;case"datauri":case"dataurl":return vt.document.location.href=this.output("datauristring",Q);default:return null}}),xy=function(E){return Array.isArray(_u)===!0&&_u.indexOf(E)>-1};switch(n){case"pt":Xe=1;break;case"mm":Xe=72/25.4;break;case"cm":Xe=72/2.54;break;case"in":Xe=72;break;case"px":Xe=xy("px_scaling")==1?.75:96/72;break;case"pc":case"em":Xe=12;break;case"ex":Xe=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Xe=n}var Vn=null;ge(),me();var Pb=function(E){return h!==null?Vn.encryptor(E,0):function(Q){return Q}},wy=d.__private__.getPageInfo=d.getPageInfo=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:St[E].objId,pageNumber:E,pageContext:St[E]}},_t=d.__private__.getPageInfoByObjId=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Q in St)if(St[Q].objId===E)break;return wy(Q)},Lb=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:St[B].objId,pageNumber:B,pageContext:St[B]}};d.addPage=function(){return gy.apply(this,arguments),this},d.setPage=function(){return yy.apply(this,arguments),ve.call(this,X[B]),this},d.insertPage=function(E){return this.addPage(),this.movePage(B,E),this},d.movePage=function(E,Q){var we,_e;if(E>Q){we=X[E],_e=St[E];for(var Te=E;Te>Q;Te--)X[Te]=X[Te-1],St[Te]=St[Te-1];X[Q]=we,St[Q]=_e,this.setPage(Q)}else if(E<Q){we=X[E],_e=St[E];for(var Me=E;Me<Q;Me++)X[Me]=X[Me+1],St[Me]=St[Me+1];X[Q]=we,St[Q]=_e,this.setPage(Q)}return this},d.deletePage=function(){return Nb.apply(this,arguments),this},d.__private__.text=d.text=function(E,Q,we,_e,Te){var Me,$e,et,ht,kt,Nt,zt,jr,Or,an=(_e=_e||{}).scope||this;if(typeof E=="number"&&typeof Q=="number"&&(typeof we=="string"||Array.isArray(we))){var Kn=we;we=Q,Q=E,E=Kn}if(arguments[3]instanceof gt?(q("The transform parameter of text() with a Matrix value"),Or=Te):(et=arguments[4],ht=arguments[5],nr(zt=arguments[3])==="object"&&zt!==null||(typeof et=="string"&&(ht=et,et=null),typeof zt=="string"&&(ht=zt,zt=null),typeof zt=="number"&&(et=zt,zt=null),_e={flags:zt,angle:et,align:ht})),isNaN(Q)||isNaN(we)||E==null)throw new Error("Invalid arguments passed to jsPDF.text");if(E.length===0)return an;var An="",ha=!1,ns=typeof _e.lineHeightFactor=="number"?_e.lineHeightFactor:Eu,Za=an.internal.scaleFactor;function Ty(pr){return pr=pr.split("	").join(Array(_e.TabLen||9).join(" ")),Fi(pr,zt)}function zm(pr){for(var mr,Gr=pr.concat(),pn=[],qo=Gr.length;qo--;)typeof(mr=Gr.shift())=="string"?pn.push(mr):Array.isArray(pr)&&(mr.length===1||mr[1]===void 0&&mr[2]===void 0)?pn.push(mr[0]):pn.push([mr[0],mr[1],mr[2]]);return pn}function Hm(pr,mr){var Gr;if(typeof pr=="string")Gr=mr(pr)[0];else if(Array.isArray(pr)){for(var pn,qo,Ym=pr.concat(),Vd=[],Ry=Ym.length;Ry--;)typeof(pn=Ym.shift())=="string"?Vd.push(mr(pn)[0]):Array.isArray(pn)&&typeof pn[0]=="string"&&(qo=mr(pn[0],pn[1],pn[2]),Vd.push([qo[0],qo[1],qo[2]]));Gr=Vd}return Gr}var Od=!1,qm=!0;if(typeof E=="string")Od=!0;else if(Array.isArray(E)){var Wm=E.concat();$e=[];for(var Bd,Fn=Wm.length;Fn--;)(typeof(Bd=Wm.shift())!="string"||Array.isArray(Bd)&&typeof Bd[0]!="string")&&(qm=!1);Od=qm}if(Od===!1)throw new Error('Type of text must be string or Array. "'+E+'" is not recognized.');typeof E=="string"&&(E=E.match(/[\r?\n]/)?E.split(/\r\n|\r|\n/g):[E]);var Ud=oe/an.internal.scaleFactor,zd=Ud*(ns-1);switch(_e.baseline){case"bottom":we-=zd;break;case"top":we+=Ud-zd;break;case"hanging":we+=Ud-2*zd;break;case"middle":we+=Ud/2-zd}if((Nt=_e.maxWidth||0)>0&&(typeof E=="string"?E=an.splitTextToSize(E,Nt):Object.prototype.toString.call(E)==="[object Array]"&&(E=E.reduce(function(pr,mr){return pr.concat(an.splitTextToSize(mr,Nt))},[]))),Me={text:E,x:Q,y:we,options:_e,mutex:{pdfEscape:Fi,activeFontKey:wt,fonts:Vt,activeFontSize:oe}},Qt.publish("preProcessText",Me),E=Me.text,et=(_e=Me.options).angle,!(Or instanceof gt)&&et&&typeof et=="number"){et*=Math.PI/180,_e.rotationDirection===0&&(et=-et),A===w.ADVANCED&&(et=-et);var Hd=Math.cos(et),$m=Math.sin(et);Or=new gt(Hd,$m,-$m,Hd,0,0)}else et&&et instanceof gt&&(Or=et);A!==w.ADVANCED||Or||(Or=Ka),(kt=_e.charSpace||Fd)!==void 0&&(An+=H(R(kt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(jr=_e.horizontalScale)!==void 0&&(An+=H(100*jr)+` Tz
`),_e.lang;var Di=-1,Hb=_e.renderingMode!==void 0?_e.renderingMode:_e.stroke,Gm=an.internal.getCurrentPageInfo().pageContext;switch(Hb){case 0:case!1:case"fill":Di=0;break;case 1:case!0:case"stroke":Di=1;break;case 2:case"fillThenStroke":Di=2;break;case 3:case"invisible":Di=3;break;case 4:case"fillAndAddForClipping":Di=4;break;case 5:case"strokeAndAddPathForClipping":Di=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Di=6;break;case 7:case"addToPathForClipping":Di=7}var jy=Gm.usedRenderingMode!==void 0?Gm.usedRenderingMode:-1;Di!==-1?An+=Di+` Tr
`:jy!==-1&&(An+=`0 Tr
`),Di!==-1&&(Gm.usedRenderingMode=Di),ht=_e.align||"left";var Ls,qd=oe*ns,Py=an.internal.pageSize.getWidth(),Ly=Vt[wt];kt=_e.charSpace||Fd,Nt=_e.maxWidth||0,zt=Object.assign({autoencode:!0,noBOM:!0},_e.flags);var Xl=[],Tu=function(pr){return an.getStringUnitWidth(pr,{font:Ly,charSpace:kt,fontSize:oe,doKerning:!1})*oe/Za};if(Object.prototype.toString.call(E)==="[object Array]"){var Mi;$e=zm(E),ht!=="left"&&(Ls=$e.map(Tu));var yi,Yl=0;if(ht==="right"){Q-=Ls[0],E=[],Fn=$e.length;for(var Uo=0;Uo<Fn;Uo++)Uo===0?(yi=Ja(Q),Mi=Bo(we)):(yi=R(Yl-Ls[Uo]),Mi=-qd),E.push([$e[Uo],yi,Mi]),Yl=Ls[Uo]}else if(ht==="center"){Q-=Ls[0]/2,E=[],Fn=$e.length;for(var zo=0;zo<Fn;zo++)zo===0?(yi=Ja(Q),Mi=Bo(we)):(yi=R((Yl-Ls[zo])/2),Mi=-qd),E.push([$e[zo],yi,Mi]),Yl=Ls[zo]}else if(ht==="left"){E=[],Fn=$e.length;for(var Wd=0;Wd<Fn;Wd++)E.push($e[Wd])}else if(ht==="justify"&&Ly.encoding==="Identity-H"){E=[],Fn=$e.length,Nt=Nt!==0?Nt:Py;for(var Ho=0,$r=0;$r<Fn;$r++)if(Mi=$r===0?Bo(we):-qd,yi=$r===0?Ja(Q):Ho,$r<Fn-1){var Vm=R((Nt-Ls[$r])/($e[$r].split(" ").length-1)),vi=$e[$r].split(" ");E.push([vi[0]+" ",yi,Mi]),Ho=0;for(var Is=1;Is<vi.length;Is++){var $d=(Tu(vi[Is-1]+" "+vi[Is])-Tu(vi[Is]))*Za+Vm;Is==vi.length-1?E.push([vi[Is],$d,0]):E.push([vi[Is]+" ",$d,0]),Ho-=$d}}else E.push([$e[$r],yi,Mi]);E.push(["",Ho,0])}else{if(ht!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(E=[],Fn=$e.length,Nt=Nt!==0?Nt:Py,$r=0;$r<Fn;$r++)Mi=$r===0?Bo(we):-qd,yi=$r===0?Ja(Q):0,$r<Fn-1?Xl.push(H(R((Nt-Ls[$r])/($e[$r].split(" ").length-1)))):Xl.push(0),E.push([$e[$r],yi,Mi])}}var Iy=typeof _e.R2L=="boolean"?_e.R2L:Ce;Iy===!0&&(E=Hm(E,function(pr,mr,Gr){return[pr.split("").reverse().join(""),mr,Gr]})),Me={text:E,x:Q,y:we,options:_e,mutex:{pdfEscape:Fi,activeFontKey:wt,fonts:Vt,activeFontSize:oe}},Qt.publish("postProcessText",Me),E=Me.text,ha=Me.mutex.isHex||!1;var Km=Vt[wt].encoding;Km!=="WinAnsiEncoding"&&Km!=="StandardEncoding"||(E=Hm(E,function(pr,mr,Gr){return[Ty(pr),mr,Gr]})),$e=zm(E),E=[];for(var ju,Pu,Ql,Lu=0,Gd=1,Iu=Array.isArray($e[0])?Gd:Lu,Jl="",Xm=function(pr,mr,Gr){var pn="";return Gr instanceof gt?(Gr=typeof _e.angle=="number"?sa(Gr,new gt(1,0,0,1,pr,mr)):sa(new gt(1,0,0,1,pr,mr),Gr),A===w.ADVANCED&&(Gr=sa(new gt(1,0,0,-1,0,0),Gr)),pn=Gr.join(" ")+` Tm
`):pn=H(pr)+" "+H(mr)+` Td
`,pn},Rs=0;Rs<$e.length;Rs++){switch(Jl="",Iu){case Gd:Ql=(ha?"<":"(")+$e[Rs][0]+(ha?">":")"),ju=parseFloat($e[Rs][1]),Pu=parseFloat($e[Rs][2]);break;case Lu:Ql=(ha?"<":"(")+$e[Rs]+(ha?">":")"),ju=Ja(Q),Pu=Bo(we)}Xl!==void 0&&Xl[Rs]!==void 0&&(Jl=Xl[Rs]+` Tw
`),Rs===0?E.push(Jl+Xm(ju,Pu,Or)+Ql):Iu===Lu?E.push(Jl+Ql):Iu===Gd&&E.push(Jl+Xm(ju,Pu,Or)+Ql)}E=Iu===Lu?E.join(` Tj
T* `):E.join(` Tj
`),E+=` Tj
`;var Fs=`BT
/`;return Fs+=wt+" "+oe+` Tf
`,Fs+=H(oe*ns)+` TL
`,Fs+=ku+`
`,Fs+=An,Fs+=E,P(Fs+="ET"),p[wt]=!0,an};var Ib=d.__private__.clip=d.clip=function(E){return P(E==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return Ib("evenodd")},d.__private__.discardPath=d.discardPath=function(){return P("n"),this};var Qa=d.__private__.isValidStyle=function(E){var Q=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(E)!==-1&&(Q=!0),Q};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(E){return Qa(E)&&(u=E),this};var by=d.__private__.getStyle=d.getStyle=function(E){var Q=u;switch(E){case"D":case"S":Q="S";break;case"F":Q="f";break;case"FD":case"DF":Q="B";break;case"f":case"f*":case"B":case"B*":Q=E}return Q},Ay=d.close=function(){return P("h"),this};d.stroke=function(){return P("S"),this},d.fill=function(E){return Id("f",E),this},d.fillEvenOdd=function(E){return Id("f*",E),this},d.fillStroke=function(E){return Id("B",E),this},d.fillStrokeEvenOdd=function(E){return Id("B*",E),this};var Id=function(E,Q){nr(Q)==="object"?Fb(Q,E):P(E)},Pm=function(E){E===null||A===w.ADVANCED&&E===void 0||(E=by(E),P(E))};function Rb(E,Q,we,_e,Te){var Me=new Ef(Q||this.boundingBox,we||this.xStep,_e||this.yStep,this.gState,Te||this.matrix);Me.stream=this.stream;var $e=E+"$$"+this.cloneIndex+++"$$";return Ri($e,Me),Me}var Fb=function(E,Q){var we=Do[E.key],_e=$t[we];if(_e instanceof qu)P("q"),P(Db(Q)),_e.gState&&d.setGState(_e.gState),P(E.matrix.toString()+" cm"),P("/"+we+" sh"),P("Q");else if(_e instanceof Ef){var Te=new gt(1,0,0,-1,0,Kl());E.matrix&&(Te=Te.multiply(E.matrix||Ka),we=Rb.call(_e,E.key,E.boundingBox,E.xStep,E.yStep,Te).id),P("q"),P("/Pattern cs"),P("/"+we+" scn"),_e.gState&&d.setGState(_e.gState),P(Q),P("Q")}},Db=function(E){switch(E){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Lm=d.moveTo=function(E,Q){return P(H(R(E))+" "+H(T(Q))+" m"),this},Nu=d.lineTo=function(E,Q){return P(H(R(E))+" "+H(T(Q))+" l"),this},Gl=d.curveTo=function(E,Q,we,_e,Te,Me){return P([H(R(E)),H(T(Q)),H(R(we)),H(T(_e)),H(R(Te)),H(T(Me)),"c"].join(" ")),this};d.__private__.line=d.line=function(E,Q,we,_e,Te){if(isNaN(E)||isNaN(Q)||isNaN(we)||isNaN(_e)||!Qa(Te))throw new Error("Invalid arguments passed to jsPDF.line");return A===w.COMPAT?this.lines([[we-E,_e-Q]],E,Q,[1,1],Te||"S"):this.lines([[we-E,_e-Q]],E,Q,[1,1]).stroke()},d.__private__.lines=d.lines=function(E,Q,we,_e,Te,Me){var $e,et,ht,kt,Nt,zt,jr,Or,an,Kn,An,ha;if(typeof E=="number"&&(ha=we,we=Q,Q=E,E=ha),_e=_e||[1,1],Me=Me||!1,isNaN(Q)||isNaN(we)||!Array.isArray(E)||!Array.isArray(_e)||!Qa(Te)||typeof Me!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Lm(Q,we),$e=_e[0],et=_e[1],kt=E.length,Kn=Q,An=we,ht=0;ht<kt;ht++)(Nt=E[ht]).length===2?(Kn=Nt[0]*$e+Kn,An=Nt[1]*et+An,Nu(Kn,An)):(zt=Nt[0]*$e+Kn,jr=Nt[1]*et+An,Or=Nt[2]*$e+Kn,an=Nt[3]*et+An,Kn=Nt[4]*$e+Kn,An=Nt[5]*et+An,Gl(zt,jr,Or,an,Kn,An));return Me&&Ay(),Pm(Te),this},d.path=function(E){for(var Q=0;Q<E.length;Q++){var we=E[Q],_e=we.c;switch(we.op){case"m":Lm(_e[0],_e[1]);break;case"l":Nu(_e[0],_e[1]);break;case"c":Gl.apply(this,_e);break;case"h":Ay()}}return this},d.__private__.rect=d.rect=function(E,Q,we,_e,Te){if(isNaN(E)||isNaN(Q)||isNaN(we)||isNaN(_e)||!Qa(Te))throw new Error("Invalid arguments passed to jsPDF.rect");return A===w.COMPAT&&(_e=-_e),P([H(R(E)),H(T(Q)),H(R(we)),H(R(_e)),"re"].join(" ")),Pm(Te),this},d.__private__.triangle=d.triangle=function(E,Q,we,_e,Te,Me,$e){if(isNaN(E)||isNaN(Q)||isNaN(we)||isNaN(_e)||isNaN(Te)||isNaN(Me)||!Qa($e))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[we-E,_e-Q],[Te-we,Me-_e],[E-Te,Q-Me]],E,Q,[1,1],$e,!0),this},d.__private__.roundedRect=d.roundedRect=function(E,Q,we,_e,Te,Me,$e){if(isNaN(E)||isNaN(Q)||isNaN(we)||isNaN(_e)||isNaN(Te)||isNaN(Me)||!Qa($e))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var et=4/3*(Math.SQRT2-1);return Te=Math.min(Te,.5*we),Me=Math.min(Me,.5*_e),this.lines([[we-2*Te,0],[Te*et,0,Te,Me-Me*et,Te,Me],[0,_e-2*Me],[0,Me*et,-Te*et,Me,-Te,Me],[2*Te-we,0],[-Te*et,0,-Te,-Me*et,-Te,-Me],[0,2*Me-_e],[0,-Me*et,Te*et,-Me,Te,-Me]],E+Te,Q,[1,1],$e,!0),this},d.__private__.ellipse=d.ellipse=function(E,Q,we,_e,Te){if(isNaN(E)||isNaN(Q)||isNaN(we)||isNaN(_e)||!Qa(Te))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Me=4/3*(Math.SQRT2-1)*we,$e=4/3*(Math.SQRT2-1)*_e;return Lm(E+we,Q),Gl(E+we,Q-$e,E+Me,Q-_e,E,Q-_e),Gl(E-Me,Q-_e,E-we,Q-$e,E-we,Q),Gl(E-we,Q+$e,E-Me,Q+_e,E,Q+_e),Gl(E+Me,Q+_e,E+we,Q+$e,E+we,Q),Pm(Te),this},d.__private__.circle=d.circle=function(E,Q,we,_e){if(isNaN(E)||isNaN(Q)||isNaN(we)||!Qa(_e))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(E,Q,we,we,_e)},d.setFont=function(E,Q,we){return we&&(Q=$(Q,we)),wt=vy(E,Q,{disableWarning:!1}),this};var Mb=d.__private__.getFont=d.getFont=function(){return Vt[vy.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var E,Q,we={};for(E in Ut)if(Ut.hasOwnProperty(E))for(Q in we[E]=[],Ut[E])Ut[E].hasOwnProperty(Q)&&we[E].push(Q);return we},d.addFont=function(E,Q,we,_e,Te){var Me=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Me.indexOf(arguments[3])!==-1?Te=arguments[3]:arguments[3]&&Me.indexOf(arguments[3])==-1&&(we=$(we,_e)),Te=Te||"Identity-H",Cm.call(this,E,Q,we,Te)};var Eu,Im=r.lineWidth||.200025,Rd=d.__private__.getLineWidth=d.getLineWidth=function(){return Im},_y=d.__private__.setLineWidth=d.setLineWidth=function(E){return Im=E,P(H(R(E))+" w"),this};d.__private__.setLineDash=yt.API.setLineDash=yt.API.setLineDashPattern=function(E,Q){if(E=E||[],Q=Q||0,isNaN(Q)||!Array.isArray(E))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return E=E.map(function(we){return H(R(we))}).join(" "),Q=H(R(Q)),P("["+E+"] "+Q+" d"),this};var Sy=d.__private__.getLineHeight=d.getLineHeight=function(){return oe*Eu};d.__private__.getLineHeight=d.getLineHeight=function(){return oe*Eu};var Ny=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(E){return typeof(E=E||1.15)=="number"&&(Eu=E),this},Ey=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return Eu};Ny(r.lineHeight);var Ja=d.__private__.getHorizontalCoordinate=function(E){return R(E)},Bo=d.__private__.getVerticalCoordinate=function(E){return A===w.ADVANCED?E:St[B].mediaBox.topRightY-St[B].mediaBox.bottomLeftY-R(E)},Ob=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(E){return H(Ja(E))},Vl=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(E){return H(Bo(E))},ua=r.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return oa(ua)},d.__private__.setStrokeColor=d.setDrawColor=function(E,Q,we,_e){return ua=la({ch1:E,ch2:Q,ch3:we,ch4:_e,pdfColorType:"draw",precision:2}),P(ua),this};var Rm=r.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return oa(Rm)},d.__private__.setFillColor=d.setFillColor=function(E,Q,we,_e){return Rm=la({ch1:E,ch2:Q,ch3:we,ch4:_e,pdfColorType:"fill",precision:2}),P(Rm),this};var ku=r.textColor||"0 g",Bb=d.__private__.getTextColor=d.getTextColor=function(){return oa(ku)};d.__private__.setTextColor=d.setTextColor=function(E,Q,we,_e){return ku=la({ch1:E,ch2:Q,ch3:we,ch4:_e,pdfColorType:"text",precision:3}),this};var Fd=r.charSpace,Ub=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(Fd||0)};d.__private__.setCharSpace=d.setCharSpace=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Fd=E,this};var Fm=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(E){var Q=d.CapJoinStyles[E];if(Q===void 0)throw new Error("Line cap style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Fm=Q,P(Q+" J"),this};var Dm=0;d.__private__.setLineJoin=d.setLineJoin=function(E){var Q=d.CapJoinStyles[E];if(Q===void 0)throw new Error("Line join style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Dm=Q,P(Q+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(E){if(E=E||0,isNaN(E))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return P(H(R(E))+" M"),this},d.GState=uw,d.setGState=function(E){(E=typeof E=="string"?Sr[Ii[E]]:ky(null,E)).equals(gi)||(P("/"+E.id+" gs"),gi=E)};var ky=function(E,Q){if(!E||!Ii[E]){var we=!1;for(var _e in Sr)if(Sr.hasOwnProperty(_e)&&Sr[_e].equals(Q)){we=!0;break}if(we)Q=Sr[_e];else{var Te="GS"+(Object.keys(Sr).length+1).toString(10);Sr[Te]=Q,Q.id=Te}return E&&(Ii[E]=Q.id),Qt.publish("addGState",Q),Q}};d.addGState=function(E,Q){return ky(E,Q),this},d.saveGraphicsState=function(){return P("q"),ts.push({key:wt,size:oe,color:ku}),this},d.restoreGraphicsState=function(){P("Q");var E=ts.pop();return wt=E.key,oe=E.size,ku=E.color,gi=null,this},d.setCurrentTransformationMatrix=function(E){return P(E.toString()+" cm"),this},d.comment=function(E){return P("#"+E),this};var Dd=function(E,Q){var we=E||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return we},set:function(Me){isNaN(Me)||(we=parseFloat(Me))}});var _e=Q||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return _e},set:function(Me){isNaN(Me)||(_e=parseFloat(Me))}});var Te="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Te},set:function(Me){Te=Me.toString()}}),this},Mm=function(E,Q,we,_e){Dd.call(this,E,Q),this.type="rect";var Te=we||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Te},set:function($e){isNaN($e)||(Te=parseFloat($e))}});var Me=_e||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Me},set:function($e){isNaN($e)||(Me=parseFloat($e))}}),this},Om=function(){this.page=cr,this.currentPage=B,this.pages=X.slice(0),this.pagesContext=St.slice(0),this.x=Mr,this.y=ft,this.matrix=Gn,this.width=Cu(B),this.height=Kl(B),this.outputDestination=Ae,this.id="",this.objectNumber=-1};Om.prototype.restore=function(){cr=this.page,B=this.currentPage,St=this.pagesContext,X=this.pages,Mr=this.x,ft=this.y,Gn=this.matrix,Bm(B,this.width),Um(B,this.height),Ae=this.outputDestination};var Cy=function(E,Q,we,_e,Te){Va.push(new Om),cr=B=0,X=[],Mr=E,ft=Q,Gn=Te,Tm([we,_e])},zb=function(E){if(Ga[E])Va.pop().restore();else{var Q=new Om,we="Xo"+(Object.keys(Rn).length+1).toString(10);Q.id=we,Ga[E]=we,Rn[we]=Q,Qt.publish("addFormObject",Q),Va.pop().restore()}};for(var Md in d.beginFormObject=function(E,Q,we,_e,Te){return Cy(E,Q,we,_e,Te),this},d.endFormObject=function(E){return zb(E),this},d.doFormObject=function(E,Q){var we=Rn[Ga[E]];return P("q"),P(Q.toString()+" cm"),P("/"+we.id+" Do"),P("Q"),this},d.getFormObject=function(E){var Q=Rn[Ga[E]];return{x:Q.x,y:Q.y,width:Q.width,height:Q.height,matrix:Q.matrix}},d.save=function(E,Q){return E=E||"generated.pdf",(Q=Q||{}).returnPromise=Q.returnPromise||!1,Q.returnPromise===!1?(Hu(Pd(Oo()),E),typeof Hu.unload=="function"&&vt.setTimeout&&setTimeout(Hu.unload,911),this):new Promise(function(we,_e){try{var Te=Hu(Pd(Oo()),E);typeof Hu.unload=="function"&&vt.setTimeout&&setTimeout(Hu.unload,911),we(Te)}catch(Me){_e(Me.message)}})},yt.API)yt.API.hasOwnProperty(Md)&&(Md==="events"&&yt.API.events.length?function(E,Q){var we,_e,Te;for(Te=Q.length-1;Te!==-1;Te--)we=Q[Te][0],_e=Q[Te][1],E.subscribe.apply(E,[we].concat(typeof _e=="function"?[_e]:_e))}(Qt,yt.API.events):d[Md]=yt.API[Md]);var Cu=d.getPageWidth=function(E){return(St[E=E||B].mediaBox.topRightX-St[E].mediaBox.bottomLeftX)/Xe},Bm=d.setPageWidth=function(E,Q){St[E].mediaBox.topRightX=Q*Xe+St[E].mediaBox.bottomLeftX},Kl=d.getPageHeight=function(E){return(St[E=E||B].mediaBox.topRightY-St[E].mediaBox.bottomLeftY)/Xe},Um=d.setPageHeight=function(E,Q){St[E].mediaBox.topRightY=Q*Xe+St[E].mediaBox.bottomLeftY};return d.internal={pdfEscape:Fi,getStyle:by,getFont:Mb,getFontSize:fe,getCharSpace:Ub,getTextColor:Bb,getLineHeight:Sy,getLineHeightFactor:Ey,getLineWidth:Rd,write:S,getHorizontalCoordinate:Ja,getVerticalCoordinate:Bo,getCoordinateString:Ob,getVerticalCoordinateString:Vl,collections:{},newObject:fn,newAdditionalObject:_d,newObjectDeferred:sn,newObjectDeferredBegin:rs,getFilters:Xa,putStream:Ps,events:Qt,scaleFactor:Xe,pageSize:{getWidth:function(){return Cu(B)},setWidth:function(E){Bm(B,E)},getHeight:function(){return Kl(B)},setHeight:function(E){Um(B,E)}},encryptionOptions:h,encryption:Vn,getEncryptor:Pb,output:Ld,getNumberOfPages:Eb,pages:X,out:P,f2:se,f3:z,getPageInfo:wy,getPageInfoByObjId:_t,getCurrentPageInfo:Lb,getPDFVersion:v,Point:Dd,Rectangle:Mm,Matrix:gt,hasHotfix:xy},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return Cu(B)},set:function(E){Bm(B,E)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return Kl(B)},set:function(E){Um(B,E)},enumerable:!0,configurable:!0}),Sb.call(d,F),wt="F1",gy(i,t),Qt.publish("initialized"),d}df.prototype.lsbFirstWord=function(r){return String.fromCharCode(r>>0&255,r>>8&255,r>>16&255,r>>24&255)},df.prototype.toHexString=function(r){return r.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},df.prototype.hexToBytes=function(r){for(var e=[],t=0;t<r.length;t+=2)e.push(String.fromCharCode(parseInt(r.substr(t,2),16)));return e.join("")},df.prototype.processOwnerPassword=function(r,e){return hS(uS(e).substr(0,5),r)},df.prototype.encryptor=function(r,e){var t=uS(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return hS(t,n)}},uw.prototype.equals=function(r){var e,t="id,objectNumber,equals";if(!r||nr(r)!==nr(this))return!1;var n=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!r.hasOwnProperty(e)||this[e]!==r[e])return!1;n++}for(e in r)r.hasOwnProperty(e)&&t.indexOf(e)<0&&n--;return n===0},yt.API={events:[]},yt.version="3.0.1";var zr=yt.API,BN=1,wd=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ef=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Et=function(r){return r.toFixed(2)},lc=function(r){return r.toFixed(5)};zr.__acroform__={};var es=function(r,e){r.prototype=Object.create(e.prototype),r.prototype.constructor=r},Dk=function(r){return r*BN},so=function(r){var e=new $8,t=ot.internal.getHeight(r)||0,n=ot.internal.getWidth(r)||0;return e.BBox=[0,0,Number(Et(n)),Number(Et(t))],e},jB=zr.__acroform__.setBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|=1<<e},PB=zr.__acroform__.clearBit=function(r,e){if(r=r||0,e=e||0,isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&=~(1<<e)},LB=zr.__acroform__.getBit=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<e?1:0},Qr=zr.__acroform__.getBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return LB(r,e-1)},Jr=zr.__acroform__.setBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return jB(r,e-1)},Zr=zr.__acroform__.clearBitForPdf=function(r,e){if(isNaN(r)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return PB(r,e-1)},IB=zr.__acroform__.calculateCoordinates=function(r,e){var t=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=r[0],s=r[1],a=r[2],o=r[3],l={};return l.lowerLeft_X=t(i)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=t(i+a)||0,l.upperRight_Y=n(s)||0,[Number(Et(l.lowerLeft_X)),Number(Et(l.lowerLeft_Y)),Number(Et(l.upperRight_X)),Number(Et(l.upperRight_Y))]},RB=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var e=[],t=r._V||r.DV,n=dS(r,t),i=r.scope.internal.getFont(r.fontName,r.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(r.scope.__private__.encodeColorString(r.color)),e.push("/"+i+" "+Et(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=so(r);return s.scope=r.scope,s.stream=e.join(`
`),s}},dS=function(r,e){var t=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=r.multiline?i.map(function(z){return z.split(`
`)}):i.map(function(z){return[z]});var s=t,a=ot.internal.getHeight(r)||0;a=a<0?-a:a;var o=ot.internal.getWidth(r)||0;o=o<0?-o:o;var l=function(z,R,V){if(z+1<i.length){var T=R+" "+i[z+1][0];return Av(T,r,V).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var u,h,f=Av("3",r,s).height,p=r.multiline?a-s:(a-f)/2,d=p+=2,x=0,v=0,b=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Av(e,r,s=12).width+", FieldWidth:"+o+`
`;break}for(var y="",w=0,A=0;A<i.length;A++)if(i.hasOwnProperty(A)){var k=!1;if(i[A].length!==1&&b!==i[A].length-1){if((f+2)*(w+2)+2>a)continue e;y+=i[A][b],k=!0,v=A,A--}else{y=(y+=i[A][b]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var M=parseInt(A),$=l(M,y,s),H=A>=i.length-1;if($&&!H){y+=" ",b=0;continue}if($||H){if(H)v=M;else if(r.multiline&&(f+2)*(w+2)+2>a)continue e}else{if(!r.multiline||(f+2)*(w+2)+2>a)continue e;v=M}}for(var q="",D=x;D<=v;D++){var se=i[D];if(r.multiline){if(D===v){q+=se[b]+" ",b=(b+1)%se.length;continue}if(D===x){q+=se[se.length-1]+" ";continue}}q+=se[0]+" "}switch(q=q.substr(q.length-1)==" "?q.substr(0,q.length-1):q,h=Av(q,r,s).width,r.textAlign){case"right":u=o-h-2;break;case"center":u=(o-h)/2;break;case"left":default:u=2}e+=Et(u)+" "+Et(d)+` Td
`,e+="("+wd(q)+`) Tj
`,e+=-Et(u)+` 0 Td
`,d=-(s+2),h=0,x=k?v:v+1,w++,y=""}break}return n.text=e,n.fontSize=s,n},Av=function(r,e,t){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},FB={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},DB=function(r,e){var t={type:"reference",object:r};e.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===t.type&&n.object===t.object})===void 0&&e.internal.getPageInfo(r.page).pageContext.annotations.push(t)},MB=function(r,e){for(var t in r)if(r.hasOwnProperty(t)){var n=t,i=r[t];e.internal.newObjectDeferredBegin(i.objId,!0),nr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete r[n]}},OB=function(r,e){if(e.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(Wa.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(FB)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");BN=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new G8,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&DB(s,t)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(t){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],u=o.Rect;if(o.Rect&&(o.Rect=IB(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=ot.createDefaultAppearanceStream(o),nr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var h=RB(o);l.push({key:"AP",value:"<</N "+h+">>"}),i.internal.acroformPlugin.xForms.push(h)}if(o.appearanceStreamContent){var f="";for(var p in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(p)){var d=o.appearanceStreamContent[p];if(f+="/"+p+" ",f+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var a in d)if(d.hasOwnProperty(a)){var x=d[a];typeof x=="function"&&(x=x.call(i,o)),f+="/"+a+" "+x+" ",i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x)}}else typeof(x=d)=="function"&&(x=x.call(i,o)),f+="/"+a+" "+x,i.internal.acroformPlugin.xForms.indexOf(x)>=0||i.internal.acroformPlugin.xForms.push(x);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&MB(i.internal.acroformPlugin.xForms,i)})(t,r)}),r.internal.acroformPlugin.isInitialized=!0}},W8=zr.__acroform__.arrayToPdfArray=function(r,e,t){var n=function(a){return a};if(Array.isArray(r)){for(var i="[",s=0;s<r.length;s++)switch(s!==0&&(i+=" "),nr(r[s])){case"boolean":case"number":case"object":i+=r[s].toString();break;case"string":r[s].substr(0,1)!=="/"?(e!==void 0&&t&&(n=t.internal.getEncryptor(e)),i+="("+wd(n(r[s].toString()))+")"):i+=r[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},V2=function(r,e,t){var n=function(i){return i};return e!==void 0&&t&&(n=t.internal.getEncryptor(e)),(r=r||"").toString(),r="("+wd(n(r))+")"},To=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};To.prototype.toString=function(){return this.objId+" 0 R"},To.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},To.prototype.getKeyValueListForStream=function(){var r=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var n=e[t],i=this[n];i&&(Array.isArray(i)?r.push({key:n,value:W8(i,this.objId,this.scope)}):i instanceof To?(i.scope=this.scope,r.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&r.push({key:n,value:i}))}return r};var $8=function(){To.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){r=t.trim()},get:function(){return r||null}})};es($8,To);var G8=function(){To.call(this);var r,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var t=function(n){return n};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+wd(t(r))+")"}},set:function(t){r=t}})};es(G8,To);var Wa=function r(){To.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Qr(e,3)},set:function(y){y?this.F=Jr(e,3):this.F=Zr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');t=y}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(y){n=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(y){n[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(y){n[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(y){n[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(y){n[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof hw)return;s="FieldObject"+r.FieldNum++}var y=function(w){return w};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+wd(y(s))+")"},set:function(y){s=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(y){s=y}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(y){l=y}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/BN:u},set:function(y){u=y}});var h="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return h},set:function(y){h=y}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof hw||this instanceof sd))return V2(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=y}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ln?p:V2(p,this.objId,this.scope)},set:function(y){y=y.toString(),p=this instanceof Ln?y:y.substr(0,1)==="("?ef(y.substr(1,y.length-2)):ef(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ln?ef(p.substr(1,p.length-1)):p},set:function(y){y=y.toString(),p=this instanceof Ln?"/"+y:y}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Ln?d:V2(d,this.objId,this.scope)},set:function(y){y=y.toString(),d=this instanceof Ln?y:y.substr(0,1)==="("?ef(y.substr(1,y.length-2)):ef(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ln?ef(d.substr(1,d.length-1)):d},set:function(y){y=y.toString(),d=this instanceof Ln?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var x,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(y){y=!!y,v=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(x)return x},set:function(y){x=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,1)},set:function(y){y?this.Ff=Jr(this.Ff,1):this.Ff=Zr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,2)},set:function(y){y?this.Ff=Jr(this.Ff,2):this.Ff=Zr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,3)},set:function(y){y?this.Ff=Jr(this.Ff,3):this.Ff=Zr(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');b=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(b){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:b=2;break;case"center":case 1:b=1;break;case"left":case 0:default:b=0}}})};es(Wa,To);var Uf=function(){Wa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){r=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return W8(e,this.objId,this.scope)},set:function(t){var n,i;i=[],typeof(n=t)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,u=[];l=a.exec(s);)u.push(l[o]);return u}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,n){for(n=n||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,18)},set:function(t){t?this.Ff=Jr(this.Ff,18):this.Ff=Zr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Jr(this.Ff,19):this.Ff=Zr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,20)},set:function(t){t?(this.Ff=Jr(this.Ff,20),e.sort()):this.Ff=Zr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,22)},set:function(t){t?this.Ff=Jr(this.Ff,22):this.Ff=Zr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,23)},set:function(t){t?this.Ff=Jr(this.Ff,23):this.Ff=Zr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,27)},set:function(t){t?this.Ff=Jr(this.Ff,27):this.Ff=Zr(this.Ff,27)}}),this.hasAppearanceStream=!1};es(Uf,Wa);var zf=function(){Uf.call(this),this.fontName="helvetica",this.combo=!1};es(zf,Uf);var Hf=function(){zf.call(this),this.combo=!0};es(Hf,zf);var Ax=function(){Hf.call(this),this.edit=!0};es(Ax,Hf);var Ln=function(){Wa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,15)},set:function(t){t?this.Ff=Jr(this.Ff,15):this.Ff=Zr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,16)},set:function(t){t?this.Ff=Jr(this.Ff,16):this.Ff=Zr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,17)},set:function(t){t?this.Ff=Jr(this.Ff,17):this.Ff=Zr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,26)},set:function(t){t?this.Ff=Jr(this.Ff,26):this.Ff=Zr(this.Ff,26)}});var r,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+wd(t(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){nr(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(t){r="/"+t}})};es(Ln,Wa);var _x=function(){Ln.call(this),this.pushButton=!0};es(_x,Ln);var qf=function(){Ln.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e!==void 0?e:[]}})};es(qf,Ln);var hw=function(){var r,e;Wa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+wd(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){nr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ot.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};es(hw,Wa),qf.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=r.createAppearanceStream(t.optionName),t.caption=r.getCA()}},qf.prototype.createOption=function(r){var e=new hw;return e.Parent=this,e.optionName=r,this.Kids.push(e),BB.call(this.scope,e),e};var Sx=function(){Ln.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ot.CheckBox.createAppearanceStream()};es(Sx,Ln);var sd=function(){Wa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,13)},set:function(e){e?this.Ff=Jr(this.Ff,13):this.Ff=Zr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,21)},set:function(e){e?this.Ff=Jr(this.Ff,21):this.Ff=Zr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,23)},set:function(e){e?this.Ff=Jr(this.Ff,23):this.Ff=Zr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,24)},set:function(e){e?this.Ff=Jr(this.Ff,24):this.Ff=Zr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,25)},set:function(e){e?this.Ff=Jr(this.Ff,25):this.Ff=Zr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,26)},set:function(e){e?this.Ff=Jr(this.Ff,26):this.Ff=Zr(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){Number.isInteger(e)&&(r=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};es(sd,Wa);var Nx=function(){sd.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Qr(this.Ff,14)},set:function(r){r?this.Ff=Jr(this.Ff,14):this.Ff=Zr(this.Ff,14)}}),this.password=!0};es(Nx,sd);var ot={CheckBox:{createAppearanceStream:function(){return{N:{On:ot.CheckBox.YesNormal},D:{On:ot.CheckBox.YesPushDown,Off:ot.CheckBox.OffPushDown}}},YesPushDown:function(r){var e=so(r);e.scope=r.scope;var t=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,i=r.scope.__private__.encodeColorString(r.color),s=dS(r,r.caption);return t.push("0.749023 g"),t.push("0 0 "+Et(ot.internal.getWidth(r))+" "+Et(ot.internal.getHeight(r))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+n+" "+Et(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(r){var e=so(r);e.scope=r.scope;var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),i=[],s=ot.internal.getHeight(r),a=ot.internal.getWidth(r),o=dS(r,r.caption);return i.push("1 g"),i.push("0 0 "+Et(a)+" "+Et(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Et(a-1)+" "+Et(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Et(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(r){var e=so(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Et(ot.internal.getWidth(r))+" "+Et(ot.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(r){var e={D:{Off:ot.RadioButton.Circle.OffPushDown},N:{}};return e.N[r]=ot.RadioButton.Circle.YesNormal,e.D[r]=ot.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(r){var e=so(r);e.scope=r.scope;var t=[],n=ot.internal.getWidth(r)<=ot.internal.getHeight(r)?ot.internal.getWidth(r)/4:ot.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=ot.internal.Bezier_C,s=Number((n*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+lc(ot.internal.getWidth(r)/2)+" "+lc(ot.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),t.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),t.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),t.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=so(r);e.scope=r.scope;var t=[],n=ot.internal.getWidth(r)<=ot.internal.getHeight(r)?ot.internal.getWidth(r)/4:ot.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*ot.internal.Bezier_C).toFixed(5)),a=Number((n*ot.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+lc(ot.internal.getWidth(r)/2)+" "+lc(ot.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+lc(ot.internal.getWidth(r)/2)+" "+lc(ot.internal.getHeight(r)/2)+" cm"),t.push(n+" 0 m"),t.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),t.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),t.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),t.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(r){var e=so(r);e.scope=r.scope;var t=[],n=ot.internal.getWidth(r)<=ot.internal.getHeight(r)?ot.internal.getWidth(r)/4:ot.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*ot.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+lc(ot.internal.getWidth(r)/2)+" "+lc(ot.internal.getHeight(r)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(r){var e={D:{Off:ot.RadioButton.Cross.OffPushDown},N:{}};return e.N[r]=ot.RadioButton.Cross.YesNormal,e.D[r]=ot.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(r){var e=so(r);e.scope=r.scope;var t=[],n=ot.internal.calculateCross(r);return t.push("q"),t.push("1 1 "+Et(ot.internal.getWidth(r)-2)+" "+Et(ot.internal.getHeight(r)-2)+" re"),t.push("W"),t.push("n"),t.push(Et(n.x1.x)+" "+Et(n.x1.y)+" m"),t.push(Et(n.x2.x)+" "+Et(n.x2.y)+" l"),t.push(Et(n.x4.x)+" "+Et(n.x4.y)+" m"),t.push(Et(n.x3.x)+" "+Et(n.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(r){var e=so(r);e.scope=r.scope;var t=ot.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+Et(ot.internal.getWidth(r))+" "+Et(ot.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Et(ot.internal.getWidth(r)-2)+" "+Et(ot.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(Et(t.x1.x)+" "+Et(t.x1.y)+" m"),n.push(Et(t.x2.x)+" "+Et(t.x2.y)+" l"),n.push(Et(t.x4.x)+" "+Et(t.x4.y)+" m"),n.push(Et(t.x3.x)+" "+Et(t.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(r){var e=so(r);e.scope=r.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Et(ot.internal.getWidth(r))+" "+Et(ot.internal.getHeight(r))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(r){var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,t=r.scope.__private__.encodeColorString(r.color);return"/"+e+" "+r.fontSize+" Tf "+t}};ot.internal={Bezier_C:.551915024494,calculateCross:function(r){var e=ot.internal.getWidth(r),t=ot.internal.getHeight(r),n=Math.min(e,t);return{x1:{x:(e-n)/2,y:(t-n)/2+n},x2:{x:(e-n)/2+n,y:(t-n)/2},x3:{x:(e-n)/2,y:(t-n)/2},x4:{x:(e-n)/2+n,y:(t-n)/2+n}}}},ot.internal.getWidth=function(r){var e=0;return nr(r)==="object"&&(e=Dk(r.Rect[2])),e},ot.internal.getHeight=function(r){var e=0;return nr(r)==="object"&&(e=Dk(r.Rect[3])),e};var BB=zr.addField=function(r){if(OB(this,r),!(r instanceof Wa))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=r).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};zr.AcroFormChoiceField=Uf,zr.AcroFormListBox=zf,zr.AcroFormComboBox=Hf,zr.AcroFormEditBox=Ax,zr.AcroFormButton=Ln,zr.AcroFormPushButton=_x,zr.AcroFormRadioButton=qf,zr.AcroFormCheckBox=Sx,zr.AcroFormTextField=sd,zr.AcroFormPasswordField=Nx,zr.AcroFormAppearance=ot,zr.AcroForm={ChoiceField:Uf,ListBox:zf,ComboBox:Hf,EditBox:Ax,Button:Ln,PushButton:_x,RadioButton:qf,CheckBox:Sx,TextField:sd,PasswordField:Nx,Appearance:ot},yt.AcroForm={ChoiceField:Uf,ListBox:zf,ComboBox:Hf,EditBox:Ax,Button:Ln,PushButton:_x,RadioButton:qf,CheckBox:Sx,TextField:sd,PasswordField:Nx,Appearance:ot};function V8(r){return r.reduce(function(e,t,n){return e[t]=n,e},{})}(function(r){r.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=r.__addimage__.getImageFileTypeByImageData=function(z,R){var V,T,K,he,le,me=e;if((R=R||e)==="RGBA"||z.data!==void 0&&z.data instanceof Uint8ClampedArray&&"height"in z&&"width"in z)return"RGBA";if($(z))for(le in t)for(K=t[le],V=0;V<K.length;V+=1){for(he=!0,T=0;T<K[V].length;T+=1)if(K[V][T]!==void 0&&K[V][T]!==z[T]){he=!1;break}if(he===!0){me=le;break}}else for(le in t)for(K=t[le],V=0;V<K.length;V+=1){for(he=!0,T=0;T<K[V].length;T+=1)if(K[V][T]!==void 0&&K[V][T]!==z.charCodeAt(T)){he=!1;break}if(he===!0){me=le;break}}return me===e&&R!==e&&(me=R),me},i=function z(R){for(var V=this.internal.write,T=this.internal.putStream,K=(0,this.internal.getFilters)();K.indexOf("FlateEncode")!==-1;)K.splice(K.indexOf("FlateEncode"),1);R.objectId=this.internal.newObject();var he=[];if(he.push({key:"Type",value:"/XObject"}),he.push({key:"Subtype",value:"/Image"}),he.push({key:"Width",value:R.width}),he.push({key:"Height",value:R.height}),R.colorSpace===b.INDEXED?he.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(R.palette.length/3-1)+" "+("sMask"in R&&R.sMask!==void 0?R.objectId+2:R.objectId+1)+" 0 R]"}):(he.push({key:"ColorSpace",value:"/"+R.colorSpace}),R.colorSpace===b.DEVICE_CMYK&&he.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),he.push({key:"BitsPerComponent",value:R.bitsPerComponent}),"decodeParameters"in R&&R.decodeParameters!==void 0&&he.push({key:"DecodeParms",value:"<<"+R.decodeParameters+">>"}),"transparency"in R&&Array.isArray(R.transparency)){for(var le="",me=0,pe=R.transparency.length;me<pe;me++)le+=R.transparency[me]+" "+R.transparency[me]+" ";he.push({key:"Mask",value:"["+le+"]"})}R.sMask!==void 0&&he.push({key:"SMask",value:R.objectId+1+" 0 R"});var be=R.filter!==void 0?["/"+R.filter]:void 0;if(T({data:R.data,additionalKeyValues:he,alreadyAppliedFilters:be,objectId:R.objectId}),V("endobj"),"sMask"in R&&R.sMask!==void 0){var ge="/Predictor "+R.predictor+" /Colors 1 /BitsPerComponent "+R.bitsPerComponent+" /Columns "+R.width,C={width:R.width,height:R.height,colorSpace:"DeviceGray",bitsPerComponent:R.bitsPerComponent,decodeParameters:ge,data:R.sMask};"filter"in R&&(C.filter=R.filter),z.call(this,C)}if(R.colorSpace===b.INDEXED){var B=this.internal.newObject();T({data:q(new Uint8Array(R.palette)),objectId:B}),V("endobj")}},s=function(){var z=this.internal.collections.addImage_images;for(var R in z)i.call(this,z[R])},a=function(){var z,R=this.internal.collections.addImage_images,V=this.internal.write;for(var T in R)V("/I"+(z=R[T]).index,z.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var z=this.internal.collections.addImage_images;return o.call(this),z},u=function(){return Object.keys(this.internal.collections.addImage_images).length},h=function(z){return typeof r["process"+z.toUpperCase()]=="function"},f=function(z){return nr(z)==="object"&&z.nodeType===1},p=function(z,R){if(z.nodeName==="IMG"&&z.hasAttribute("src")){var V=""+z.getAttribute("src");if(V.indexOf("data:image/")===0)return Zg(unescape(V).split("base64,").pop());var T=r.loadFile(V,!0);if(T!==void 0)return T}if(z.nodeName==="CANVAS"){if(z.width===0||z.height===0)throw new Error("Given canvas must have data. Canvas width: "+z.width+", height: "+z.height);var K;switch(R){case"PNG":K="image/png";break;case"WEBP":K="image/webp";break;case"JPEG":case"JPG":default:K="image/jpeg"}return Zg(z.toDataURL(K,1).split("base64,").pop())}},d=function(z){var R=this.internal.collections.addImage_images;if(R){for(var V in R)if(z===R[V].alias)return R[V]}},x=function(z,R,V){return z||R||(z=-96,R=-96),z<0&&(z=-1*V.width*72/z/this.internal.scaleFactor),R<0&&(R=-1*V.height*72/R/this.internal.scaleFactor),z===0&&(z=R*V.width/V.height),R===0&&(R=z*V.height/V.width),[z,R]},v=function(z,R,V,T,K,he){var le=x.call(this,V,T,K),me=this.internal.getCoordinateString,pe=this.internal.getVerticalCoordinateString,be=l.call(this);if(V=le[0],T=le[1],be[K.index]=K,he){he*=Math.PI/180;var ge=Math.cos(he),C=Math.sin(he),B=function(ae){return ae.toFixed(4)},G=[B(ge),B(C),B(-1*C),B(ge),0,0,"cm"]}this.internal.write("q"),he?(this.internal.write([1,"0","0",1,me(z),pe(R+T),"cm"].join(" ")),this.internal.write(G.join(" ")),this.internal.write([me(V),"0","0",me(T),"0","0","cm"].join(" "))):this.internal.write([me(V),"0","0",me(T),me(z),pe(R+T),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+K.index+" Do"),this.internal.write("Q")},b=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=r.__addimage__.sHashCode=function(z){var R,V,T=0;if(typeof z=="string")for(V=z.length,R=0;R<V;R++)T=(T<<5)-T+z.charCodeAt(R),T|=0;else if($(z))for(V=z.byteLength/2,R=0;R<V;R++)T=(T<<5)-T+z[R],T|=0;return T},A=r.__addimage__.validateStringAsBase64=function(z){(z=z||"").toString().trim();var R=!0;return z.length===0&&(R=!1),z.length%4!=0&&(R=!1),/^[A-Za-z0-9+/]+$/.test(z.substr(0,z.length-2))===!1&&(R=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(z.substr(-2))===!1&&(R=!1),R},k=r.__addimage__.extractImageFromDataUrl=function(z){if(z==null||!(z=z.trim()).startsWith("data:"))return null;var R=z.indexOf(",");return R<0?null:z.substring(0,R).trim().endsWith("base64")?z.substring(R+1):null},M=r.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};r.__addimage__.isArrayBuffer=function(z){return M()&&z instanceof ArrayBuffer};var $=r.__addimage__.isArrayBufferView=function(z){return M()&&typeof Uint32Array<"u"&&(z instanceof Int8Array||z instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&z instanceof Uint8ClampedArray||z instanceof Int16Array||z instanceof Uint16Array||z instanceof Int32Array||z instanceof Uint32Array||z instanceof Float32Array||z instanceof Float64Array)},H=r.__addimage__.binaryStringToUint8Array=function(z){for(var R=z.length,V=new Uint8Array(R),T=0;T<R;T++)V[T]=z.charCodeAt(T);return V},q=r.__addimage__.arrayBufferToBinaryString=function(z){for(var R="",V=$(z)?z:new Uint8Array(z),T=0;T<V.length;T+=8192)R+=String.fromCharCode.apply(null,V.subarray(T,T+8192));return R};r.addImage=function(){var z,R,V,T,K,he,le,me,pe;if(typeof arguments[1]=="number"?(R=e,V=arguments[1],T=arguments[2],K=arguments[3],he=arguments[4],le=arguments[5],me=arguments[6],pe=arguments[7]):(R=arguments[1],V=arguments[2],T=arguments[3],K=arguments[4],he=arguments[5],le=arguments[6],me=arguments[7],pe=arguments[8]),nr(z=arguments[0])==="object"&&!f(z)&&"imageData"in z){var be=z;z=be.imageData,R=be.format||R||e,V=be.x||V||0,T=be.y||T||0,K=be.w||be.width||K,he=be.h||be.height||he,le=be.alias||le,me=be.compression||me,pe=be.rotation||be.angle||pe}var ge=this.internal.getFilters();if(me===void 0&&ge.indexOf("FlateEncode")!==-1&&(me="SLOW"),isNaN(V)||isNaN(T))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var C=D.call(this,z,R,le,me);return v.call(this,V,T,K,he,C,pe),this};var D=function(z,R,V,T){var K,he,le;if(typeof z=="string"&&n(z)===e){z=unescape(z);var me=se(z,!1);(me!==""||(me=r.loadFile(z,!0))!==void 0)&&(z=me)}if(f(z)&&(z=p(z,R)),R=n(z,R),!h(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(((le=V)==null||le.length===0)&&(V=function(pe){return typeof pe=="string"||$(pe)?w(pe):$(pe.data)?w(pe.data):null}(z)),(K=d.call(this,V))||(M()&&(z instanceof Uint8Array||R==="RGBA"||(he=z,z=H(z))),K=this["process"+R.toUpperCase()](z,u.call(this),V,function(pe){return pe&&typeof pe=="string"&&(pe=pe.toUpperCase()),pe in r.image_compression?pe:y.NONE}(T),he)),!K)throw new Error("An unknown error occurred whilst processing the image.");return K},se=r.__addimage__.convertBase64ToBinaryString=function(z,R){R=typeof R!="boolean"||R;var V,T="";if(typeof z=="string"){var K;V=(K=k(z))!==null&&K!==void 0?K:z;try{T=Zg(V)}catch(he){if(R)throw A(V)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+he.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return T};r.getImageProperties=function(z){var R,V,T="";if(f(z)&&(z=p(z)),typeof z=="string"&&n(z)===e&&((T=se(z,!1))===""&&(T=r.loadFile(z)||""),z=T),V=n(z),!h(V))throw new Error("addImage does not support files of type '"+V+"', please ensure that a plugin for '"+V+"' support is added.");if(!M()||z instanceof Uint8Array||(z=H(z)),!(R=this["process"+V.toUpperCase()](z)))throw new Error("An unknown error occurred whilst processing the image");return R.fileType=V,R}})(yt.API),function(r){var e=function(t){if(t!==void 0&&t!="")return!0};yt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(t){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(t.objId),u=t.pageContext.annotations,h=!1,f=0;f<u.length&&!h;f++)switch((n=u[f]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(h=!0);break;case"reference":case"text":case"freetext":h=!0}if(h!=0){this.internal.write("/Annots [");for(var p=0;p<u.length;p++){n=u[p];var d=this.internal.pdfEscape,x=this.internal.getEncryptor(t.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(v.objId),w=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+d(y(n.contents))+")",s+=" /Popup "+b.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+d(y(w))+") >>",v.content=s;var A=v.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+A,n.open&&(s+=" /Open true"),s+=" >>",b.content=s,this.internal.write(v.objId,"0 R",b.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var k=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+d(x(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+k+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var M=this.annotations._nameMap[n.options.name];n.options.pageNumber=M.page,n.options.top=M.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+d(x(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var $=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+$+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),r.createAnnotation=function(t){var n=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":n.pageContext.annotations.push(t)}},r.link=function(t,n,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(t),y:u(n),w:l(t+i),h:u(n+s)},options:a,type:"link"})},r.textWithLink=function(t,n,i,s){var a,o,l=this.getTextWidth(t),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var h=this.splitTextToSize(t,o).length;a=Math.ceil(u*h)}else o=l,a=u;return this.text(t,n,i,s),i+=.2*u,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-u,o,a,s),l},r.getTextWidth=function(t){var n=this.internal.getFontSize();return this.getStringUnitWidth(t)*n/this.internal.scaleFactor}}(yt.API),function(r){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];r.__arabicParser__={};var s=r.__arabicParser__.isInArabicSubstitutionA=function(v){return e[v.charCodeAt(0)]!==void 0},a=r.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},o=r.__arabicParser__.isArabicEndLetter=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length<=2},l=r.__arabicParser__.isArabicAlfLetter=function(v){return a(v)&&i.indexOf(v.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length>=1};var u=r.__arabicParser__.arabicLetterHasFinalForm=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length>=3};var h=r.__arabicParser__.arabicLetterHasMedialForm=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length==4},f=r.__arabicParser__.resolveLigatures=function(v){var b=0,y=t,w="",A=0;for(b=0;b<v.length;b+=1)y[v.charCodeAt(b)]!==void 0?(A++,typeof(y=y[v.charCodeAt(b)])=="number"&&(w+=String.fromCharCode(y),y=t,A=0),b===v.length-1&&(y=t,w+=v.charAt(b-(A-1)),b-=A-1,A=0)):(y=t,w+=v.charAt(b-A),b-=A,A=0);return w};r.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&n[v.charCodeAt(0)]!==void 0};var p=r.__arabicParser__.getCorrectForm=function(v,b,y){return a(v)?s(v)===!1?-1:!u(v)||!a(b)&&!a(y)||!a(y)&&o(b)||o(v)&&!a(b)||o(v)&&l(b)||o(v)&&o(b)?0:h(v)&&a(b)&&!o(b)&&a(y)&&u(y)?3:o(v)||!a(y)?1:2:-1},d=function(v){var b=0,y=0,w=0,A="",k="",M="",$=(v=v||"").split("\\s+"),H=[];for(b=0;b<$.length;b+=1){for(H.push(""),y=0;y<$[b].length;y+=1)A=$[b][y],k=$[b][y-1],M=$[b][y+1],a(A)?(w=p(A,k,M),H[b]+=w!==-1?String.fromCharCode(e[A.charCodeAt(0)][w]):A):H[b]+=A;H[b]=f(H[b])}return H.join(" ")},x=r.__arabicParser__.processArabic=r.processArabic=function(){var v,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(b)){var w=0;for(y=[],w=0;w<b.length;w+=1)Array.isArray(b[w])?y.push([d(b[w][0]),b[w][1],b[w][2]]):y.push([d(b[w])]);v=y}else v=d(b);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};r.events.push(["preProcessText",x])}(yt.API),yt.API.autoPrint=function(r){var e;switch((r=r||{}).variant=r.variant||"non-conform",r.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(r){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,n){var i;if((t=t||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(yt.API),function(r){var e={left:0,top:0,bottom:0,right:0},t=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(v){l=v}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var h=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return h},set:function(v){h=v}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(v){f=v}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var x=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return x},set:function(v){x=v}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},r.getTextDimensions=function(l,u){n.call(this);var h=(u=u||{}).fontSize||this.getFontSize(),f=u.font||this.getFont(),p=u.scaleFactor||this.internal.scaleFactor,d=0,x=0,v=0,b=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var y=u.maxWidth;y>0?typeof l=="string"?l=this.splitTextToSize(l,y):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(A,k){return A.concat(b.splitTextToSize(k,y))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)d<(v=this.getStringUnitWidth(l[w],{font:f})*h)&&(d=v);return d!==0&&(x=l.length),{w:d/=p,h:Math.max((x*h*this.getLineHeightFactor()-h*(this.getLineHeightFactor()-1))/p,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=r.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,h=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,d&&p&&(this.printHeaderRow(l.lineNumber,!0),l.y+=p[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,t===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-h,l.y+h,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+h,{align:"center",baseline:"top",maxWidth:l.width-h-h}):this.text(l.text,l.x+h,l.y+h,{align:"left",baseline:"top",maxWidth:l.width-h-h})),this.internal.__cell__.lastCell=l,this};r.table=function(l,u,h,f,p){if(n.call(this),!h)throw new Error("No data for PDF table.");var d,x,v,b,y=[],w=[],A=[],k={},M={},$=[],H=[],q=(p=p||{}).autoSize||!1,D=p.printHeaders!==!1,se=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,z=p.margins||Object.assign({width:this.getPageWidth()},e),R=typeof p.padding=="number"?p.padding:3,V=p.headerBackgroundColor||"#c8c8c8",T=p.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=D,this.internal.__cell__.margins=z,this.internal.__cell__.table_font_size=se,this.internal.__cell__.padding=R,this.internal.__cell__.headerBackgroundColor=V,this.internal.__cell__.headerTextColor=T,this.setFontSize(se),f==null)w=y=Object.keys(h[0]),A=y.map(function(){return"left"});else if(Array.isArray(f)&&nr(f[0])==="object")for(y=f.map(function(be){return be.name}),w=f.map(function(be){return be.prompt||be.name||""}),A=f.map(function(be){return be.align||"left"}),d=0;d<f.length;d+=1)M[f[d].name]=f[d].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(w=y=f,A=y.map(function(){return"left"}));if(q||Array.isArray(f)&&typeof f[0]=="string")for(d=0;d<y.length;d+=1){for(k[b=y[d]]=h.map(function(be){return be[b]}),this.setFont(void 0,"bold"),$.push(this.getTextDimensions(w[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),x=k[b],this.setFont(void 0,"normal"),v=0;v<x.length;v+=1)$.push(this.getTextDimensions(x[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);M[b]=Math.max.apply(null,$)+R+R,$=[]}if(D){var K={};for(d=0;d<y.length;d+=1)K[y[d]]={},K[y[d]].text=w[d],K[y[d]].align=A[d];var he=o.call(this,K,M);H=y.map(function(be){return new s(l,u,M[be],he,K[be].text,void 0,K[be].align)}),this.setTableHeaderRow(H),this.printHeaderRow(1,!1)}var le=f.reduce(function(be,ge){return be[ge.name]=ge.align,be},{});for(d=0;d<h.length;d+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:d,data:h[d]},this);var me=o.call(this,h[d],M);for(v=0;v<y.length;v+=1){var pe=h[d][y[v]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:d,col:v,data:pe},this),a.call(this,new s(l,u,M[y[v]],me,pe,d+2,le[y[v]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var h=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(l).map(function(d){var x=l[d];return this.splitTextToSize(x.hasOwnProperty("text")?x.text:x,u[d]-h-h)},this).map(function(d){return this.getLineHeightFactor()*d.length*f/p+h+h},this).reduce(function(d,x){return Math.max(d,x)},0)};r.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},r.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var h;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){h=this.internal.__cell__.tableHeaderRow[d].clone(),u&&(h.y=this.internal.__cell__.margins.top||0,p.push(h)),h.lineNumber=l;var x=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,h),this.setTextColor(x)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),t=!1}}(yt.API);var K8={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},X8=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],fS=V8(X8),Y8=[100,200,300,400,500,600,700,800,900],UB=V8(Y8);function pS(r){var e=r.family.replace(/"|'/g,"").toLowerCase(),t=function(s){return K8[s=s||"normal"]?s:"normal"}(r.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(r.weight),i=function(s){return typeof fS[s=s||"normal"]=="number"?s:"normal"}(r.stretch);return{family:e,style:t,weight:n,stretch:i,src:r.src||[],ref:r.ref||{name:e,style:[i,t,n].join(" ")}}}function Mk(r,e,t,n){var i;for(i=t;i>=0&&i<e.length;i+=n)if(r[e[i]])return r[e[i]];for(i=t;i>=0&&i<e.length;i-=n)if(r[e[i]])return r[e[i]]}var zB={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ok={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Bk(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function HB(r,e,t){for(var n=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},zB,t.genericFontFamilies||{}),s=null,a=null,o=0;o<e.length;++o)if(i[(s=pS(e[o])).family]&&(s.family=i[s.family]),r.hasOwnProperty(s.family)){a=r[s.family];break}if(!(a=a||r[n]))throw new Error("Could not find a font-family for the rule '"+Bk(s)+"' and default family '"+n+"'.");if(a=function(l,u){if(u[l])return u[l];var h=fS[l],f=h<=fS.normal?-1:1,p=Mk(u,X8,h,f);if(!p)throw new Error("Could not find a matching font-stretch value for "+l);return p}(s.stretch,a),a=function(l,u){if(u[l])return u[l];for(var h=K8[l],f=0;f<h.length;++f)if(u[h[f]])return u[h[f]];throw new Error("Could not find a matching font-style for "+l)}(s.style,a),!(a=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var h=UB[l],f=Mk(u,Y8,h,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+Bk(s)+"'.");return a}function Uk(r){return r.trimLeft()}function qB(r,e){for(var t=0;t<r.length;){if(r.charAt(t)===e)return[r.substring(0,t),r.substring(t+1)];t+=1}return null}function WB(r){var e=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],r.substring(e[0].length)]}var _v,zk,Hk,K2=["times"];(function(r){var e,t,n,i,s,a,o,l,u,h=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new l,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new a,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new a,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,t=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new h}]);var f=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=C;Object.defineProperty(this,"pdf",{get:function(){return B}});var G=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return G},set:function(ve){G=!!ve}});var ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ae},set:function(ve){ae=!!ve}});var J=0;Object.defineProperty(this,"posX",{get:function(){return J},set:function(ve){isNaN(ve)||(J=ve)}});var L=0;Object.defineProperty(this,"posY",{get:function(){return L},set:function(ve){isNaN(ve)||(L=ve)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ve){var P;typeof ve=="number"?P=[ve,ve,ve,ve]:((P=new Array(4))[0]=ve[0],P[1]=ve.length>=2?ve[1]:P[0],P[2]=ve.length>=3?ve[2]:P[0],P[3]=ve.length>=4?ve[3]:P[1]),u.margin=P}});var I=!1;Object.defineProperty(this,"autoPaging",{get:function(){return I},set:function(ve){I=ve}});var ne=0;Object.defineProperty(this,"lastBreak",{get:function(){return ne},set:function(ve){ne=ve}});var ue=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ue},set:function(ve){ue=ve}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ve){ve instanceof h&&(u=ve)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ve){u.path=ve}});var X=[];Object.defineProperty(this,"ctxStack",{get:function(){return X},set:function(ve){X=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var P;P=p(ve),this.ctx.fillStyle=P.style,this.ctx.isFillTransparent=P.a===0,this.ctx.fillOpacity=P.a,this.pdf.setFillColor(P.r,P.g,P.b,{a:P.a}),this.pdf.setTextColor(P.r,P.g,P.b,{a:P.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var P=p(ve);this.ctx.strokeStyle=P.style,this.ctx.isStrokeTransparent=P.a===0,this.ctx.strokeOpacity=P.a,P.a===0?this.pdf.setDrawColor(255,255,255):(P.a,this.pdf.setDrawColor(P.r,P.g,P.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var ie=null;function Ae(ve,P){if(ie===null){var S=function(N){var F=[];return Object.keys(N).forEach(function(oe){N[oe].forEach(function(xe){var fe=null;switch(xe){case"bold":fe={family:oe,weight:"bold"};break;case"italic":fe={family:oe,style:"italic"};break;case"bolditalic":fe={family:oe,weight:"bold",style:"italic"};break;case"":case"normal":fe={family:oe}}fe!==null&&(fe.ref={name:oe,style:xe},F.push(fe))})}),F}(ve.getFontList());ie=function(N){for(var F={},oe=0;oe<N.length;++oe){var xe=pS(N[oe]),fe=xe.family,Ce=xe.stretch,Re=xe.style,Ie=xe.weight;F[fe]=F[fe]||{},F[fe][Ce]=F[fe][Ce]||{},F[fe][Ce][Re]=F[fe][Ce][Re]||{},F[fe][Ce][Re][Ie]=xe}return F}(S.concat(P))}return ie}var O=null;Object.defineProperty(this,"fontFaces",{get:function(){return O},set:function(ve){ie=null,O=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var P;if(this.ctx.font=ve,(P=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ve))!==null){var S=P[1];P[2];var N=P[3],F=P[4];P[5];var oe=P[6],xe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(F)[2];F=Math.floor(xe==="px"?parseFloat(F)*this.pdf.internal.scaleFactor:xe==="em"?parseFloat(F)*this.pdf.getFontSize():parseFloat(F)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(F);var fe=function(lt){var wt,Xe,Mr=[],ft=lt.trim();if(ft==="")return K2;if(ft in Ok)return[Ok[ft]];for(;ft!=="";){switch(Xe=null,wt=(ft=Uk(ft)).charAt(0)){case'"':case"'":Xe=qB(ft.substring(1),wt);break;default:Xe=WB(ft)}if(Xe===null||(Mr.push(Xe[0]),(ft=Uk(Xe[1]))!==""&&ft.charAt(0)!==","))return K2;ft=ft.replace(/^,/,"")}return Mr}(oe);if(this.fontFaces){var Ce=HB(Ae(this.pdf,this.fontFaces),fe.map(function(lt){return{family:lt,stretch:"normal",weight:N,style:S}}));this.pdf.setFont(Ce.ref.name,Ce.ref.style)}else{var Re="";(N==="bold"||parseInt(N,10)>=700||S==="bold")&&(Re="bold"),S==="italic"&&(Re+="italic"),Re.length===0&&(Re="normal");for(var Ie="",Ue={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ke=0;Ke<fe.length;Ke++){if(this.pdf.internal.getFont(fe[Ke],Re,{noFallback:!0,disableWarning:!0})!==void 0){Ie=fe[Ke];break}if(Re==="bolditalic"&&this.pdf.internal.getFont(fe[Ke],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ie=fe[Ke],Re="bold";else if(this.pdf.internal.getFont(fe[Ke],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ie=fe[Ke],Re="normal";break}}if(Ie===""){for(var Ze=0;Ze<fe.length;Ze++)if(Ue[fe[Ze]]){Ie=Ue[fe[Ze]];break}}Ie=Ie===""?"Times":Ie,this.pdf.setFont(Ie,Re)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,ge.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,ge.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};f.prototype.setLineDash=function(C){this.lineDash=C},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){k.call(this,"fill",!1)},f.prototype.stroke=function(){k.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(C,B){if(isNaN(C)||isNaN(B))throw dr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var G=this.ctx.transform.applyToPoint(new a(C,B));this.path.push({type:"mt",x:G.x,y:G.y}),this.ctx.lastPoint=new a(C,B)},f.prototype.closePath=function(){var C=new a(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&nr(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){C=new a(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(C.x,C.y)},f.prototype.lineTo=function(C,B){if(isNaN(C)||isNaN(B))throw dr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var G=this.ctx.transform.applyToPoint(new a(C,B));this.path.push({type:"lt",x:G.x,y:G.y}),this.ctx.lastPoint=new a(G.x,G.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),k.call(this,null,!0)},f.prototype.quadraticCurveTo=function(C,B,G,ae){if(isNaN(G)||isNaN(ae)||isNaN(C)||isNaN(B))throw dr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var J=this.ctx.transform.applyToPoint(new a(G,ae)),L=this.ctx.transform.applyToPoint(new a(C,B));this.path.push({type:"qct",x1:L.x,y1:L.y,x:J.x,y:J.y}),this.ctx.lastPoint=new a(J.x,J.y)},f.prototype.bezierCurveTo=function(C,B,G,ae,J,L){if(isNaN(J)||isNaN(L)||isNaN(C)||isNaN(B)||isNaN(G)||isNaN(ae))throw dr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var I=this.ctx.transform.applyToPoint(new a(J,L)),ne=this.ctx.transform.applyToPoint(new a(C,B)),ue=this.ctx.transform.applyToPoint(new a(G,ae));this.path.push({type:"bct",x1:ne.x,y1:ne.y,x2:ue.x,y2:ue.y,x:I.x,y:I.y}),this.ctx.lastPoint=new a(I.x,I.y)},f.prototype.arc=function(C,B,G,ae,J,L){if(isNaN(C)||isNaN(B)||isNaN(G)||isNaN(ae)||isNaN(J))throw dr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(L=!!L,!this.ctx.transform.isIdentity){var I=this.ctx.transform.applyToPoint(new a(C,B));C=I.x,B=I.y;var ne=this.ctx.transform.applyToPoint(new a(0,G)),ue=this.ctx.transform.applyToPoint(new a(0,0));G=Math.sqrt(Math.pow(ne.x-ue.x,2)+Math.pow(ne.y-ue.y,2))}Math.abs(J-ae)>=2*Math.PI&&(ae=0,J=2*Math.PI),this.path.push({type:"arc",x:C,y:B,radius:G,startAngle:ae,endAngle:J,counterclockwise:L})},f.prototype.arcTo=function(C,B,G,ae,J){throw new Error("arcTo not implemented.")},f.prototype.rect=function(C,B,G,ae){if(isNaN(C)||isNaN(B)||isNaN(G)||isNaN(ae))throw dr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,B),this.lineTo(C+G,B),this.lineTo(C+G,B+ae),this.lineTo(C,B+ae),this.lineTo(C,B),this.lineTo(C+G,B),this.lineTo(C,B)},f.prototype.fillRect=function(C,B,G,ae){if(isNaN(C)||isNaN(B)||isNaN(G)||isNaN(ae))throw dr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var J={};this.lineCap!=="butt"&&(J.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(J.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,B,G,ae),this.fill(),J.hasOwnProperty("lineCap")&&(this.lineCap=J.lineCap),J.hasOwnProperty("lineJoin")&&(this.lineJoin=J.lineJoin)}},f.prototype.strokeRect=function(C,B,G,ae){if(isNaN(C)||isNaN(B)||isNaN(G)||isNaN(ae))throw dr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");x.call(this)||(this.beginPath(),this.rect(C,B,G,ae),this.stroke())},f.prototype.clearRect=function(C,B,G,ae){if(isNaN(C)||isNaN(B)||isNaN(G)||isNaN(ae))throw dr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,B,G,ae))},f.prototype.save=function(C){C=typeof C!="boolean"||C;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var ae=new h(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ae}},f.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,G=0;G<this.pdf.internal.getNumberOfPages();G++)this.pdf.setPage(G+1),this.pdf.internal.out("Q");this.pdf.setPage(B),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(C){var B,G,ae,J;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))B=0,G=0,ae=0,J=0;else{var L=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(L!==null)B=parseInt(L[1]),G=parseInt(L[2]),ae=parseInt(L[3]),J=1;else if((L=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)B=parseInt(L[1]),G=parseInt(L[2]),ae=parseInt(L[3]),J=parseFloat(L[4]);else{if(J=1,typeof C=="string"&&C.charAt(0)!=="#"){var I=new z8(C);C=I.ok?I.toHex():"#000000"}C.length===4?(B=C.substring(1,2),B+=B,G=C.substring(2,3),G+=G,ae=C.substring(3,4),ae+=ae):(B=C.substring(1,3),G=C.substring(3,5),ae=C.substring(5,7)),B=parseInt(B,16),G=parseInt(G,16),ae=parseInt(ae,16)}}return{r:B,g:G,b:ae,a:J,style:C}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},x=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(C,B,G,ae){if(isNaN(B)||isNaN(G)||typeof C!="string")throw dr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ae=isNaN(ae)?void 0:ae,!d.call(this)){var J=me(this.ctx.transform.rotation),L=this.ctx.transform.scaleX;R.call(this,{text:C,x:B,y:G,scale:L,angle:J,align:this.textAlign,maxWidth:ae})}},f.prototype.strokeText=function(C,B,G,ae){if(isNaN(B)||isNaN(G)||typeof C!="string")throw dr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!x.call(this)){ae=isNaN(ae)?void 0:ae;var J=me(this.ctx.transform.rotation),L=this.ctx.transform.scaleX;R.call(this,{text:C,x:B,y:G,scale:L,renderingMode:"stroke",angle:J,align:this.textAlign,maxWidth:ae})}},f.prototype.measureText=function(C){if(typeof C!="string")throw dr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,G=this.pdf.internal.scaleFactor,ae=B.internal.getFontSize(),J=B.getStringUnitWidth(C)*ae/B.internal.scaleFactor,L=function(I){var ne=(I=I||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ne}}),this};return new L({width:J*=Math.round(96*G/72*1e4)/1e4})},f.prototype.scale=function(C,B){if(isNaN(C)||isNaN(B))throw dr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var G=new l(C,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(G)},f.prototype.rotate=function(C){if(isNaN(C))throw dr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new l(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},f.prototype.translate=function(C,B){if(isNaN(C)||isNaN(B))throw dr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var G=new l(1,0,0,1,C,B);this.ctx.transform=this.ctx.transform.multiply(G)},f.prototype.transform=function(C,B,G,ae,J,L){if(isNaN(C)||isNaN(B)||isNaN(G)||isNaN(ae)||isNaN(J)||isNaN(L))throw dr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var I=new l(C,B,G,ae,J,L);this.ctx.transform=this.ctx.transform.multiply(I)},f.prototype.setTransform=function(C,B,G,ae,J,L){C=isNaN(C)?1:C,B=isNaN(B)?0:B,G=isNaN(G)?0:G,ae=isNaN(ae)?1:ae,J=isNaN(J)?0:J,L=isNaN(L)?0:L,this.ctx.transform=new l(C,B,G,ae,J,L)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(C,B,G,ae,J,L,I,ne,ue){var X=this.pdf.getImageProperties(C),ie=1,Ae=1,O=1,ve=1;ae!==void 0&&ne!==void 0&&(O=ne/ae,ve=ue/J,ie=X.width/ae*ne/ae,Ae=X.height/J*ue/J),L===void 0&&(L=B,I=G,B=0,G=0),ae!==void 0&&ne===void 0&&(ne=ae,ue=J),ae===void 0&&ne===void 0&&(ne=X.width,ue=X.height);for(var P,S=this.ctx.transform.decompose(),N=me(S.rotate.shx),F=new l,oe=(F=(F=(F=F.multiply(S.translate)).multiply(S.skew)).multiply(S.scale)).applyToRectangle(new o(L-B*O,I-G*ve,ae*ie,J*Ae)),xe=b.call(this,oe),fe=[],Ce=0;Ce<xe.length;Ce+=1)fe.indexOf(xe[Ce])===-1&&fe.push(xe[Ce]);if(A(fe),this.autoPaging)for(var Re=fe[0],Ie=fe[fe.length-1],Ue=Re;Ue<Ie+1;Ue++){this.pdf.setPage(Ue);var Ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ze=Ue===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=Ue===1?0:lt+(Ue-2)*wt;if(this.ctx.clip_path.length!==0){var Mr=this.path;P=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(P,this.posX+this.margin[3],-Xe+Ze+this.ctx.prevPageLastElemOffset),M.call(this,"fill",!0),this.path=Mr}var ft=JSON.parse(JSON.stringify(oe));ft=w([ft],this.posX+this.margin[3],-Xe+Ze+this.ctx.prevPageLastElemOffset)[0];var Gn=(Ue>Re||Ue<Ie)&&v.call(this);Gn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,wt,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",ft.x,ft.y,ft.w,ft.h,null,null,N),Gn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(C,"JPEG",oe.x,oe.y,oe.w,oe.h,null,null,N)};var b=function(C,B,G){var ae=[];B=B||this.pdf.internal.pageSize.width,G=G||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var J=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":ae.push(Math.floor((C.y+J)/G)+1);break;case"arc":ae.push(Math.floor((C.y+J-C.radius)/G)+1),ae.push(Math.floor((C.y+J+C.radius)/G)+1);break;case"qct":var L=pe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);ae.push(Math.floor((L.y+J)/G)+1),ae.push(Math.floor((L.y+L.h+J)/G)+1);break;case"bct":var I=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);ae.push(Math.floor((I.y+J)/G)+1),ae.push(Math.floor((I.y+I.h+J)/G)+1);break;case"rect":ae.push(Math.floor((C.y+J)/G)+1),ae.push(Math.floor((C.y+C.h+J)/G)+1)}for(var ne=0;ne<ae.length;ne+=1)for(;this.pdf.internal.getNumberOfPages()<ae[ne];)y.call(this);return ae},y=function(){var C=this.fillStyle,B=this.strokeStyle,G=this.font,ae=this.lineCap,J=this.lineWidth,L=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=B,this.font=G,this.lineCap=ae,this.lineWidth=J,this.lineJoin=L},w=function(C,B,G){for(var ae=0;ae<C.length;ae++)switch(C[ae].type){case"bct":C[ae].x2+=B,C[ae].y2+=G;case"qct":C[ae].x1+=B,C[ae].y1+=G;case"mt":case"lt":case"arc":default:C[ae].x+=B,C[ae].y+=G}return C},A=function(C){return C.sort(function(B,G){return B-G})},k=function(C,B){for(var G,ae,J=this.fillStyle,L=this.strokeStyle,I=this.lineCap,ne=this.lineWidth,ue=Math.abs(ne*this.ctx.transform.scaleX),X=this.lineJoin,ie=JSON.parse(JSON.stringify(this.path)),Ae=JSON.parse(JSON.stringify(this.path)),O=[],ve=0;ve<Ae.length;ve++)if(Ae[ve].x!==void 0)for(var P=b.call(this,Ae[ve]),S=0;S<P.length;S+=1)O.indexOf(P[S])===-1&&O.push(P[S]);for(var N=0;N<O.length;N++)for(;this.pdf.internal.getNumberOfPages()<O[N];)y.call(this);if(A(O),this.autoPaging)for(var F=O[0],oe=O[O.length-1],xe=F;xe<oe+1;xe++){this.pdf.setPage(xe),this.fillStyle=J,this.strokeStyle=L,this.lineCap=I,this.lineWidth=ue,this.lineJoin=X;var fe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ce=xe===1?this.posY+this.margin[0]:this.margin[0],Re=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ie=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ue=xe===1?0:Re+(xe-2)*Ie;if(this.ctx.clip_path.length!==0){var Ke=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(G,this.posX+this.margin[3],-Ue+Ce+this.ctx.prevPageLastElemOffset),M.call(this,C,!0),this.path=Ke}if(ae=JSON.parse(JSON.stringify(ie)),this.path=w(ae,this.posX+this.margin[3],-Ue+Ce+this.ctx.prevPageLastElemOffset),B===!1||xe===0){var Ze=(xe>F||xe<oe)&&v.call(this);Ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],fe,Ie,null).clip().discardPath()),M.call(this,C,B),Ze&&this.pdf.restoreGraphicsState()}this.lineWidth=ne}else this.lineWidth=ue,M.call(this,C,B),this.lineWidth=ne;this.path=ie},M=function(C,B){if((C!=="stroke"||B||!x.call(this))&&(C==="stroke"||B||!d.call(this))){for(var G,ae,J=[],L=this.path,I=0;I<L.length;I++){var ne=L[I];switch(ne.type){case"begin":J.push({begin:!0});break;case"close":J.push({close:!0});break;case"mt":J.push({start:ne,deltas:[],abs:[]});break;case"lt":var ue=J.length;if(L[I-1]&&!isNaN(L[I-1].x)&&(G=[ne.x-L[I-1].x,ne.y-L[I-1].y],ue>0)){for(;ue>=0;ue--)if(J[ue-1].close!==!0&&J[ue-1].begin!==!0){J[ue-1].deltas.push(G),J[ue-1].abs.push(ne);break}}break;case"bct":G=[ne.x1-L[I-1].x,ne.y1-L[I-1].y,ne.x2-L[I-1].x,ne.y2-L[I-1].y,ne.x-L[I-1].x,ne.y-L[I-1].y],J[J.length-1].deltas.push(G);break;case"qct":var X=L[I-1].x+2/3*(ne.x1-L[I-1].x),ie=L[I-1].y+2/3*(ne.y1-L[I-1].y),Ae=ne.x+2/3*(ne.x1-ne.x),O=ne.y+2/3*(ne.y1-ne.y),ve=ne.x,P=ne.y;G=[X-L[I-1].x,ie-L[I-1].y,Ae-L[I-1].x,O-L[I-1].y,ve-L[I-1].x,P-L[I-1].y],J[J.length-1].deltas.push(G);break;case"arc":J.push({deltas:[],abs:[],arc:!0}),Array.isArray(J[J.length-1].abs)&&J[J.length-1].abs.push(ne)}}ae=B?null:C==="stroke"?"stroke":"fill";for(var S=!1,N=0;N<J.length;N++)if(J[N].arc)for(var F=J[N].abs,oe=0;oe<F.length;oe++){var xe=F[oe];xe.type==="arc"?q.call(this,xe.x,xe.y,xe.radius,xe.startAngle,xe.endAngle,xe.counterclockwise,void 0,B,!S):V.call(this,xe.x,xe.y),S=!0}else if(J[N].close===!0)this.pdf.internal.out("h"),S=!1;else if(J[N].begin!==!0){var fe=J[N].start.x,Ce=J[N].start.y;T.call(this,J[N].deltas,fe,Ce),S=!0}ae&&D.call(this,ae),B&&se.call(this)}},$=function(C){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,G=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-G;case"top":return C+B-G;case"hanging":return C+B-2*G;case"middle":return C+B/2-G;case"ideographic":return C;case"alphabetic":default:return C}},H=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function(B,G){this.colorStops.push([B,G])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var q=function(C,B,G,ae,J,L,I,ne,ue){for(var X=he.call(this,G,ae,J,L),ie=0;ie<X.length;ie++){var Ae=X[ie];ie===0&&(ue?z.call(this,Ae.x1+C,Ae.y1+B):V.call(this,Ae.x1+C,Ae.y1+B)),K.call(this,C,B,Ae.x2,Ae.y2,Ae.x3,Ae.y3,Ae.x4,Ae.y4)}ne?se.call(this):D.call(this,I)},D=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},se=function(){this.pdf.clip(),this.pdf.discardPath()},z=function(C,B){this.pdf.internal.out(t(C)+" "+n(B)+" m")},R=function(C){var B;switch(C.align){case"right":case"end":B="right";break;case"center":B="center";break;case"left":case"start":default:B="left"}var G=this.pdf.getTextDimensions(C.text),ae=$.call(this,C.y),J=H.call(this,ae)-G.h,L=this.ctx.transform.applyToPoint(new a(C.x,ae)),I=this.ctx.transform.decompose(),ne=new l;ne=(ne=(ne=ne.multiply(I.translate)).multiply(I.skew)).multiply(I.scale);for(var ue,X,ie,Ae=this.ctx.transform.applyToRectangle(new o(C.x,ae,G.w,G.h)),O=ne.applyToRectangle(new o(C.x,J,G.w,G.h)),ve=b.call(this,O),P=[],S=0;S<ve.length;S+=1)P.indexOf(ve[S])===-1&&P.push(ve[S]);if(A(P),this.autoPaging)for(var N=P[0],F=P[P.length-1],oe=N;oe<F+1;oe++){this.pdf.setPage(oe);var xe=oe===1?this.posY+this.margin[0]:this.margin[0],fe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ce=this.pdf.internal.pageSize.height-this.margin[2],Re=Ce-this.margin[0],Ie=this.pdf.internal.pageSize.width-this.margin[1],Ue=Ie-this.margin[3],Ke=oe===1?0:fe+(oe-2)*Re;if(this.ctx.clip_path.length!==0){var Ze=this.path;ue=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ue,this.posX+this.margin[3],-1*Ke+xe),M.call(this,"fill",!0),this.path=Ze}var lt=w([JSON.parse(JSON.stringify(O))],this.posX+this.margin[3],-Ke+xe+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(X=this.pdf.internal.getFontSize(),this.pdf.setFontSize(X*C.scale),ie=this.lineWidth,this.lineWidth=ie*C.scale);var wt=this.autoPaging!=="text";if(wt||lt.y+lt.h<=Ce){if(wt||lt.y>=xe&&lt.x<=Ie){var Xe=wt?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||Ie-lt.x)[0],Mr=w([JSON.parse(JSON.stringify(Ae))],this.posX+this.margin[3],-Ke+xe+this.ctx.prevPageLastElemOffset)[0],ft=wt&&(oe>N||oe<F)&&v.call(this);ft&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ue,Re,null).clip().discardPath()),this.pdf.text(Xe,Mr.x,Mr.y,{angle:C.angle,align:B,renderingMode:C.renderingMode}),ft&&this.pdf.restoreGraphicsState()}}else lt.y<Ce&&(this.ctx.prevPageLastElemOffset+=Ce-lt.y);C.scale>=.01&&(this.pdf.setFontSize(X),this.lineWidth=ie)}else C.scale>=.01&&(X=this.pdf.internal.getFontSize(),this.pdf.setFontSize(X*C.scale),ie=this.lineWidth,this.lineWidth=ie*C.scale),this.pdf.text(C.text,L.x+this.posX,L.y+this.posY,{angle:C.angle,align:B,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(X),this.lineWidth=ie)},V=function(C,B,G,ae){G=G||0,ae=ae||0,this.pdf.internal.out(t(C+G)+" "+n(B+ae)+" l")},T=function(C,B,G){return this.pdf.lines(C,B,G,null,null)},K=function(C,B,G,ae,J,L,I,ne){this.pdf.internal.out([e(i(G+C)),e(s(ae+B)),e(i(J+C)),e(s(L+B)),e(i(I+C)),e(s(ne+B)),"c"].join(" "))},he=function(C,B,G,ae){for(var J=2*Math.PI,L=Math.PI/2;B>G;)B-=J;var I=Math.abs(G-B);I<J&&ae&&(I=J-I);for(var ne=[],ue=ae?-1:1,X=B;I>1e-5;){var ie=X+ue*Math.min(I,L);ne.push(le.call(this,C,X,ie)),I-=Math.abs(ie-X),X=ie}return ne},le=function(C,B,G){var ae=(G-B)/2,J=C*Math.cos(ae),L=C*Math.sin(ae),I=J,ne=-L,ue=I*I+ne*ne,X=ue+I*J+ne*L,ie=4/3*(Math.sqrt(2*ue*X)-X)/(I*L-ne*J),Ae=I-ie*ne,O=ne+ie*I,ve=Ae,P=-O,S=ae+B,N=Math.cos(S),F=Math.sin(S);return{x1:C*Math.cos(B),y1:C*Math.sin(B),x2:Ae*N-O*F,y2:Ae*F+O*N,x3:ve*N-P*F,y3:ve*F+P*N,x4:C*Math.cos(G),y4:C*Math.sin(G)}},me=function(C){return 180*C/Math.PI},pe=function(C,B,G,ae,J,L){var I=C+.5*(G-C),ne=B+.5*(ae-B),ue=J+.5*(G-J),X=L+.5*(ae-L),ie=Math.min(C,J,I,ue),Ae=Math.max(C,J,I,ue),O=Math.min(B,L,ne,X),ve=Math.max(B,L,ne,X);return new o(ie,O,Ae-ie,ve-O)},be=function(C,B,G,ae,J,L,I,ne){var ue,X,ie,Ae,O,ve,P,S,N,F,oe,xe,fe,Ce,Re=G-C,Ie=ae-B,Ue=J-G,Ke=L-ae,Ze=I-J,lt=ne-L;for(X=0;X<41;X++)N=(P=(ie=C+(ue=X/40)*Re)+ue*((O=G+ue*Ue)-ie))+ue*(O+ue*(J+ue*Ze-O)-P),F=(S=(Ae=B+ue*Ie)+ue*((ve=ae+ue*Ke)-Ae))+ue*(ve+ue*(L+ue*lt-ve)-S),X==0?(oe=N,xe=F,fe=N,Ce=F):(oe=Math.min(oe,N),xe=Math.min(xe,F),fe=Math.max(fe,N),Ce=Math.max(Ce,F));return new o(Math.round(oe),Math.round(xe),Math.round(fe-oe),Math.round(Ce-xe))},ge=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,B,G=(C=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:B}));this.prevLineDash!==G&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=G)}}})(yt.API),function(r){var e=function(s){var a,o,l,u,h,f,p,d,x,v;for(o=[],l=0,u=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;u>l;l+=4)(h=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(f=(h=((h=((h=((h=(h-(v=h%85))/85)-(x=h%85))/85)-(d=h%85))/85)-(p=h%85))/85)%85,o.push(f+33,p+33,d+33,x+33,v+33)):o.push(122);return function(b,y){for(var w=y;w>0;w--)b.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},t=function(s){var a,o,l,u,h,f=String,p="length",d=255,x="charCodeAt",v="slice",b="replace";for(s[v](-2),s=s[v](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),l=[],u=0,h=(s+=a="uuuuu"[v](s[p]%5||5))[p];h>u;u+=5)o=52200625*(s[x](u)-33)+614125*(s[x](u+1)-33)+7225*(s[x](u+2)-33)+85*(s[x](u+3)-33)+(s[x](u+4)-33),l.push(d&o>>24,d&o>>16,d&o>>8,d&o);return function(y,w){for(var A=w;A>0;A--)y.pop()}(l,a[p]),f.fromCharCode.apply(f,l)},n=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",l=0;l<s.length;l+=2)o+=String.fromCharCode("0x"+(s[l]+s[l+1]));return o},i=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=lS(a)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};r.processDataByFilters=function(s,a){var o=0,l=s||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=t(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(h){return("0"+h.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(yt.API),function(r){r.loadFile=function(e,t,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,u,h){var f=new XMLHttpRequest,p=0,d=function(x){var v=x.length,b=[],y=String.fromCharCode;for(p=0;p<v;p+=1)b.push(y(255&x.charCodeAt(p)));return b.join("")};if(f.open("GET",l,!u),f.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(f.onload=function(){f.status===200?h(d(this.responseText)):h(void 0)}),f.send(null),u&&f.status===200)return d(f.responseText)}(i,s,a)}catch{}return o}(e,t,n)},r.loadImageFile=r.loadFile}(yt.API),function(r){function e(){return(vt.html2canvas?Promise.resolve(vt.html2canvas):nS(()=>import("./html2canvas.esm-DadlvMMh.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function t(){return(vt.DOMPurify?Promise.resolve(vt.DOMPurify):nS(()=>import("./purify.es-BFmuJLeH.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var o=nr(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var l=document.createElement(a);for(var u in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[u]=o.style[u];return l},s=function a(o){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(t).then(function(l){return this.set({src:i("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(u,h){for(var f=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),p=u.firstChild;p;p=p.nextSibling)h!==!0&&p.nodeType===1&&p.nodeName==="SCRIPT"||f.appendChild(l(p,h));return u.nodeType===1&&(u.nodeName==="CANVAS"?(f.width=u.width,f.height=u.height,f.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(f.value=u.value),f.addEventListener("load",function(){f.scrollTop=u.scrollTop,f.scrollLeft=u.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=this.opt.jsPDF,u=this.opt.fontFaces,h=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:h,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var p=0;p<u.length;++p){var d=u[p],x=d.src.find(function(v){return v.format==="truetype"});x&&l.addFont(x.url,d.ref.name,d.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(n(a)!=="object")return this;var o=Object.keys(a||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var l=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(l):l})},s.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(a=a||yt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,l,u){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,l,u){return this.setProgress(a?this.progress.val+a:null,o||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(a,o){var l=this;return this.thenCore(a,o,function(u,h){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,u),f}).then(u,h).then(function(f){return l.updateProgress(1),f})})},s.prototype.thenCore=function(a,o,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),h=l.call(u,a,o);return s.convert(h,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(l){o=o.thenCore(l)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,yt.getPageSize=function(a,o,l){if(nr(a)==="object"){var u=a;a=u.orientation,o=u.unit||o,l=u.format||l}o=o||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var h,f=(""+l).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=.75;break;case"pc":case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+o}var d,x=0,v=0;if(p.hasOwnProperty(f))x=p[f][1]/h,v=p[f][0]/h;else try{x=l[1],v=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",v>x&&(d=v,v=x,x=d);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",x>v&&(d=v,v=x,x=d)}return{width:v,height:x,unit:o,k:h,orientation:a}},r.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(pS):null;var l=new s(o);return o.worker?l:l.from(a).doCallback()}}(yt.API),yt.API.addJS=function(r){return Hk=r,this.internal.events.subscribe("postPutResources",function(){_v=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(_v+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zk=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Hk+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){_v!==void 0&&zk!==void 0&&this.internal.out("/Names <</JavaScript "+_v+" 0 R>>")}),this},function(r){var e;r.events.push(["postPutResources",function(){var t=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var l=o[1];t.internal.newObjectDeferredBegin(l,!1)}t.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,h=[];for(s=0;s<u;s++){var f=t.internal.newObject();h.push(f);var p=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var d=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<h.length;s++)t.internal.write("(page_"+(s+1)+")"+h[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+d+" 0 R"),t.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),r.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(n){n.id=t.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},t.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},t.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=t.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},t.outline.line=function(n){this.ctx.val+=n+`\r
`},t.outline.makeRef=function(n){return n.id+" 0 R"},t.outline.makeString=function(n){return"("+t.internal.pdfEscape(n)+")"},t.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(yt.API),function(r){var e=[192,193,194,195,196,197,198,199];r.processJPEG=function(t,n,i,s,a,o){var l,u=this.decode.DCT_DECODE,h=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=a||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(l=function(f){for(var p,d=256*f.charCodeAt(4)+f.charCodeAt(5),x=f.length,v={width:0,height:0,numcomponents:1},b=4;b<x;b+=2){if(b+=d,e.indexOf(f.charCodeAt(b+1))!==-1){p=256*f.charCodeAt(b+5)+f.charCodeAt(b+6),v={width:256*f.charCodeAt(b+7)+f.charCodeAt(b+8),height:p,numcomponents:f.charCodeAt(b+9)};break}d=256*f.charCodeAt(b+2)+f.charCodeAt(b+3)}return v}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}h={data:t,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:i}}return h}}(yt.API);var tf,Sv,qk,Wk,$k,$B=function(){var r,e,t;function n(s){var a,o,l,u,h,f,p,d,x,v,b,y,w,A;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(a=this.readUInt32(),x=(function(){var k,M;for(M=[],k=0;k<4;++k)M.push(String.fromCharCode(this.data[this.pos++]));return M}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},h=this.readUInt16(),u=this.readUInt16()||100,f.delay=1e3*h/u,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(x==="fdAT"&&(this.pos+=4,a-=4),s=(f!=null?f.data:void 0)||this.imgData,y=0;0<=a?y<a:y>a;0<=a?++y:--y)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((v=l-this.transparency.indexed.length)>0)for(w=0;0<=v?w<v:w>v;0<=v?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":p=(b=this.read(a)).indexOf(0),d=String.fromCharCode.apply(String,b.slice(0,p)),this.text[d]=String.fromCharCode.apply(String,b.slice(p+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(A=this.colorType)===4||A===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),l=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function h(f,p,d,x){var v,b,y,w,A,k,M,$,H,q,D,se,z,R,V,T,K,he,le,me,pe,be=Math.ceil((u.width-f)/d),ge=Math.ceil((u.height-p)/x),C=u.width==be&&u.height==ge;for(R=a*be,se=C?o:new Uint8Array(R*ge),k=s.length,z=0,b=0;z<ge&&l<k;){switch(s[l++]){case 0:for(w=K=0;K<R;w=K+=1)se[b++]=s[l++];break;case 1:for(w=he=0;he<R;w=he+=1)v=s[l++],A=w<a?0:se[b-a],se[b++]=(v+A)%256;break;case 2:for(w=le=0;le<R;w=le+=1)v=s[l++],y=(w-w%a)/a,V=z&&se[(z-1)*R+y*a+w%a],se[b++]=(V+v)%256;break;case 3:for(w=me=0;me<R;w=me+=1)v=s[l++],y=(w-w%a)/a,A=w<a?0:se[b-a],V=z&&se[(z-1)*R+y*a+w%a],se[b++]=(v+Math.floor((A+V)/2))%256;break;case 4:for(w=pe=0;pe<R;w=pe+=1)v=s[l++],y=(w-w%a)/a,A=w<a?0:se[b-a],z===0?V=T=0:(V=se[(z-1)*R+y*a+w%a],T=y&&se[(z-1)*R+(y-1)*a+w%a]),M=A+V-T,$=Math.abs(M-A),q=Math.abs(M-V),D=Math.abs(M-T),H=$<=q&&$<=D?A:q<=D?V:T,se[b++]=(v+H)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!C){var B=((p+z*x)*u.width+f)*a,G=z*R;for(w=0;w<be;w+=1){for(var ae=0;ae<a;ae+=1)o[B++]=se[G++];B+=(d-1)*a}}z++}}return s=_B(s),u.interlaceMethod==1?(h(0,0,8,8),h(4,0,8,8),h(0,4,4,8),h(2,0,4,4),h(0,2,2,4),h(1,0,2,2),h(0,1,1,2)):h(0,0,1,1),o},n.prototype.decodePalette=function(){var s,a,o,l,u,h,f,p,d;for(o=this.palette,h=this.transparency.indexed||[],u=new Uint8Array((h.length||0)+o.length),l=0,s=0,a=f=0,p=o.length;f<p;a=f+=3)u[l++]=o[a],u[l++]=o[a+1],u[l++]=o[a+2],u[l++]=(d=h[s++])!=null?d:255;return u},n.prototype.copyToImageData=function(s,a){var o,l,u,h,f,p,d,x,v,b,y;if(l=this.colors,v=null,o=this.hasAlphaChannel,this.palette.length&&(v=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),l=4,o=!0),x=(u=s.data||s).length,f=v||a,h=p=0,l===1)for(;h<x;)d=v?4*a[h/4]:p,b=f[d++],u[h++]=b,u[h++]=b,u[h++]=b,u[h++]=o?f[d++]:255,p=d;else for(;h<x;)d=v?4*a[h/4]:p,u[h++]=f[d++],u[h++]=f[d++],u[h++]=f[d++],u[h++]=o?f[d++]:255,p=d},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(vt)==="[object Window]"){try{e=vt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),r=function(s){var a;if(i()===!0)return t.width=s.width,t.height=s.height,t.clearRect(0,0,s.width,s.height),t.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var a,o,l,u,h,f,p,d;if(this.animation){for(d=[],o=h=0,f=(p=this.animation.frames).length;h<f;o=++h)a=p[o],l=s.createImageData(a.width,a.height),u=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,u),a.imageData=l,d.push(a.image=r(l));return d}},n.prototype.renderFrame=function(s,a){var o,l,u;return o=(l=this.animation.frames)[a],u=l[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(s){var a,o,l,u,h,f,p=this;return o=0,f=this.animation,u=f.numFrames,l=f.frames,h=f.numPlays,(a=function(){var d,x;if(d=o++%u,x=l[d],p.renderFrame(s,d),u>1&&o/u<h)return p.animation._timeout=setTimeout(a,x.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function GB(r){var e=0;if(r[e++]!==71||r[e++]!==73||r[e++]!==70||r[e++]!==56||(r[e++]+1&253)!=56||r[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=r[e++]|r[e++]<<8,n=r[e++]|r[e++]<<8,i=r[e++],s=i>>7,a=1<<(7&i)+1;r[e++],r[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var u=!0,h=[],f=0,p=null,d=0,x=null;for(this.width=t,this.height=n;u&&e<r.length;)switch(r[e++]){case 33:switch(r[e++]){case 255:if(r[e]!==11||r[e+1]==78&&r[e+2]==69&&r[e+3]==84&&r[e+4]==83&&r[e+5]==67&&r[e+6]==65&&r[e+7]==80&&r[e+8]==69&&r[e+9]==50&&r[e+10]==46&&r[e+11]==48&&r[e+12]==3&&r[e+13]==1&&r[e+16]==0)e+=14,x=r[e++]|r[e++]<<8,e++;else for(e+=12;;){if(!((z=r[e++])>=0))throw Error("Invalid block size");if(z===0)break;e+=z}break;case 249:if(r[e++]!==4||r[e+4]!==0)throw new Error("Invalid graphics extension block.");var v=r[e++];f=r[e++]|r[e++]<<8,p=r[e++],!(1&v)&&(p=null),d=v>>2&7,e++;break;case 254:for(;;){if(!((z=r[e++])>=0))throw Error("Invalid block size");if(z===0)break;e+=z}break;default:throw new Error("Unknown graphic control label: 0x"+r[e-1].toString(16))}break;case 44:var b=r[e++]|r[e++]<<8,y=r[e++]|r[e++]<<8,w=r[e++]|r[e++]<<8,A=r[e++]|r[e++]<<8,k=r[e++],M=k>>6&1,$=1<<(7&k)+1,H=o,q=l,D=!1;k>>7&&(D=!0,H=e,q=$,e+=3*$);var se=e;for(e++;;){var z;if(!((z=r[e++])>=0))throw Error("Invalid block size");if(z===0)break;e+=z}h.push({x:b,y,width:w,height:A,has_local_palette:D,palette_offset:H,palette_size:q,data_offset:se,data_length:e-se,transparent_index:p,interlaced:!!M,delay:f,disposal:d});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+r[e-1].toString(16))}this.numFrames=function(){return h.length},this.loopCount=function(){return x},this.frameInfo=function(R){if(R<0||R>=h.length)throw new Error("Frame index out of range.");return h[R]},this.decodeAndBlitFrameBGRA=function(R,V){var T=this.frameInfo(R),K=T.width*T.height,he=new Uint8Array(K);Gk(r,T.data_offset,he,K);var le=T.palette_offset,me=T.transparent_index;me===null&&(me=256);var pe=T.width,be=t-pe,ge=pe,C=4*(T.y*t+T.x),B=4*((T.y+T.height)*t+T.x),G=C,ae=4*be;T.interlaced===!0&&(ae+=4*t*7);for(var J=8,L=0,I=he.length;L<I;++L){var ne=he[L];if(ge===0&&(ge=pe,(G+=ae)>=B&&(ae=4*be+4*t*(J-1),G=C+(pe+be)*(J<<1),J>>=1)),ne===me)G+=4;else{var ue=r[le+3*ne],X=r[le+3*ne+1],ie=r[le+3*ne+2];V[G++]=ie,V[G++]=X,V[G++]=ue,V[G++]=255}--ge}},this.decodeAndBlitFrameRGBA=function(R,V){var T=this.frameInfo(R),K=T.width*T.height,he=new Uint8Array(K);Gk(r,T.data_offset,he,K);var le=T.palette_offset,me=T.transparent_index;me===null&&(me=256);var pe=T.width,be=t-pe,ge=pe,C=4*(T.y*t+T.x),B=4*((T.y+T.height)*t+T.x),G=C,ae=4*be;T.interlaced===!0&&(ae+=4*t*7);for(var J=8,L=0,I=he.length;L<I;++L){var ne=he[L];if(ge===0&&(ge=pe,(G+=ae)>=B&&(ae=4*be+4*t*(J-1),G=C+(pe+be)*(J<<1),J>>=1)),ne===me)G+=4;else{var ue=r[le+3*ne],X=r[le+3*ne+1],ie=r[le+3*ne+2];V[G++]=ue,V[G++]=X,V[G++]=ie,V[G++]=255}--ge}}}function Gk(r,e,t,n){for(var i=r[e++],s=1<<i,a=s+1,o=a+1,l=i+1,u=(1<<l)-1,h=0,f=0,p=0,d=r[e++],x=new Int32Array(4096),v=null;;){for(;h<16&&d!==0;)f|=r[e++]<<h,h+=8,d===1?d=r[e++]:--d;if(h<l)break;var b=f&u;if(f>>=l,h-=l,b!==s){if(b===a)break;for(var y=b<o?b:v,w=0,A=y;A>s;)A=x[A]>>8,++w;var k=A;if(p+w+(y!==b?1:0)>n)return void dr.log("Warning, gif stream longer than expected.");t[p++]=k;var M=p+=w;for(y!==b&&(t[p++]=k),A=y;w--;)A=x[A],t[--M]=255&A,A>>=8;v!==null&&o<4096&&(x[o++]=v<<8|k,o>=u+1&&l<12&&(++l,u=u<<1|1)),v=b}else o=a+1,u=(1<<(l=i+1))-1,v=null}return p!==n&&dr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function X2(r){var e,t,n,i,s,a=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),h=new Array(64),f=new Array(65535),p=new Array(65535),d=new Array(64),x=new Array(64),v=[],b=0,y=7,w=new Array(64),A=new Array(64),k=new Array(64),M=new Array(256),$=new Array(2048),H=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],se=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],z=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],R=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],K=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function he(C,B){for(var G=0,ae=0,J=new Array,L=1;L<=16;L++){for(var I=1;I<=C[L];I++)J[B[ae]]=[],J[B[ae]][0]=G,J[B[ae]][1]=L,ae++,G++;G*=2}return J}function le(C){for(var B=C[0],G=C[1]-1;G>=0;)B&1<<G&&(b|=1<<y),G--,--y<0&&(b==255?(me(255),me(0)):me(b),y=7,b=0)}function me(C){v.push(C)}function pe(C){me(C>>8&255),me(255&C)}function be(C,B,G,ae,J){for(var L,I=J[0],ne=J[240],ue=function(F,oe){var xe,fe,Ce,Re,Ie,Ue,Ke,Ze,lt,wt,Xe=0;for(lt=0;lt<8;++lt){xe=F[Xe],fe=F[Xe+1],Ce=F[Xe+2],Re=F[Xe+3],Ie=F[Xe+4],Ue=F[Xe+5],Ke=F[Xe+6];var Mr=xe+(Ze=F[Xe+7]),ft=xe-Ze,Gn=fe+Ke,Vt=fe-Ke,Ut=Ce+Ue,ts=Ce-Ue,$t=Re+Ie,Do=Re-Ie,Sr=Mr+$t,Ii=Mr-$t,gi=Gn+Ut,cr=Gn-Ut;F[Xe]=Sr+gi,F[Xe+4]=Sr-gi;var St=.707106781*(cr+Ii);F[Xe+2]=Ii+St,F[Xe+6]=Ii-St;var Qt=.382683433*((Sr=Do+ts)-(cr=Vt+ft)),_u=.5411961*Sr+Qt,Rn=1.306562965*cr+Qt,Ga=.707106781*(gi=ts+Vt),Va=ft+Ga,gt=ft-Ga;F[Xe+5]=gt+_u,F[Xe+3]=gt-_u,F[Xe+1]=Va+Rn,F[Xe+7]=Va-Rn,Xe+=8}for(Xe=0,lt=0;lt<8;++lt){xe=F[Xe],fe=F[Xe+8],Ce=F[Xe+16],Re=F[Xe+24],Ie=F[Xe+32],Ue=F[Xe+40],Ke=F[Xe+48];var sa=xe+(Ze=F[Xe+56]),Ka=xe-Ze,Ri=fe+Ke,fn=fe-Ke,sn=Ce+Ue,rs=Ce-Ue,_d=Re+Ie,Mo=Re-Ie,aa=sa+_d,oa=sa-_d,la=Ri+sn,Xa=Ri-sn;F[Xe]=aa+la,F[Xe+32]=aa-la;var Ps=.707106781*(Xa+oa);F[Xe+16]=oa+Ps,F[Xe+48]=oa-Ps;var Ya=.382683433*((aa=Mo+rs)-(Xa=fn+Ka)),Su=.5411961*aa+Ya,Sd=1.306562965*Xa+Ya,Nd=.707106781*(la=rs+fn),Ed=Ka+Nd,kd=Ka-Nd;F[Xe+40]=kd+Su,F[Xe+24]=kd-Su,F[Xe+8]=Ed+Sd,F[Xe+56]=Ed-Sd,Xe++}for(lt=0;lt<64;++lt)wt=F[lt]*oe[lt],d[lt]=wt>0?wt+.5|0:wt-.5|0;return d}(C,B),X=0;X<64;++X)x[H[X]]=ue[X];var ie=x[0]-G;G=x[0],ie==0?le(ae[0]):(le(ae[p[L=32767+ie]]),le(f[L]));for(var Ae=63;Ae>0&&x[Ae]==0;)Ae--;if(Ae==0)return le(I),G;for(var O,ve=1;ve<=Ae;){for(var P=ve;x[ve]==0&&ve<=Ae;)++ve;var S=ve-P;if(S>=16){O=S>>4;for(var N=1;N<=O;++N)le(ne);S&=15}L=32767+x[ve],le(J[(S<<4)+p[L]]),le(f[L]),ve++}return Ae!=63&&le(I),G}function ge(C){C=Math.min(Math.max(C,1),100),s!=C&&(function(B){for(var G=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ae=0;ae<64;ae++){var J=a((G[ae]*B+50)/100);J=Math.min(Math.max(J,1),255),o[H[ae]]=J}for(var L=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],I=0;I<64;I++){var ne=a((L[I]*B+50)/100);ne=Math.min(Math.max(ne,1),255),l[H[I]]=ne}for(var ue=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],X=0,ie=0;ie<8;ie++)for(var Ae=0;Ae<8;Ae++)u[X]=1/(o[H[X]]*ue[ie]*ue[Ae]*8),h[X]=1/(l[H[X]]*ue[ie]*ue[Ae]*8),X++}(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),s=C)}this.encode=function(C,B){B&&ge(B),v=new Array,b=0,y=7,pe(65496),pe(65504),pe(16),me(74),me(70),me(73),me(70),me(0),me(1),me(1),me(0),pe(1),pe(1),me(0),me(0),function(){pe(65499),pe(132),me(0);for(var fe=0;fe<64;fe++)me(o[fe]);me(1);for(var Ce=0;Ce<64;Ce++)me(l[Ce])}(),function(fe,Ce){pe(65472),pe(17),me(8),pe(Ce),pe(fe),me(3),me(1),me(17),me(0),me(2),me(17),me(1),me(3),me(17),me(1)}(C.width,C.height),function(){pe(65476),pe(418),me(0);for(var fe=0;fe<16;fe++)me(q[fe+1]);for(var Ce=0;Ce<=11;Ce++)me(D[Ce]);me(16);for(var Re=0;Re<16;Re++)me(se[Re+1]);for(var Ie=0;Ie<=161;Ie++)me(z[Ie]);me(1);for(var Ue=0;Ue<16;Ue++)me(R[Ue+1]);for(var Ke=0;Ke<=11;Ke++)me(V[Ke]);me(17);for(var Ze=0;Ze<16;Ze++)me(T[Ze+1]);for(var lt=0;lt<=161;lt++)me(K[lt])}(),pe(65498),pe(12),me(3),me(1),me(0),me(2),me(17),me(3),me(17),me(0),me(63),me(0);var G=0,ae=0,J=0;b=0,y=7,this.encode.displayName="_encode_";for(var L,I,ne,ue,X,ie,Ae,O,ve,P=C.data,S=C.width,N=C.height,F=4*S,oe=0;oe<N;){for(L=0;L<F;){for(X=F*oe+L,Ae=-1,O=0,ve=0;ve<64;ve++)ie=X+(O=ve>>3)*F+(Ae=4*(7&ve)),oe+O>=N&&(ie-=F*(oe+1+O-N)),L+Ae>=F&&(ie-=L+Ae-F+4),I=P[ie++],ne=P[ie++],ue=P[ie++],w[ve]=($[I]+$[ne+256>>0]+$[ue+512>>0]>>16)-128,A[ve]=($[I+768>>0]+$[ne+1024>>0]+$[ue+1280>>0]>>16)-128,k[ve]=($[I+1280>>0]+$[ne+1536>>0]+$[ue+1792>>0]>>16)-128;G=be(w,u,G,e,n),ae=be(A,h,ae,t,i),J=be(k,h,J,t,i),L+=32}oe+=8}if(y>=0){var xe=[];xe[1]=y+1,xe[0]=(1<<y+1)-1,le(xe)}return pe(65497),new Uint8Array(v)},r=r||50,function(){for(var C=String.fromCharCode,B=0;B<256;B++)M[B]=C(B)}(),e=he(q,D),t=he(R,V),n=he(se,z),i=he(T,K),function(){for(var C=1,B=2,G=1;G<=15;G++){for(var ae=C;ae<B;ae++)p[32767+ae]=G,f[32767+ae]=[],f[32767+ae][1]=G,f[32767+ae][0]=ae;for(var J=-(B-1);J<=-C;J++)p[32767+J]=G,f[32767+J]=[],f[32767+J][1]=G,f[32767+J][0]=B-1+J;C<<=1,B<<=1}}(),function(){for(var C=0;C<256;C++)$[C]=19595*C,$[C+256>>0]=38470*C,$[C+512>>0]=7471*C+32768,$[C+768>>0]=-11059*C,$[C+1024>>0]=-21709*C,$[C+1280>>0]=32768*C+8421375,$[C+1536>>0]=-27439*C,$[C+1792>>0]=-5329*C}(),ge(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ga(r,e){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Vk(r){function e(q){if(!q)throw Error("assert :P")}function t(q,D,se){for(var z=0;4>z;z++)if(q[D+z]!=se.charCodeAt(z))return!0;return!1}function n(q,D,se,z,R){for(var V=0;V<R;V++)q[D+V]=se[z+V]}function i(q,D,se,z){for(var R=0;R<z;R++)q[D+R]=se}function s(q){return new Int32Array(q)}function a(q,D){for(var se=[],z=0;z<q;z++)se.push(new D);return se}function o(q,D){var se=[];return function z(R,V,T){for(var K=T[V],he=0;he<K&&(R.push(T.length>V+1?[]:new D),!(T.length<V+1));he++)z(R[he],V+1,T)}(se,0,q),se}var l=function(){var q=this;function D(g,_){for(var j=1<<_-1>>>0;g&j;)j>>>=1;return j?(g&j-1)+j:g}function se(g,_,j,U,Y){e(!(U%j));do g[_+(U-=j)]=Y;while(0<U)}function z(g,_,j,U,Y){if(e(2328>=Y),512>=Y)var Z=s(512);else if((Z=s(Y))==null)return 0;return function(te,ce,de,ye,Se,Pe){var Le,ke,He=ce,Fe=1<<de,Ne=s(16),Ee=s(16);for(e(Se!=0),e(ye!=null),e(te!=null),e(0<de),ke=0;ke<Se;++ke){if(15<ye[ke])return 0;++Ne[ye[ke]]}if(Ne[0]==Se)return 0;for(Ee[1]=0,Le=1;15>Le;++Le){if(Ne[Le]>1<<Le)return 0;Ee[Le+1]=Ee[Le]+Ne[Le]}for(ke=0;ke<Se;++ke)Le=ye[ke],0<ye[ke]&&(Pe[Ee[Le]++]=ke);if(Ee[15]==1)return(ye=new R).g=0,ye.value=Pe[0],se(te,He,1,Fe,ye),Fe;var Oe,qe=-1,ze=Fe-1,rt=0,Ye=1,pt=1,Je=1<<de;for(ke=0,Le=1,Se=2;Le<=de;++Le,Se<<=1){if(Ye+=pt<<=1,0>(pt-=Ne[Le]))return 0;for(;0<Ne[Le];--Ne[Le])(ye=new R).g=Le,ye.value=Pe[ke++],se(te,He+rt,Se,Je,ye),rt=D(rt,Le)}for(Le=de+1,Se=2;15>=Le;++Le,Se<<=1){if(Ye+=pt<<=1,0>(pt-=Ne[Le]))return 0;for(;0<Ne[Le];--Ne[Le]){if(ye=new R,(rt&ze)!=qe){for(He+=Je,Oe=1<<(qe=Le)-de;15>qe&&!(0>=(Oe-=Ne[qe]));)++qe,Oe<<=1;Fe+=Je=1<<(Oe=qe-de),te[ce+(qe=rt&ze)].g=Oe+de,te[ce+qe].value=He-ce-qe}ye.g=Le-de,ye.value=Pe[ke++],se(te,He+(rt>>de),Se,Je,ye),rt=D(rt,Le)}}return Ye!=2*Ee[15]-1?0:Fe}(g,_,j,U,Y,Z)}function R(){this.value=this.g=0}function V(){this.value=this.g=0}function T(){this.G=a(5,R),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Fn,V)}function K(g,_,j,U){e(g!=null),e(_!=null),e(2147483648>U),g.Ca=254,g.I=0,g.b=-8,g.Ka=0,g.oa=_,g.pa=j,g.Jd=_,g.Yc=j+U,g.Zc=4<=U?j+U-4+1:j,L(g)}function he(g,_){for(var j=0;0<_--;)j|=ne(g,128)<<_;return j}function le(g,_){var j=he(g,_);return I(g)?-j:j}function me(g,_,j,U){var Y,Z=0;for(e(g!=null),e(_!=null),e(4294967288>U),g.Sb=U,g.Ra=0,g.u=0,g.h=0,4<U&&(U=4),Y=0;Y<U;++Y)Z+=_[j+Y]<<8*Y;g.Ra=Z,g.bb=U,g.oa=_,g.pa=j}function pe(g){for(;8<=g.u&&g.bb<g.Sb;)g.Ra>>>=8,g.Ra+=g.oa[g.pa+g.bb]<<Hd-8>>>0,++g.bb,g.u-=8;G(g)&&(g.h=1,g.u=0)}function be(g,_){if(e(0<=_),!g.h&&_<=zd){var j=B(g)&Ud[_];return g.u+=_,pe(g),j}return g.h=1,g.u=0}function ge(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function C(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function B(g){return g.Ra>>>(g.u&Hd-1)>>>0}function G(g){return e(g.bb<=g.Sb),g.h||g.bb==g.Sb&&g.u>Hd}function ae(g,_){g.u=_,g.h=G(g)}function J(g){g.u>=$m&&(e(g.u>=$m),pe(g))}function L(g){e(g!=null&&g.oa!=null),g.pa<g.Zc?(g.I=(g.oa[g.pa++]|g.I<<8)>>>0,g.b+=8):(e(g!=null&&g.oa!=null),g.pa<g.Yc?(g.b+=8,g.I=g.oa[g.pa++]|g.I<<8):g.Ka?g.b=0:(g.I<<=8,g.b+=8,g.Ka=1))}function I(g){return he(g,1)}function ne(g,_){var j=g.Ca;0>g.b&&L(g);var U=g.b,Y=j*_>>>8,Z=(g.I>>>U>Y)+0;for(Z?(j-=Y,g.I-=Y+1<<U>>>0):j=Y+1,U=j,Y=0;256<=U;)Y+=8,U>>=8;return U=7^Y+Di[U],g.b-=U,g.Ca=(j<<U)-1,Z}function ue(g,_,j){g[_+0]=j>>24&255,g[_+1]=j>>16&255,g[_+2]=j>>8&255,g[_+3]=j>>0&255}function X(g,_){return g[_+0]<<0|g[_+1]<<8}function ie(g,_){return X(g,_)|g[_+2]<<16}function Ae(g,_){return X(g,_)|X(g,_+2)<<16}function O(g,_){var j=1<<_;return e(g!=null),e(0<_),g.X=s(j),g.X==null?0:(g.Mb=32-_,g.Xa=_,1)}function ve(g,_){e(g!=null),e(_!=null),e(g.Xa==_.Xa),n(_.X,0,g.X,0,1<<_.Xa)}function P(){this.X=[],this.Xa=this.Mb=0}function S(g,_,j,U){e(j!=null),e(U!=null);var Y=j[0],Z=U[0];return Y==0&&(Y=(g*Z+_/2)/_),Z==0&&(Z=(_*Y+g/2)/g),0>=Y||0>=Z?0:(j[0]=Y,U[0]=Z,1)}function N(g,_){return g+(1<<_)-1>>>_}function F(g,_){return((4278255360&g)+(4278255360&_)>>>0&4278255360)+((16711935&g)+(16711935&_)>>>0&16711935)>>>0}function oe(g,_){q[_]=function(j,U,Y,Z,te,ce,de){var ye;for(ye=0;ye<te;++ye){var Se=q[g](ce[de+ye-1],Y,Z+ye);ce[de+ye]=F(j[U+ye],Se)}}}function xe(){this.ud=this.hd=this.jd=0}function fe(g,_){return((4278124286&(g^_))>>>1)+(g&_)>>>0}function Ce(g){return 0<=g&&256>g?g:0>g?0:255<g?255:void 0}function Re(g,_){return Ce(g+(g-_+.5>>1))}function Ie(g,_,j){return Math.abs(_-j)-Math.abs(g-j)}function Ue(g,_,j,U,Y,Z,te){for(U=Z[te-1],j=0;j<Y;++j)Z[te+j]=U=F(g[_+j],U)}function Ke(g,_,j,U,Y){var Z;for(Z=0;Z<j;++Z){var te=g[_+Z],ce=te>>8&255,de=16711935&(de=(de=16711935&te)+((ce<<16)+ce));U[Y+Z]=(4278255360&te)+de>>>0}}function Ze(g,_){_.jd=g>>0&255,_.hd=g>>8&255,_.ud=g>>16&255}function lt(g,_,j,U,Y,Z){var te;for(te=0;te<U;++te){var ce=_[j+te],de=ce>>>8,ye=ce,Se=255&(Se=(Se=ce>>>16)+((g.jd<<24>>24)*(de<<24>>24)>>>5));ye=255&(ye=(ye=ye+((g.hd<<24>>24)*(de<<24>>24)>>>5))+((g.ud<<24>>24)*(Se<<24>>24)>>>5)),Y[Z+te]=(4278255360&ce)+(Se<<16)+ye}}function wt(g,_,j,U,Y){q[_]=function(Z,te,ce,de,ye,Se,Pe,Le,ke){for(de=Pe;de<Le;++de)for(Pe=0;Pe<ke;++Pe)ye[Se++]=Y(ce[U(Z[te++])])},q[g]=function(Z,te,ce,de,ye,Se,Pe){var Le=8>>Z.b,ke=Z.Ea,He=Z.K[0],Fe=Z.w;if(8>Le)for(Z=(1<<Z.b)-1,Fe=(1<<Le)-1;te<ce;++te){var Ne,Ee=0;for(Ne=0;Ne<ke;++Ne)Ne&Z||(Ee=U(de[ye++])),Se[Pe++]=Y(He[Ee&Fe]),Ee>>=Le}else q["VP8LMapColor"+j](de,ye,He,Fe,Se,Pe,te,ce,ke)}}function Xe(g,_,j,U,Y){for(j=_+j;_<j;){var Z=g[_++];U[Y++]=Z>>16&255,U[Y++]=Z>>8&255,U[Y++]=Z>>0&255}}function Mr(g,_,j,U,Y){for(j=_+j;_<j;){var Z=g[_++];U[Y++]=Z>>16&255,U[Y++]=Z>>8&255,U[Y++]=Z>>0&255,U[Y++]=Z>>24&255}}function ft(g,_,j,U,Y){for(j=_+j;_<j;){var Z=(te=g[_++])>>16&240|te>>12&15,te=te>>0&240|te>>28&15;U[Y++]=Z,U[Y++]=te}}function Gn(g,_,j,U,Y){for(j=_+j;_<j;){var Z=(te=g[_++])>>16&248|te>>13&7,te=te>>5&224|te>>3&31;U[Y++]=Z,U[Y++]=te}}function Vt(g,_,j,U,Y){for(j=_+j;_<j;){var Z=g[_++];U[Y++]=Z>>0&255,U[Y++]=Z>>8&255,U[Y++]=Z>>16&255}}function Ut(g,_,j,U,Y,Z){if(Z==0)for(j=_+j;_<j;)ue(U,((Z=g[_++])[0]>>24|Z[1]>>8&65280|Z[2]<<8&16711680|Z[3]<<24)>>>0),Y+=32;else n(U,Y,g,_,j)}function ts(g,_){q[_][0]=q[g+"0"],q[_][1]=q[g+"1"],q[_][2]=q[g+"2"],q[_][3]=q[g+"3"],q[_][4]=q[g+"4"],q[_][5]=q[g+"5"],q[_][6]=q[g+"6"],q[_][7]=q[g+"7"],q[_][8]=q[g+"8"],q[_][9]=q[g+"9"],q[_][10]=q[g+"10"],q[_][11]=q[g+"11"],q[_][12]=q[g+"12"],q[_][13]=q[g+"13"],q[_][14]=q[g+"0"],q[_][15]=q[g+"0"]}function $t(g){return g==$b||g==Gb||g==Uy||g==Vb}function Do(){this.eb=[],this.size=this.A=this.fb=0}function Sr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ii(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Do,this.f.kb=new Sr,this.sd=null}function gi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function cr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function St(g){return alert("todo:WebPSamplerProcessPlane"),g.T}function Qt(g,_){var j=g.T,U=_.ba.f.RGBA,Y=U.eb,Z=U.fb+g.ka*U.A,te=Ms[_.ba.S],ce=g.y,de=g.O,ye=g.f,Se=g.N,Pe=g.ea,Le=g.W,ke=_.cc,He=_.dc,Fe=_.Mc,Ne=_.Nc,Ee=g.ka,Oe=g.ka+g.T,qe=g.U,ze=qe+1>>1;for(Ee==0?te(ce,de,null,null,ye,Se,Pe,Le,ye,Se,Pe,Le,Y,Z,null,null,qe):(te(_.ec,_.fc,ce,de,ke,He,Fe,Ne,ye,Se,Pe,Le,Y,Z-U.A,Y,Z,qe),++j);Ee+2<Oe;Ee+=2)ke=ye,He=Se,Fe=Pe,Ne=Le,Se+=g.Rc,Le+=g.Rc,Z+=2*U.A,te(ce,(de+=2*g.fa)-g.fa,ce,de,ke,He,Fe,Ne,ye,Se,Pe,Le,Y,Z-U.A,Y,Z,qe);return de+=g.fa,g.j+Oe<g.o?(n(_.ec,_.fc,ce,de,qe),n(_.cc,_.dc,ye,Se,ze),n(_.Mc,_.Nc,Pe,Le,ze),j--):1&Oe||te(ce,de,null,null,ye,Se,Pe,Le,ye,Se,Pe,Le,Y,Z+U.A,null,null,qe),j}function _u(g,_,j){var U=g.F,Y=[g.J];if(U!=null){var Z=g.U,te=_.ba.S,ce=te==By||te==Uy;_=_.ba.f.RGBA;var de=[0],ye=g.ka;de[0]=g.T,g.Kb&&(ye==0?--de[0]:(--ye,Y[0]-=g.width),g.j+g.ka+g.T==g.o&&(de[0]=g.o-g.j-ye));var Se=_.eb;ye=_.fb+ye*_.A,g=mr(U,Y[0],g.width,Z,de,Se,ye+(ce?0:3),_.A),e(j==de),g&&$t(te)&&Fs(Se,ye,ce,Z,de,_.A)}return 0}function Rn(g){var _=g.ma,j=_.ba.S,U=11>j,Y=j==My||j==Oy||j==By||j==Wb||j==12||$t(j);if(_.memory=null,_.Ib=null,_.Jb=null,_.Nd=null,!qm(_.Oa,g,Y?11:12))return 0;if(Y&&$t(j)&&$e(),g.da)alert("todo:use_scaling");else{if(U){if(_.Ib=St,g.Kb){if(j=g.U+1>>1,_.memory=s(g.U+2*j),_.memory==null)return 0;_.ec=_.memory,_.fc=0,_.cc=_.ec,_.dc=_.fc+g.U,_.Mc=_.cc,_.Nc=_.dc+j,_.Ib=Qt,$e()}}else alert("todo:EmitYUV");Y&&(_.Jb=_u,U&&Te())}if(U&&!bE){for(g=0;256>g;++g)gR[g]=89858*(g-128)+Hy>>zy,xR[g]=-22014*(g-128)+Hy,vR[g]=-45773*(g-128),yR[g]=113618*(g-128)+Hy>>zy;for(g=Jm;g<Yb;++g)_=76283*(g-16)+Hy>>zy,wR[g-Jm]=ns(_,255),bR[g-Jm]=ns(_+8>>4,15);bE=1}return 1}function Ga(g){var _=g.ma,j=g.U,U=g.T;return e(!(1&g.ka)),0>=j||0>=U?0:(j=_.Ib(g,_),_.Jb!=null&&_.Jb(g,_,j),_.Dc+=j,1)}function Va(g){g.ma.memory=null}function gt(g,_,j,U){return be(g,8)!=47?0:(_[0]=be(g,14)+1,j[0]=be(g,14)+1,U[0]=be(g,1),be(g,3)!=0?0:!g.h)}function sa(g,_){if(4>g)return g+1;var j=g-2>>1;return(2+(1&g)<<j)+be(_,j)+1}function Ka(g,_){return 120<_?_-120:1<=(j=((j=rR[_-1])>>4)*g+(8-(15&j)))?j:1;var j}function Ri(g,_,j){var U=B(j),Y=g[_+=255&U].g-8;return 0<Y&&(ae(j,j.u+8),U=B(j),_+=g[_].value,_+=U&(1<<Y)-1),ae(j,j.u+g[_].g),g[_].value}function fn(g,_,j){return j.g+=g.g,j.value+=g.value<<_>>>0,e(8>=j.g),g.g}function sn(g,_,j){var U=g.xc;return e((_=U==0?0:g.vc[g.md*(j>>U)+(_>>U)])<g.Wb),g.Ya[_]}function rs(g,_,j,U){var Y=g.ab,Z=g.c*_,te=g.C;_=te+_;var ce=j,de=U;for(U=g.Ta,j=g.Ua;0<Y--;){var ye=g.gc[Y],Se=te,Pe=_,Le=ce,ke=de,He=(de=U,ce=j,ye.Ea);switch(e(Se<Pe),e(Pe<=ye.nc),ye.hc){case 2:jy(Le,ke,(Pe-Se)*He,de,ce);break;case 0:var Fe=Se,Ne=Pe,Ee=de,Oe=ce,qe=(Je=ye).Ea;Fe==0&&(Hb(Le,ke,null,null,1,Ee,Oe),Ue(Le,ke+1,0,0,qe-1,Ee,Oe+1),ke+=qe,Oe+=qe,++Fe);for(var ze=1<<Je.b,rt=ze-1,Ye=N(qe,Je.b),pt=Je.K,Je=Je.w+(Fe>>Je.b)*Ye;Fe<Ne;){var Kt=pt,Jt=Je,Ht=1;for(Gm(Le,ke,Ee,Oe-qe,1,Ee,Oe);Ht<qe;){var Ot=(Ht&~rt)+ze;Ot>qe&&(Ot=qe),(0,Xl[Kt[Jt++]>>8&15])(Le,ke+ +Ht,Ee,Oe+Ht-qe,Ot-Ht,Ee,Oe+Ht),Ht=Ot}ke+=qe,Oe+=qe,++Fe&rt||(Je+=Ye)}Pe!=ye.nc&&n(de,ce-He,de,ce+(Pe-Se-1)*He,He);break;case 1:for(He=Le,Ne=ke,qe=(Le=ye.Ea)-(Oe=Le&~(Ee=(ke=1<<ye.b)-1)),Fe=N(Le,ye.b),ze=ye.K,ye=ye.w+(Se>>ye.b)*Fe;Se<Pe;){for(rt=ze,Ye=ye,pt=new xe,Je=Ne+Oe,Kt=Ne+Le;Ne<Je;)Ze(rt[Ye++],pt),Tu(pt,He,Ne,ke,de,ce),Ne+=ke,ce+=ke;Ne<Kt&&(Ze(rt[Ye++],pt),Tu(pt,He,Ne,qe,de,ce),Ne+=qe,ce+=qe),++Se&Ee||(ye+=Fe)}break;case 3:if(Le==de&&ke==ce&&0<ye.b){for(Ne=de,Le=He=ce+(Pe-Se)*He-(Oe=(Pe-Se)*N(ye.Ea,ye.b)),ke=de,Ee=ce,Fe=[],Oe=(qe=Oe)-1;0<=Oe;--Oe)Fe[Oe]=ke[Ee+Oe];for(Oe=qe-1;0<=Oe;--Oe)Ne[Le+Oe]=Fe[Oe];Ls(ye,Se,Pe,de,He,de,ce)}else Ls(ye,Se,Pe,Le,ke,de,ce)}ce=U,de=j}de!=j&&n(U,j,ce,de,Z)}function _d(g,_){var j=g.V,U=g.Ba+g.c*g.C,Y=_-g.C;if(e(_<=g.l.o),e(16>=Y),0<Y){var Z=g.l,te=g.Ta,ce=g.Ua,de=Z.width;if(rs(g,Y,j,U),Y=ce=[ce],e((j=g.C)<(U=_)),e(Z.v<Z.va),U>Z.o&&(U=Z.o),j<Z.j){var ye=Z.j-j;j=Z.j,Y[0]+=ye*de}if(j>=U?j=0:(Y[0]+=4*Z.v,Z.ka=j-Z.j,Z.U=Z.va-Z.v,Z.T=U-j,j=1),j){if(ce=ce[0],11>(j=g.ca).S){var Se=j.f.RGBA,Pe=(U=j.S,Y=Z.U,Z=Z.T,ye=Se.eb,Se.A),Le=Z;for(Se=Se.fb+g.Ma*Se.A;0<Le--;){var ke=te,He=ce,Fe=Y,Ne=ye,Ee=Se;switch(U){case Dy:Mi(ke,He,Fe,Ne,Ee);break;case My:yi(ke,He,Fe,Ne,Ee);break;case $b:yi(ke,He,Fe,Ne,Ee),Fs(Ne,Ee,0,Fe,1,0);break;case hE:zo(ke,He,Fe,Ne,Ee);break;case Oy:Ut(ke,He,Fe,Ne,Ee,1);break;case Gb:Ut(ke,He,Fe,Ne,Ee,1),Fs(Ne,Ee,0,Fe,1,0);break;case By:Ut(ke,He,Fe,Ne,Ee,0);break;case Uy:Ut(ke,He,Fe,Ne,Ee,0),Fs(Ne,Ee,1,Fe,1,0);break;case Wb:Yl(ke,He,Fe,Ne,Ee);break;case Vb:Yl(ke,He,Fe,Ne,Ee),pr(Ne,Ee,Fe,1,0);break;case dE:Uo(ke,He,Fe,Ne,Ee);break;default:e(0)}ce+=de,Se+=Pe}g.Ma+=Z}else alert("todo:EmitRescaledRowsYUVA");e(g.Ma<=j.height)}}g.C=_,e(g.C<=g.i)}function Mo(g){var _;if(0<g.ua)return 0;for(_=0;_<g.Wb;++_){var j=g.Ya[_].G,U=g.Ya[_].H;if(0<j[1][U[1]+0].g||0<j[2][U[2]+0].g||0<j[3][U[3]+0].g)return 0}return 1}function aa(g,_,j,U,Y,Z){if(g.Z!=0){var te=g.qd,ce=g.rd;for(e(ec[g.Z]!=null);_<j;++_)ec[g.Z](te,ce,U,Y,U,Y,Z),te=U,ce=Y,Y+=Z;g.qd=te,g.rd=ce}}function oa(g,_){var j=g.l.ma,U=j.Z==0||j.Z==1?g.l.j:g.C;if(U=g.C<U?U:g.C,e(_<=g.l.o),_>U){var Y=g.l.width,Z=j.ca,te=j.tb+Y*U,ce=g.V,de=g.Ba+g.c*U,ye=g.gc;e(g.ab==1),e(ye[0].hc==3),Py(ye[0],U,_,ce,de,Z,te),aa(j,U,_,Z,te,Y)}g.C=g.Ma=_}function la(g,_,j,U,Y,Z,te){var ce=g.$/U,de=g.$%U,ye=g.m,Se=g.s,Pe=j+g.$,Le=Pe;Y=j+U*Y;var ke=j+U*Z,He=280+Se.ua,Fe=g.Pb?ce:16777216,Ne=0<Se.ua?Se.Wa:null,Ee=Se.wc,Oe=Pe<ke?sn(Se,de,ce):null;e(g.C<Z),e(ke<=Y);var qe=!1;e:for(;;){for(;qe||Pe<ke;){var ze=0;if(ce>=Fe){var rt=Pe-j;e((Fe=g).Pb),Fe.wd=Fe.m,Fe.xd=rt,0<Fe.s.ua&&ve(Fe.s.Wa,Fe.s.vb),Fe=ce+iR}if(de&Ee||(Oe=sn(Se,de,ce)),e(Oe!=null),Oe.Qb&&(_[Pe]=Oe.qb,qe=!0),!qe)if(J(ye),Oe.jc){ze=ye,rt=_;var Ye=Pe,pt=Oe.pd[B(ze)&Fn-1];e(Oe.jc),256>pt.g?(ae(ze,ze.u+pt.g),rt[Ye]=pt.value,ze=0):(ae(ze,ze.u+pt.g-256),e(256<=pt.value),ze=pt.value),ze==0&&(qe=!0)}else ze=Ri(Oe.G[0],Oe.H[0],ye);if(ye.h)break;if(qe||256>ze){if(!qe)if(Oe.nd)_[Pe]=(Oe.qb|ze<<8)>>>0;else{if(J(ye),qe=Ri(Oe.G[1],Oe.H[1],ye),J(ye),rt=Ri(Oe.G[2],Oe.H[2],ye),Ye=Ri(Oe.G[3],Oe.H[3],ye),ye.h)break;_[Pe]=(Ye<<24|qe<<16|ze<<8|rt)>>>0}if(qe=!1,++Pe,++de>=U&&(de=0,++ce,te!=null&&ce<=Z&&!(ce%16)&&te(g,ce),Ne!=null))for(;Le<Pe;)ze=_[Le++],Ne.X[(506832829*ze&4294967295)>>>Ne.Mb]=ze}else if(280>ze){if(ze=sa(ze-256,ye),rt=Ri(Oe.G[4],Oe.H[4],ye),J(ye),rt=Ka(U,rt=sa(rt,ye)),ye.h)break;if(Pe-j<rt||Y-Pe<ze)break e;for(Ye=0;Ye<ze;++Ye)_[Pe+Ye]=_[Pe+Ye-rt];for(Pe+=ze,de+=ze;de>=U;)de-=U,++ce,te!=null&&ce<=Z&&!(ce%16)&&te(g,ce);if(e(Pe<=Y),de&Ee&&(Oe=sn(Se,de,ce)),Ne!=null)for(;Le<Pe;)ze=_[Le++],Ne.X[(506832829*ze&4294967295)>>>Ne.Mb]=ze}else{if(!(ze<He))break e;for(qe=ze-280,e(Ne!=null);Le<Pe;)ze=_[Le++],Ne.X[(506832829*ze&4294967295)>>>Ne.Mb]=ze;ze=Pe,e(!(qe>>>(rt=Ne).Xa)),_[ze]=rt.X[qe],qe=!0}qe||e(ye.h==G(ye))}if(g.Pb&&ye.h&&Pe<Y)e(g.m.h),g.a=5,g.m=g.wd,g.$=g.xd,0<g.s.ua&&ve(g.s.vb,g.s.Wa);else{if(ye.h)break e;te!=null&&te(g,ce>Z?Z:ce),g.a=0,g.$=Pe-j}return 1}return g.a=3,0}function Xa(g){e(g!=null),g.vc=null,g.yc=null,g.Ya=null;var _=g.Wa;_!=null&&(_.X=null),g.vb=null,e(g!=null)}function Ps(){var g=new zb;return g==null?null:(g.a=0,g.xb=mE,ts("Predictor","VP8LPredictors"),ts("Predictor","VP8LPredictors_C"),ts("PredictorAdd","VP8LPredictorsAdd"),ts("PredictorAdd","VP8LPredictorsAdd_C"),jy=Ke,Tu=lt,Mi=Xe,yi=Mr,Yl=ft,Uo=Gn,zo=Vt,q.VP8LMapColor32b=qd,q.VP8LMapColor8b=Ly,g)}function Ya(g,_,j,U,Y){var Z=1,te=[g],ce=[_],de=U.m,ye=U.s,Se=null,Pe=0;e:for(;;){if(j)for(;Z&&be(de,1);){var Le=te,ke=ce,He=U,Fe=1,Ne=He.m,Ee=He.gc[He.ab],Oe=be(Ne,2);if(He.Oc&1<<Oe)Z=0;else{switch(He.Oc|=1<<Oe,Ee.hc=Oe,Ee.Ea=Le[0],Ee.nc=ke[0],Ee.K=[null],++He.ab,e(4>=He.ab),Oe){case 0:case 1:Ee.b=be(Ne,3)+2,Fe=Ya(N(Ee.Ea,Ee.b),N(Ee.nc,Ee.b),0,He,Ee.K),Ee.K=Ee.K[0];break;case 3:var qe,ze=be(Ne,8)+1,rt=16<ze?0:4<ze?1:2<ze?2:3;if(Le[0]=N(Ee.Ea,rt),Ee.b=rt,qe=Fe=Ya(ze,1,0,He,Ee.K)){var Ye,pt=ze,Je=Ee,Kt=1<<(8>>Je.b),Jt=s(Kt);if(Jt==null)qe=0;else{var Ht=Je.K[0],Ot=Je.w;for(Jt[0]=Je.K[0][0],Ye=1;Ye<1*pt;++Ye)Jt[Ye]=F(Ht[Ot+Ye],Jt[Ye-1]);for(;Ye<4*Kt;++Ye)Jt[Ye]=0;Je.K[0]=null,Je.K[0]=Jt,qe=1}}Fe=qe;break;case 2:break;default:e(0)}Z=Fe}}if(te=te[0],ce=ce[0],Z&&be(de,1)&&!(Z=1<=(Pe=be(de,4))&&11>=Pe)){U.a=3;break e}var ur;if(ur=Z)t:{var sr,Ct,on,Oi=U,ln=te,Bi=ce,Zt=Pe,ss=j,as=Oi.m,_n=Oi.s,Dn=[null],xi=1,Os=0,eo=nR[Zt];r:for(;;){if(ss&&be(as,1)){var Sn=be(as,3)+2,$o=N(ln,Sn),Ru=N(Bi,Sn),Kd=$o*Ru;if(!Ya($o,Ru,0,Oi,Dn))break r;for(Dn=Dn[0],_n.xc=Sn,sr=0;sr<Kd;++sr){var tc=Dn[sr]>>8&65535;Dn[sr]=tc,tc>=xi&&(xi=tc+1)}}if(as.h)break r;for(Ct=0;5>Ct;++Ct){var Br=fE[Ct];!Ct&&0<Zt&&(Br+=1<<Zt),Os<Br&&(Os=Br)}var Qb=a(xi*eo,R),SE=xi,NE=a(SE,T);if(NE==null)var Wy=null;else e(65536>=SE),Wy=NE;var Zm=s(Os);if(Wy==null||Zm==null||Qb==null){Oi.a=1;break r}var $y=Qb;for(sr=on=0;sr<xi;++sr){var fa=Wy[sr],Xd=fa.G,Yd=fa.H,EE=0,Gy=1,kE=0;for(Ct=0;5>Ct;++Ct){Br=fE[Ct],Xd[Ct]=$y,Yd[Ct]=on,!Ct&&0<Zt&&(Br+=1<<Zt);i:{var Vy,Jb=Br,Ky=Oi,eg=Zm,SR=$y,NR=on,Zb=0,rc=Ky.m,ER=be(rc,1);if(i(eg,0,0,Jb),ER){var kR=be(rc,1)+1,CR=be(rc,1),CE=be(rc,CR==0?1:8);eg[CE]=1,kR==2&&(eg[CE=be(rc,8)]=1);var Xy=1}else{var TE=s(19),jE=be(rc,4)+4;if(19<jE){Ky.a=3;var Yy=0;break i}for(Vy=0;Vy<jE;++Vy)TE[tR[Vy]]=be(rc,3);var e2=void 0,tg=void 0,PE=Ky,TR=TE,Qy=Jb,LE=eg,t2=0,nc=PE.m,IE=8,RE=a(128,R);n:for(;z(RE,0,7,TR,19);){if(be(nc,1)){var jR=2+2*be(nc,3);if((e2=2+be(nc,jR))>Qy)break n}else e2=Qy;for(tg=0;tg<Qy&&e2--;){J(nc);var FE=RE[0+(127&B(nc))];ae(nc,nc.u+FE.g);var Qd=FE.value;if(16>Qd)LE[tg++]=Qd,Qd!=0&&(IE=Qd);else{var PR=Qd==16,DE=Qd-16,LR=ZI[DE],ME=be(nc,JI[DE])+LR;if(tg+ME>Qy)break n;for(var IR=PR?IE:0;0<ME--;)LE[tg++]=IR}}t2=1;break n}t2||(PE.a=3),Xy=t2}(Xy=Xy&&!rc.h)&&(Zb=z(SR,NR,8,eg,Jb)),Xy&&Zb!=0?Yy=Zb:(Ky.a=3,Yy=0)}if(Yy==0)break r;if(Gy&&eR[Ct]==1&&(Gy=$y[on].g==0),EE+=$y[on].g,on+=Yy,3>=Ct){var rg,r2=Zm[0];for(rg=1;rg<Br;++rg)Zm[rg]>r2&&(r2=Zm[rg]);kE+=r2}}if(fa.nd=Gy,fa.Qb=0,Gy&&(fa.qb=(Xd[3][Yd[3]+0].value<<24|Xd[1][Yd[1]+0].value<<16|Xd[2][Yd[2]+0].value)>>>0,EE==0&&256>Xd[0][Yd[0]+0].value&&(fa.Qb=1,fa.qb+=Xd[0][Yd[0]+0].value<<8)),fa.jc=!fa.Qb&&6>kE,fa.jc){var Jy,Go=fa;for(Jy=0;Jy<Fn;++Jy){var ic=Jy,sc=Go.pd[ic],Zy=Go.G[0][Go.H[0]+ic];256<=Zy.value?(sc.g=Zy.g+256,sc.value=Zy.value):(sc.g=0,sc.value=0,ic>>=fn(Zy,8,sc),ic>>=fn(Go.G[1][Go.H[1]+ic],16,sc),ic>>=fn(Go.G[2][Go.H[2]+ic],0,sc),fn(Go.G[3][Go.H[3]+ic],24,sc))}}}_n.vc=Dn,_n.Wb=xi,_n.Ya=Wy,_n.yc=Qb,ur=1;break t}ur=0}if(!(Z=ur)){U.a=3;break e}if(0<Pe){if(ye.ua=1<<Pe,!O(ye.Wa,Pe)){U.a=1,Z=0;break e}}else ye.ua=0;var n2=U,OE=te,RR=ce,i2=n2.s,s2=i2.xc;if(n2.c=OE,n2.i=RR,i2.md=N(OE,s2),i2.wc=s2==0?-1:(1<<s2)-1,j){U.xb=hR;break e}if((Se=s(te*ce))==null){U.a=1,Z=0;break e}Z=(Z=la(U,Se,0,te,ce,ce,null))&&!de.h;break e}return Z?(Y!=null?Y[0]=Se:(e(Se==null),e(j)),U.$=0,j||Xa(ye)):Xa(ye),Z}function Su(g,_){var j=g.c*g.i,U=j+_+16*_;return e(g.c<=_),g.V=s(U),g.V==null?(g.Ta=null,g.Ua=0,g.a=1,0):(g.Ta=g.V,g.Ua=g.Ba+j+_,1)}function Sd(g,_){var j=g.C,U=_-j,Y=g.V,Z=g.Ba+g.c*j;for(e(_<=g.l.o);0<U;){var te=16<U?16:U,ce=g.l.ma,de=g.l.width,ye=de*te,Se=ce.ca,Pe=ce.tb+de*j,Le=g.Ta,ke=g.Ua;rs(g,te,Y,Z),Gr(Le,ke,Se,Pe,ye),aa(ce,j,j+te,Se,Pe,de),U-=te,Y+=te*g.c,j+=te}e(j==_),g.C=g.Ma=_}function Nd(){this.ub=this.yd=this.td=this.Rb=0}function Ed(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function kd(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function uy(){this.Yb=function(){var g=[];return function _(j,U,Y){for(var Z=Y[U],te=0;te<Z&&(j.push(Y.length>U+1?[]:0),!(Y.length<U+1));te++)_(j[te],U+1,Y)}(g,0,[3,11]),g}()}function vb(){this.jb=s(3),this.Wc=o([4,8],uy),this.Xc=o([4,17],uy)}function xb(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Cd(){this.ld=this.La=this.dd=this.tc=0}function hy(){this.Na=this.la=0}function wb(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function km(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function bb(){this.uc=this.M=this.Nb=0,this.wa=Array(new Cd),this.Y=0,this.ya=Array(new km),this.aa=0,this.l=new Td}function dy(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ab(){this.cb=this.a=0,this.sc="",this.m=new ge,this.Od=new Nd,this.Kc=new Ed,this.ed=new xb,this.Qa=new kd,this.Ic=this.$c=this.Aa=0,this.D=new bb,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,ge),this.ia=0,this.pb=a(4,wb),this.Pa=new vb,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new dy),this.Hd=0,this.rb=Array(new hy),this.sb=0,this.wa=Array(new Cd),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new km),this.L=this.aa=0,this.gd=o([4,2],Cd),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Td(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function _b(){var g=new Ab;return g!=null&&(g.a=0,g.sc="OK",g.cb=0,g.Xb=0,Qm||(Qm=my)),g}function Wr(g,_,j){return g.a==0&&(g.a=_,g.sc=j,g.cb=0),0}function fy(g,_,j){return 3<=j&&g[_+0]==157&&g[_+1]==1&&g[_+2]==42}function py(g,_){if(g==null)return 0;if(g.a=0,g.sc="OK",_==null)return Wr(g,2,"null VP8Io passed to VP8GetHeaders()");var j=_.data,U=_.w,Y=_.ha;if(4>Y)return Wr(g,7,"Truncated header.");var Z=j[U+0]|j[U+1]<<8|j[U+2]<<16,te=g.Od;if(te.Rb=!(1&Z),te.td=Z>>1&7,te.yd=Z>>4&1,te.ub=Z>>5,3<te.td)return Wr(g,3,"Incorrect keyframe parameters.");if(!te.yd)return Wr(g,4,"Frame not displayable.");U+=3,Y-=3;var ce=g.Kc;if(te.Rb){if(7>Y)return Wr(g,7,"cannot parse picture header");if(!fy(j,U,Y))return Wr(g,3,"Bad code word");ce.c=16383&(j[U+4]<<8|j[U+3]),ce.Td=j[U+4]>>6,ce.i=16383&(j[U+6]<<8|j[U+5]),ce.Ud=j[U+6]>>6,U+=7,Y-=7,g.za=ce.c+15>>4,g.Ub=ce.i+15>>4,_.width=ce.c,_.height=ce.i,_.Da=0,_.j=0,_.v=0,_.va=_.width,_.o=_.height,_.da=0,_.ib=_.width,_.hb=_.height,_.U=_.width,_.T=_.height,i((Z=g.Pa).jb,0,255,Z.jb.length),e((Z=g.Qa)!=null),Z.Cb=0,Z.Bb=0,Z.Fb=1,i(Z.Zb,0,0,Z.Zb.length),i(Z.Lb,0,0,Z.Lb)}if(te.ub>Y)return Wr(g,7,"bad partition length");K(Z=g.m,j,U,te.ub),U+=te.ub,Y-=te.ub,te.Rb&&(ce.Ld=I(Z),ce.Kd=I(Z)),ce=g.Qa;var de,ye=g.Pa;if(e(Z!=null),e(ce!=null),ce.Cb=I(Z),ce.Cb){if(ce.Bb=I(Z),I(Z)){for(ce.Fb=I(Z),de=0;4>de;++de)ce.Zb[de]=I(Z)?le(Z,7):0;for(de=0;4>de;++de)ce.Lb[de]=I(Z)?le(Z,6):0}if(ce.Bb)for(de=0;3>de;++de)ye.jb[de]=I(Z)?he(Z,8):255}else ce.Bb=0;if(Z.Ka)return Wr(g,3,"cannot parse segment header");if((ce=g.ed).zd=I(Z),ce.Tb=he(Z,6),ce.wb=he(Z,3),ce.Pc=I(Z),ce.Pc&&I(Z)){for(ye=0;4>ye;++ye)I(Z)&&(ce.vd[ye]=le(Z,6));for(ye=0;4>ye;++ye)I(Z)&&(ce.od[ye]=le(Z,6))}if(g.L=ce.Tb==0?0:ce.zd?1:2,Z.Ka)return Wr(g,3,"cannot parse filter header");var Se=Y;if(Y=de=U,U=de+Se,ce=Se,g.Xb=(1<<he(g.m,2))-1,Se<3*(ye=g.Xb))j=7;else{for(de+=3*ye,ce-=3*ye,Se=0;Se<ye;++Se){var Pe=j[Y+0]|j[Y+1]<<8|j[Y+2]<<16;Pe>ce&&(Pe=ce),K(g.Jc[+Se],j,de,Pe),de+=Pe,ce-=Pe,Y+=3}K(g.Jc[+ye],j,de,ce),j=de<U?0:5}if(j!=0)return Wr(g,j,"cannot parse partitions");for(j=he(de=g.m,7),Y=I(de)?le(de,4):0,U=I(de)?le(de,4):0,ce=I(de)?le(de,4):0,ye=I(de)?le(de,4):0,de=I(de)?le(de,4):0,Se=g.Qa,Pe=0;4>Pe;++Pe){if(Se.Cb){var Le=Se.Zb[Pe];Se.Fb||(Le+=j)}else{if(0<Pe){g.pb[Pe]=g.pb[0];continue}Le=j}var ke=g.pb[Pe];ke.Sc[0]=Kb[ns(Le+Y,127)],ke.Sc[1]=Xb[ns(Le+0,127)],ke.Eb[0]=2*Kb[ns(Le+U,127)],ke.Eb[1]=101581*Xb[ns(Le+ce,127)]>>16,8>ke.Eb[1]&&(ke.Eb[1]=8),ke.Qc[0]=Kb[ns(Le+ye,117)],ke.Qc[1]=Xb[ns(Le+de,127)],ke.lc=Le+de}if(!te.Rb)return Wr(g,4,"Not a key frame.");for(I(Z),te=g.Pa,j=0;4>j;++j){for(Y=0;8>Y;++Y)for(U=0;3>U;++U)for(ce=0;11>ce;++ce)ye=ne(Z,cR[j][Y][U][ce])?he(Z,8):oR[j][Y][U][ce],te.Wc[j][Y].Yb[U][ce]=ye;for(Y=0;17>Y;++Y)te.Xc[j][Y]=te.Wc[j][uR[Y]]}return g.kc=I(Z),g.kc&&(g.Bd=he(Z,8)),g.cb=1}function my(g,_,j,U,Y,Z,te){var ce=_[Y].Yb[j];for(j=0;16>Y;++Y){if(!ne(g,ce[j+0]))return Y;for(;!ne(g,ce[j+1]);)if(ce=_[++Y].Yb[0],j=0,Y==16)return 16;var de=_[Y+1].Yb;if(ne(g,ce[j+2])){var ye=g,Se=0;if(ne(ye,(Le=ce)[(Pe=j)+3]))if(ne(ye,Le[Pe+6])){for(ce=0,Pe=2*(Se=ne(ye,Le[Pe+8]))+(Le=ne(ye,Le[Pe+9+Se])),Se=0,Le=sR[Pe];Le[ce];++ce)Se+=Se+ne(ye,Le[ce]);Se+=3+(8<<Pe)}else ne(ye,Le[Pe+7])?(Se=7+2*ne(ye,165),Se+=ne(ye,145)):Se=5+ne(ye,159);else Se=ne(ye,Le[Pe+4])?3+ne(ye,Le[Pe+5]):2;ce=de[2]}else Se=1,ce=de[1];de=te+aR[Y],0>(ye=g).b&&L(ye);var Pe,Le=ye.b,ke=(Pe=ye.Ca>>1)-(ye.I>>Le)>>31;--ye.b,ye.Ca+=ke,ye.Ca|=1,ye.I-=(Pe+1&ke)<<Le,Z[de]=((Se^ke)-ke)*U[(0<Y)+0]}return 16}function Cm(g){var _=g.rb[g.sb-1];_.la=0,_.Na=0,i(g.zc,0,0,g.zc.length),g.ja=0}function Sb(g,_){if(g==null)return 0;if(_==null)return Wr(g,2,"NULL VP8Io parameter in VP8Decode().");if(!g.cb&&!py(g,_))return 0;if(e(g.cb),_.ac==null||_.ac(_)){_.ob&&(g.L=0);var j=qy[g.L];if(g.L==2?(g.yb=0,g.zb=0):(g.yb=_.v-j>>4,g.zb=_.j-j>>4,0>g.yb&&(g.yb=0),0>g.zb&&(g.zb=0)),g.Va=_.o+15+j>>4,g.Hb=_.va+15+j>>4,g.Hb>g.za&&(g.Hb=g.za),g.Va>g.Ub&&(g.Va=g.Ub),0<g.L){var U=g.ed;for(j=0;4>j;++j){var Y;if(g.Qa.Cb){var Z=g.Qa.Lb[j];g.Qa.Fb||(Z+=U.Tb)}else Z=U.Tb;for(Y=0;1>=Y;++Y){var te=g.gd[j][Y],ce=Z;if(U.Pc&&(ce+=U.vd[0],Y&&(ce+=U.od[0])),0<(ce=0>ce?0:63<ce?63:ce)){var de=ce;0<U.wb&&(de=4<U.wb?de>>2:de>>1)>9-U.wb&&(de=9-U.wb),1>de&&(de=1),te.dd=de,te.tc=2*ce+de,te.ld=40<=ce?2:15<=ce?1:0}else te.tc=0;te.La=Y}}}j=0}else Wr(g,6,"Frame setup failed"),j=g.a;if(j=j==0){if(j){g.$c=0,0<g.Aa||(g.Ic=_R);e:{j=g.Ic,U=4*(de=g.za);var ye=32*de,Se=de+1,Pe=0<g.L?de*(0<g.Aa?2:1):0,Le=(g.Aa==2?2:1)*de;if((te=U+832+(Y=3*(16*j+qy[g.L])/2*ye)+(Z=g.Fa!=null&&0<g.Fa.length?g.Kc.c*g.Kc.i:0))!=te)j=0;else{if(te>g.Vb){if(g.Vb=0,g.Ec=s(te),g.Fc=0,g.Ec==null){j=Wr(g,1,"no memory during frame initialization.");break e}g.Vb=te}te=g.Ec,ce=g.Fc,g.Ac=te,g.Bc=ce,ce+=U,g.Gd=a(ye,dy),g.Hd=0,g.rb=a(Se+1,hy),g.sb=1,g.wa=Pe?a(Pe,Cd):null,g.Y=0,g.D.Nb=0,g.D.wa=g.wa,g.D.Y=g.Y,0<g.Aa&&(g.D.Y+=de),e(!0),g.oc=te,g.pc=ce,ce+=832,g.ya=a(Le,km),g.aa=0,g.D.ya=g.ya,g.D.aa=g.aa,g.Aa==2&&(g.D.aa+=de),g.R=16*de,g.B=8*de,de=(ye=qy[g.L])*g.R,ye=ye/2*g.B,g.sa=te,g.ta=ce+de,g.qa=g.sa,g.ra=g.ta+16*j*g.R+ye,g.Ha=g.qa,g.Ia=g.ra+8*j*g.B+ye,g.$c=0,ce+=Y,g.mb=Z?te:null,g.nb=Z?ce:null,e(ce+Z<=g.Fc+g.Vb),Cm(g),i(g.Ac,g.Bc,0,U),j=1}}if(j){if(_.ka=0,_.y=g.sa,_.O=g.ta,_.f=g.qa,_.N=g.ra,_.ea=g.Ha,_.Vd=g.Ia,_.fa=g.R,_.Rc=g.B,_.F=null,_.J=0,!Ry){for(j=-255;255>=j;++j)pn[255+j]=0>j?-j:j;for(j=-1020;1020>=j;++j)qo[1020+j]=-128>j?-128:127<j?127:j;for(j=-112;112>=j;++j)Ym[112+j]=-16>j?-16:15<j?15:j;for(j=-255;510>=j;++j)Vd[255+j]=0>j?0:255<j?255:j;Ry=1}Wd=kb,Ho=Nb,Vm=yy,vi=Eb,Is=vy,$r=gy,$d=Rm,Iy=ku,Km=Ub,ju=Fm,Pu=Bb,Ql=Fd,Lu=Dm,Gd=ky,Iu=Ey,Jl=Ja,Xm=Bo,Rs=Ob,da[0]=Qa,da[1]=Cb,da[2]=Lb,da[3]=Ib,da[4]=by,da[5]=Id,da[6]=Ay,da[7]=Pm,da[8]=Fb,da[9]=Rb,Zl[0]=xy,Zl[1]=jb,Zl[2]=Oo,Zl[3]=Pd,Zl[4]=Vn,Zl[5]=Pb,Zl[6]=wy,Wo[0]=Gl,Wo[1]=Tb,Wo[2]=Db,Wo[3]=Lm,Wo[4]=Eu,Wo[5]=Mb,Wo[6]=Im,j=1}else j=0}j&&(j=function(ke,He){for(ke.M=0;ke.M<ke.Va;++ke.M){var Fe,Ne=ke.Jc[ke.M&ke.Xb],Ee=ke.m,Oe=ke;for(Fe=0;Fe<Oe.za;++Fe){var qe=Ee,ze=Oe,rt=ze.Ac,Ye=ze.Bc+4*Fe,pt=ze.zc,Je=ze.ya[ze.aa+Fe];if(ze.Qa.Bb?Je.$b=ne(qe,ze.Pa.jb[0])?2+ne(qe,ze.Pa.jb[2]):ne(qe,ze.Pa.jb[1]):Je.$b=0,ze.kc&&(Je.Ad=ne(qe,ze.Bd)),Je.Za=!ne(qe,145)+0,Je.Za){var Kt=Je.Ob,Jt=0;for(ze=0;4>ze;++ze){var Ht,Ot=pt[0+ze];for(Ht=0;4>Ht;++Ht){Ot=lR[rt[Ye+Ht]][Ot];for(var ur=pE[ne(qe,Ot[0])];0<ur;)ur=pE[2*ur+ne(qe,Ot[ur])];Ot=-ur,rt[Ye+Ht]=Ot}n(Kt,Jt,rt,Ye,4),Jt+=4,pt[0+ze]=Ot}}else Ot=ne(qe,156)?ne(qe,128)?1:3:ne(qe,163)?2:0,Je.Ob[0]=Ot,i(rt,Ye,Ot,4),i(pt,0,Ot,4);Je.Dd=ne(qe,142)?ne(qe,114)?ne(qe,183)?1:3:2:0}if(Oe.m.Ka)return Wr(ke,7,"Premature end-of-partition0 encountered.");for(;ke.ja<ke.za;++ke.ja){if(Oe=Ne,qe=(Ee=ke).rb[Ee.sb-1],rt=Ee.rb[Ee.sb+Ee.ja],Fe=Ee.ya[Ee.aa+Ee.ja],Ye=Ee.kc?Fe.Ad:0)qe.la=rt.la=0,Fe.Za||(qe.Na=rt.Na=0),Fe.Hc=0,Fe.Gc=0,Fe.ia=0;else{var sr,Ct;if(qe=rt,rt=Oe,Ye=Ee.Pa.Xc,pt=Ee.ya[Ee.aa+Ee.ja],Je=Ee.pb[pt.$b],ze=pt.ad,Kt=0,Jt=Ee.rb[Ee.sb-1],Ot=Ht=0,i(ze,Kt,0,384),pt.Za)var on=0,Oi=Ye[3];else{ur=s(16);var ln=qe.Na+Jt.Na;if(ln=Qm(rt,Ye[1],ln,Je.Eb,0,ur,0),qe.Na=Jt.Na=(0<ln)+0,1<ln)Wd(ur,0,ze,Kt);else{var Bi=ur[0]+3>>3;for(ur=0;256>ur;ur+=16)ze[Kt+ur]=Bi}on=1,Oi=Ye[0]}var Zt=15&qe.la,ss=15&Jt.la;for(ur=0;4>ur;++ur){var as=1&ss;for(Bi=Ct=0;4>Bi;++Bi)Zt=Zt>>1|(as=(ln=Qm(rt,Oi,ln=as+(1&Zt),Je.Sc,on,ze,Kt))>on)<<7,Ct=Ct<<2|(3<ln?3:1<ln?2:ze[Kt+0]!=0),Kt+=16;Zt>>=4,ss=ss>>1|as<<7,Ht=(Ht<<8|Ct)>>>0}for(Oi=Zt,on=ss>>4,sr=0;4>sr;sr+=2){for(Ct=0,Zt=qe.la>>4+sr,ss=Jt.la>>4+sr,ur=0;2>ur;++ur){for(as=1&ss,Bi=0;2>Bi;++Bi)ln=as+(1&Zt),Zt=Zt>>1|(as=0<(ln=Qm(rt,Ye[2],ln,Je.Qc,0,ze,Kt)))<<3,Ct=Ct<<2|(3<ln?3:1<ln?2:ze[Kt+0]!=0),Kt+=16;Zt>>=2,ss=ss>>1|as<<5}Ot|=Ct<<4*sr,Oi|=Zt<<4<<sr,on|=(240&ss)<<sr}qe.la=Oi,Jt.la=on,pt.Hc=Ht,pt.Gc=Ot,pt.ia=43690&Ot?0:Je.ia,Ye=!(Ht|Ot)}if(0<Ee.L&&(Ee.wa[Ee.Y+Ee.ja]=Ee.gd[Fe.$b][Fe.Za],Ee.wa[Ee.Y+Ee.ja].La|=!Ye),Oe.Ka)return Wr(ke,7,"Premature end-of-file encountered.")}if(Cm(ke),Ee=He,Oe=1,Fe=(Ne=ke).D,qe=0<Ne.L&&Ne.M>=Ne.zb&&Ne.M<=Ne.Va,Ne.Aa==0)e:{if(Fe.M=Ne.M,Fe.uc=qe,Hm(Ne,Fe),Oe=1,Fe=(Ct=Ne.D).Nb,qe=(Ot=qy[Ne.L])*Ne.R,rt=Ot/2*Ne.B,ur=16*Fe*Ne.R,Bi=8*Fe*Ne.B,Ye=Ne.sa,pt=Ne.ta-qe+ur,Je=Ne.qa,ze=Ne.ra-rt+Bi,Kt=Ne.Ha,Jt=Ne.Ia-rt+Bi,ss=(Zt=Ct.M)==0,Ht=Zt>=Ne.Va-1,Ne.Aa==2&&Hm(Ne,Ct),Ct.uc)for(as=(ln=Ne).D.M,e(ln.D.uc),Ct=ln.yb;Ct<ln.Hb;++Ct){on=Ct,Oi=as;var _n=(Dn=(Br=ln).D).Nb;sr=Br.R;var Dn=Dn.wa[Dn.Y+on],xi=Br.sa,Os=Br.ta+16*_n*sr+16*on,eo=Dn.dd,Sn=Dn.tc;if(Sn!=0)if(e(3<=Sn),Br.L==1)0<on&&Jl(xi,Os,sr,Sn+4),Dn.La&&Rs(xi,Os,sr,Sn),0<Oi&&Iu(xi,Os,sr,Sn+4),Dn.La&&Xm(xi,Os,sr,Sn);else{var $o=Br.B,Ru=Br.qa,Kd=Br.ra+8*_n*$o+8*on,tc=Br.Ha,Br=Br.Ia+8*_n*$o+8*on;_n=Dn.ld,0<on&&(Iy(xi,Os,sr,Sn+4,eo,_n),ju(Ru,Kd,tc,Br,$o,Sn+4,eo,_n)),Dn.La&&(Ql(xi,Os,sr,Sn,eo,_n),Gd(Ru,Kd,tc,Br,$o,Sn,eo,_n)),0<Oi&&($d(xi,Os,sr,Sn+4,eo,_n),Km(Ru,Kd,tc,Br,$o,Sn+4,eo,_n)),Dn.La&&(Pu(xi,Os,sr,Sn,eo,_n),Lu(Ru,Kd,tc,Br,$o,Sn,eo,_n))}}if(Ne.ia&&alert("todo:DitherRow"),Ee.put!=null){if(Ct=16*Zt,Zt=16*(Zt+1),ss?(Ee.y=Ne.sa,Ee.O=Ne.ta+ur,Ee.f=Ne.qa,Ee.N=Ne.ra+Bi,Ee.ea=Ne.Ha,Ee.W=Ne.Ia+Bi):(Ct-=Ot,Ee.y=Ye,Ee.O=pt,Ee.f=Je,Ee.N=ze,Ee.ea=Kt,Ee.W=Jt),Ht||(Zt-=Ot),Zt>Ee.o&&(Zt=Ee.o),Ee.F=null,Ee.J=null,Ne.Fa!=null&&0<Ne.Fa.length&&Ct<Zt&&(Ee.J=Um(Ne,Ee,Ct,Zt-Ct),Ee.F=Ne.mb,Ee.F==null&&Ee.F.length==0)){Oe=Wr(Ne,3,"Could not decode alpha data.");break e}Ct<Ee.j&&(Ot=Ee.j-Ct,Ct=Ee.j,e(!(1&Ot)),Ee.O+=Ne.R*Ot,Ee.N+=Ne.B*(Ot>>1),Ee.W+=Ne.B*(Ot>>1),Ee.F!=null&&(Ee.J+=Ee.width*Ot)),Ct<Zt&&(Ee.O+=Ee.v,Ee.N+=Ee.v>>1,Ee.W+=Ee.v>>1,Ee.F!=null&&(Ee.J+=Ee.v),Ee.ka=Ct-Ee.j,Ee.U=Ee.va-Ee.v,Ee.T=Zt-Ct,Oe=Ee.put(Ee))}Fe+1!=Ne.Ic||Ht||(n(Ne.sa,Ne.ta-qe,Ye,pt+16*Ne.R,qe),n(Ne.qa,Ne.ra-rt,Je,ze+8*Ne.B,rt),n(Ne.Ha,Ne.Ia-rt,Kt,Jt+8*Ne.B,rt))}if(!Oe)return Wr(ke,6,"Output aborted.")}return 1}(g,_)),_.bc!=null&&_.bc(_),j&=1}return j?(g.cb=0,j):0}function ca(g,_,j,U,Y){Y=g[_+j+32*U]+(Y>>3),g[_+j+32*U]=-256&Y?0>Y?0:255:Y}function jd(g,_,j,U,Y,Z){ca(g,_,0,j,U+Y),ca(g,_,1,j,U+Z),ca(g,_,2,j,U-Z),ca(g,_,3,j,U-Y)}function Fi(g){return(20091*g>>16)+g}function Tm(g,_,j,U){var Y,Z=0,te=s(16);for(Y=0;4>Y;++Y){var ce=g[_+0]+g[_+8],de=g[_+0]-g[_+8],ye=(35468*g[_+4]>>16)-Fi(g[_+12]),Se=Fi(g[_+4])+(35468*g[_+12]>>16);te[Z+0]=ce+Se,te[Z+1]=de+ye,te[Z+2]=de-ye,te[Z+3]=ce-Se,Z+=4,_++}for(Y=Z=0;4>Y;++Y)ce=(g=te[Z+0]+4)+te[Z+8],de=g-te[Z+8],ye=(35468*te[Z+4]>>16)-Fi(te[Z+12]),ca(j,U,0,0,ce+(Se=Fi(te[Z+4])+(35468*te[Z+12]>>16))),ca(j,U,1,0,de+ye),ca(j,U,2,0,de-ye),ca(j,U,3,0,ce-Se),Z++,U+=32}function gy(g,_,j,U){var Y=g[_+0]+4,Z=35468*g[_+4]>>16,te=Fi(g[_+4]),ce=35468*g[_+1]>>16;jd(j,U,0,Y+te,g=Fi(g[_+1]),ce),jd(j,U,1,Y+Z,g,ce),jd(j,U,2,Y-Z,g,ce),jd(j,U,3,Y-te,g,ce)}function Nb(g,_,j,U,Y){Tm(g,_,j,U),Y&&Tm(g,_+16,j,U+4)}function yy(g,_,j,U){Ho(g,_+0,j,U,1),Ho(g,_+32,j,U+128,1)}function Eb(g,_,j,U){var Y;for(g=g[_+0]+4,Y=0;4>Y;++Y)for(_=0;4>_;++_)ca(j,U,_,Y,g)}function vy(g,_,j,U){g[_+0]&&vi(g,_+0,j,U),g[_+16]&&vi(g,_+16,j,U+4),g[_+32]&&vi(g,_+32,j,U+128),g[_+48]&&vi(g,_+48,j,U+128+4)}function kb(g,_,j,U){var Y,Z=s(16);for(Y=0;4>Y;++Y){var te=g[_+0+Y]+g[_+12+Y],ce=g[_+4+Y]+g[_+8+Y],de=g[_+4+Y]-g[_+8+Y],ye=g[_+0+Y]-g[_+12+Y];Z[0+Y]=te+ce,Z[8+Y]=te-ce,Z[4+Y]=ye+de,Z[12+Y]=ye-de}for(Y=0;4>Y;++Y)te=(g=Z[0+4*Y]+3)+Z[3+4*Y],ce=Z[1+4*Y]+Z[2+4*Y],de=Z[1+4*Y]-Z[2+4*Y],ye=g-Z[3+4*Y],j[U+0]=te+ce>>3,j[U+16]=ye+de>>3,j[U+32]=te-ce>>3,j[U+48]=ye-de>>3,U+=64}function jm(g,_,j){var U,Y=_-32,Z=is,te=255-g[Y-1];for(U=0;U<j;++U){var ce,de=Z,ye=te+g[_-1];for(ce=0;ce<j;++ce)g[_+ce]=de[ye+g[Y+ce]];_+=32}}function Cb(g,_){jm(g,_,4)}function Tb(g,_){jm(g,_,8)}function jb(g,_){jm(g,_,16)}function Oo(g,_){var j;for(j=0;16>j;++j)n(g,_+32*j,g,_-32,16)}function Pd(g,_){var j;for(j=16;0<j;--j)i(g,_,g[_-1],16),_+=32}function Ld(g,_,j){var U;for(U=0;16>U;++U)i(_,j+32*U,g,16)}function xy(g,_){var j,U=16;for(j=0;16>j;++j)U+=g[_-1+32*j]+g[_+j-32];Ld(U>>5,g,_)}function Vn(g,_){var j,U=8;for(j=0;16>j;++j)U+=g[_-1+32*j];Ld(U>>4,g,_)}function Pb(g,_){var j,U=8;for(j=0;16>j;++j)U+=g[_+j-32];Ld(U>>4,g,_)}function wy(g,_){Ld(128,g,_)}function _t(g,_,j){return g+2*_+j+2>>2}function Lb(g,_){var j,U=_-32;for(U=new Uint8Array([_t(g[U-1],g[U+0],g[U+1]),_t(g[U+0],g[U+1],g[U+2]),_t(g[U+1],g[U+2],g[U+3]),_t(g[U+2],g[U+3],g[U+4])]),j=0;4>j;++j)n(g,_+32*j,U,0,U.length)}function Ib(g,_){var j=g[_-1],U=g[_-1+32],Y=g[_-1+64],Z=g[_-1+96];ue(g,_+0,16843009*_t(g[_-1-32],j,U)),ue(g,_+32,16843009*_t(j,U,Y)),ue(g,_+64,16843009*_t(U,Y,Z)),ue(g,_+96,16843009*_t(Y,Z,Z))}function Qa(g,_){var j,U=4;for(j=0;4>j;++j)U+=g[_+j-32]+g[_-1+32*j];for(U>>=3,j=0;4>j;++j)i(g,_+32*j,U,4)}function by(g,_){var j=g[_-1+0],U=g[_-1+32],Y=g[_-1+64],Z=g[_-1-32],te=g[_+0-32],ce=g[_+1-32],de=g[_+2-32],ye=g[_+3-32];g[_+0+96]=_t(U,Y,g[_-1+96]),g[_+1+96]=g[_+0+64]=_t(j,U,Y),g[_+2+96]=g[_+1+64]=g[_+0+32]=_t(Z,j,U),g[_+3+96]=g[_+2+64]=g[_+1+32]=g[_+0+0]=_t(te,Z,j),g[_+3+64]=g[_+2+32]=g[_+1+0]=_t(ce,te,Z),g[_+3+32]=g[_+2+0]=_t(de,ce,te),g[_+3+0]=_t(ye,de,ce)}function Ay(g,_){var j=g[_+1-32],U=g[_+2-32],Y=g[_+3-32],Z=g[_+4-32],te=g[_+5-32],ce=g[_+6-32],de=g[_+7-32];g[_+0+0]=_t(g[_+0-32],j,U),g[_+1+0]=g[_+0+32]=_t(j,U,Y),g[_+2+0]=g[_+1+32]=g[_+0+64]=_t(U,Y,Z),g[_+3+0]=g[_+2+32]=g[_+1+64]=g[_+0+96]=_t(Y,Z,te),g[_+3+32]=g[_+2+64]=g[_+1+96]=_t(Z,te,ce),g[_+3+64]=g[_+2+96]=_t(te,ce,de),g[_+3+96]=_t(ce,de,de)}function Id(g,_){var j=g[_-1+0],U=g[_-1+32],Y=g[_-1+64],Z=g[_-1-32],te=g[_+0-32],ce=g[_+1-32],de=g[_+2-32],ye=g[_+3-32];g[_+0+0]=g[_+1+64]=Z+te+1>>1,g[_+1+0]=g[_+2+64]=te+ce+1>>1,g[_+2+0]=g[_+3+64]=ce+de+1>>1,g[_+3+0]=de+ye+1>>1,g[_+0+96]=_t(Y,U,j),g[_+0+64]=_t(U,j,Z),g[_+0+32]=g[_+1+96]=_t(j,Z,te),g[_+1+32]=g[_+2+96]=_t(Z,te,ce),g[_+2+32]=g[_+3+96]=_t(te,ce,de),g[_+3+32]=_t(ce,de,ye)}function Pm(g,_){var j=g[_+0-32],U=g[_+1-32],Y=g[_+2-32],Z=g[_+3-32],te=g[_+4-32],ce=g[_+5-32],de=g[_+6-32],ye=g[_+7-32];g[_+0+0]=j+U+1>>1,g[_+1+0]=g[_+0+64]=U+Y+1>>1,g[_+2+0]=g[_+1+64]=Y+Z+1>>1,g[_+3+0]=g[_+2+64]=Z+te+1>>1,g[_+0+32]=_t(j,U,Y),g[_+1+32]=g[_+0+96]=_t(U,Y,Z),g[_+2+32]=g[_+1+96]=_t(Y,Z,te),g[_+3+32]=g[_+2+96]=_t(Z,te,ce),g[_+3+64]=_t(te,ce,de),g[_+3+96]=_t(ce,de,ye)}function Rb(g,_){var j=g[_-1+0],U=g[_-1+32],Y=g[_-1+64],Z=g[_-1+96];g[_+0+0]=j+U+1>>1,g[_+2+0]=g[_+0+32]=U+Y+1>>1,g[_+2+32]=g[_+0+64]=Y+Z+1>>1,g[_+1+0]=_t(j,U,Y),g[_+3+0]=g[_+1+32]=_t(U,Y,Z),g[_+3+32]=g[_+1+64]=_t(Y,Z,Z),g[_+3+64]=g[_+2+64]=g[_+0+96]=g[_+1+96]=g[_+2+96]=g[_+3+96]=Z}function Fb(g,_){var j=g[_-1+0],U=g[_-1+32],Y=g[_-1+64],Z=g[_-1+96],te=g[_-1-32],ce=g[_+0-32],de=g[_+1-32],ye=g[_+2-32];g[_+0+0]=g[_+2+32]=j+te+1>>1,g[_+0+32]=g[_+2+64]=U+j+1>>1,g[_+0+64]=g[_+2+96]=Y+U+1>>1,g[_+0+96]=Z+Y+1>>1,g[_+3+0]=_t(ce,de,ye),g[_+2+0]=_t(te,ce,de),g[_+1+0]=g[_+3+32]=_t(j,te,ce),g[_+1+32]=g[_+3+64]=_t(U,j,te),g[_+1+64]=g[_+3+96]=_t(Y,U,j),g[_+1+96]=_t(Z,Y,U)}function Db(g,_){var j;for(j=0;8>j;++j)n(g,_+32*j,g,_-32,8)}function Lm(g,_){var j;for(j=0;8>j;++j)i(g,_,g[_-1],8),_+=32}function Nu(g,_,j){var U;for(U=0;8>U;++U)i(_,j+32*U,g,8)}function Gl(g,_){var j,U=8;for(j=0;8>j;++j)U+=g[_+j-32]+g[_-1+32*j];Nu(U>>4,g,_)}function Mb(g,_){var j,U=4;for(j=0;8>j;++j)U+=g[_+j-32];Nu(U>>3,g,_)}function Eu(g,_){var j,U=4;for(j=0;8>j;++j)U+=g[_-1+32*j];Nu(U>>3,g,_)}function Im(g,_){Nu(128,g,_)}function Rd(g,_,j){var U=g[_-j],Y=g[_+0],Z=3*(Y-U)+qb[1020+g[_-2*j]-g[_+j]],te=Fy[112+(Z+4>>3)];g[_-j]=is[255+U+Fy[112+(Z+3>>3)]],g[_+0]=is[255+Y-te]}function _y(g,_,j,U){var Y=g[_+0],Z=g[_+j];return Ds[255+g[_-2*j]-g[_-j]]>U||Ds[255+Z-Y]>U}function Sy(g,_,j,U){return 4*Ds[255+g[_-j]-g[_+0]]+Ds[255+g[_-2*j]-g[_+j]]<=U}function Ny(g,_,j,U,Y){var Z=g[_-3*j],te=g[_-2*j],ce=g[_-j],de=g[_+0],ye=g[_+j],Se=g[_+2*j],Pe=g[_+3*j];return 4*Ds[255+ce-de]+Ds[255+te-ye]>U?0:Ds[255+g[_-4*j]-Z]<=Y&&Ds[255+Z-te]<=Y&&Ds[255+te-ce]<=Y&&Ds[255+Pe-Se]<=Y&&Ds[255+Se-ye]<=Y&&Ds[255+ye-de]<=Y}function Ey(g,_,j,U){var Y=2*U+1;for(U=0;16>U;++U)Sy(g,_+U,j,Y)&&Rd(g,_+U,j)}function Ja(g,_,j,U){var Y=2*U+1;for(U=0;16>U;++U)Sy(g,_+U*j,1,Y)&&Rd(g,_+U*j,1)}function Bo(g,_,j,U){var Y;for(Y=3;0<Y;--Y)Ey(g,_+=4*j,j,U)}function Ob(g,_,j,U){var Y;for(Y=3;0<Y;--Y)Ja(g,_+=4,j,U)}function Vl(g,_,j,U,Y,Z,te,ce){for(Z=2*Z+1;0<Y--;){if(Ny(g,_,j,Z,te))if(_y(g,_,j,ce))Rd(g,_,j);else{var de=g,ye=_,Se=j,Pe=de[ye-2*Se],Le=de[ye-Se],ke=de[ye+0],He=de[ye+Se],Fe=de[ye+2*Se],Ne=27*(Oe=qb[1020+3*(ke-Le)+qb[1020+Pe-He]])+63>>7,Ee=18*Oe+63>>7,Oe=9*Oe+63>>7;de[ye-3*Se]=is[255+de[ye-3*Se]+Oe],de[ye-2*Se]=is[255+Pe+Ee],de[ye-Se]=is[255+Le+Ne],de[ye+0]=is[255+ke-Ne],de[ye+Se]=is[255+He-Ee],de[ye+2*Se]=is[255+Fe-Oe]}_+=U}}function ua(g,_,j,U,Y,Z,te,ce){for(Z=2*Z+1;0<Y--;){if(Ny(g,_,j,Z,te))if(_y(g,_,j,ce))Rd(g,_,j);else{var de=g,ye=_,Se=j,Pe=de[ye-Se],Le=de[ye+0],ke=de[ye+Se],He=Fy[112+((Fe=3*(Le-Pe))+4>>3)],Fe=Fy[112+(Fe+3>>3)],Ne=He+1>>1;de[ye-2*Se]=is[255+de[ye-2*Se]+Ne],de[ye-Se]=is[255+Pe+Fe],de[ye+0]=is[255+Le-He],de[ye+Se]=is[255+ke-Ne]}_+=U}}function Rm(g,_,j,U,Y,Z){Vl(g,_,j,1,16,U,Y,Z)}function ku(g,_,j,U,Y,Z){Vl(g,_,1,j,16,U,Y,Z)}function Bb(g,_,j,U,Y,Z){var te;for(te=3;0<te;--te)ua(g,_+=4*j,j,1,16,U,Y,Z)}function Fd(g,_,j,U,Y,Z){var te;for(te=3;0<te;--te)ua(g,_+=4,1,j,16,U,Y,Z)}function Ub(g,_,j,U,Y,Z,te,ce){Vl(g,_,Y,1,8,Z,te,ce),Vl(j,U,Y,1,8,Z,te,ce)}function Fm(g,_,j,U,Y,Z,te,ce){Vl(g,_,1,Y,8,Z,te,ce),Vl(j,U,1,Y,8,Z,te,ce)}function Dm(g,_,j,U,Y,Z,te,ce){ua(g,_+4*Y,Y,1,8,Z,te,ce),ua(j,U+4*Y,Y,1,8,Z,te,ce)}function ky(g,_,j,U,Y,Z,te,ce){ua(g,_+4,1,Y,8,Z,te,ce),ua(j,U+4,1,Y,8,Z,te,ce)}function Dd(){this.ba=new Ii,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new cr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Mm(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Om(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Cy(){this.ua=0,this.Wa=new P,this.vb=new P,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new T,this.yc=new R}function zb(){this.xb=this.a=0,this.l=new Td,this.ca=new Ii,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new C,this.Pb=0,this.wd=new C,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Cy,this.ab=0,this.gc=a(4,Om),this.Oc=0}function Md(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Td,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Cu(g,_,j,U,Y,Z,te){for(g=g==null?0:g[_+0],_=0;_<te;++_)Y[Z+_]=g+j[U+_]&255,g=Y[Z+_]}function Bm(g,_,j,U,Y,Z,te){var ce;if(g==null)Cu(null,null,j,U,Y,Z,te);else for(ce=0;ce<te;++ce)Y[Z+ce]=g[_+ce]+j[U+ce]&255}function Kl(g,_,j,U,Y,Z,te){if(g==null)Cu(null,null,j,U,Y,Z,te);else{var ce,de=g[_+0],ye=de,Se=de;for(ce=0;ce<te;++ce)ye=Se+(de=g[_+ce])-ye,Se=j[U+ce]+(-256&ye?0>ye?0:255:ye)&255,ye=de,Y[Z+ce]=Se}}function Um(g,_,j,U){var Y=_.width,Z=_.o;if(e(g!=null&&_!=null),0>j||0>=U||j+U>Z)return null;if(!g.Cc){if(g.ga==null){var te;if(g.ga=new Md,(te=g.ga==null)||(te=_.width*_.o,e(g.Gb.length==0),g.Gb=s(te),g.Uc=0,g.Gb==null?te=0:(g.mb=g.Gb,g.nb=g.Uc,g.rc=null,te=1),te=!te),!te){te=g.ga;var ce=g.Fa,de=g.P,ye=g.qc,Se=g.mb,Pe=g.nb,Le=de+1,ke=ye-1,He=te.l;if(e(ce!=null&&Se!=null&&_!=null),ec[0]=null,ec[1]=Cu,ec[2]=Bm,ec[3]=Kl,te.ca=Se,te.tb=Pe,te.c=_.width,te.i=_.height,e(0<te.c&&0<te.i),1>=ye)_=0;else if(te.$a=ce[de+0]>>0&3,te.Z=ce[de+0]>>2&3,te.Lc=ce[de+0]>>4&3,de=ce[de+0]>>6&3,0>te.$a||1<te.$a||4<=te.Z||1<te.Lc||de)_=0;else if(He.put=Ga,He.ac=Rn,He.bc=Va,He.ma=te,He.width=_.width,He.height=_.height,He.Da=_.Da,He.v=_.v,He.va=_.va,He.j=_.j,He.o=_.o,te.$a)e:{e(te.$a==1),_=Ps();t:for(;;){if(_==null){_=0;break e}if(e(te!=null),te.mc=_,_.c=te.c,_.i=te.i,_.l=te.l,_.l.ma=te,_.l.width=te.c,_.l.height=te.i,_.a=0,me(_.m,ce,Le,ke),!Ya(te.c,te.i,1,_,null)||(_.ab==1&&_.gc[0].hc==3&&Mo(_.s)?(te.ic=1,ce=_.c*_.i,_.Ta=null,_.Ua=0,_.V=s(ce),_.Ba=0,_.V==null?(_.a=1,_=0):_=1):(te.ic=0,_=Su(_,te.c)),!_))break t;_=1;break e}te.mc=null,_=0}else _=ke>=te.c*te.i;te=!_}if(te)return null;g.ga.Lc!=1?g.Ga=0:U=Z-j}e(g.ga!=null),e(j+U<=Z);e:{if(_=(ce=g.ga).c,Z=ce.l.o,ce.$a==0){if(Le=g.rc,ke=g.Vc,He=g.Fa,de=g.P+1+j*_,ye=g.mb,Se=g.nb+j*_,e(de<=g.P+g.qc),ce.Z!=0)for(e(ec[ce.Z]!=null),te=0;te<U;++te)ec[ce.Z](Le,ke,He,de,ye,Se,_),Le=ye,ke=Se,Se+=_,de+=_;else for(te=0;te<U;++te)n(ye,Se,He,de,_),Le=ye,ke=Se,Se+=_,de+=_;g.rc=Le,g.Vc=ke}else{if(e(ce.mc!=null),_=j+U,e((te=ce.mc)!=null),e(_<=te.i),te.C>=_)_=1;else if(ce.ic||Te(),ce.ic){ce=te.V,Le=te.Ba,ke=te.c;var Fe=te.i,Ne=(He=1,de=te.$/ke,ye=te.$%ke,Se=te.m,Pe=te.s,te.$),Ee=ke*Fe,Oe=ke*_,qe=Pe.wc,ze=Ne<Oe?sn(Pe,ye,de):null;e(Ne<=Ee),e(_<=Fe),e(Mo(Pe));t:for(;;){for(;!Se.h&&Ne<Oe;){if(ye&qe||(ze=sn(Pe,ye,de)),e(ze!=null),J(Se),256>(Fe=Ri(ze.G[0],ze.H[0],Se)))ce[Le+Ne]=Fe,++Ne,++ye>=ke&&(ye=0,++de<=_&&!(de%16)&&oa(te,de));else{if(!(280>Fe)){He=0;break t}Fe=sa(Fe-256,Se);var rt,Ye=Ri(ze.G[4],ze.H[4],Se);if(J(Se),!(Ne>=(Ye=Ka(ke,Ye=sa(Ye,Se)))&&Ee-Ne>=Fe)){He=0;break t}for(rt=0;rt<Fe;++rt)ce[Le+Ne+rt]=ce[Le+Ne+rt-Ye];for(Ne+=Fe,ye+=Fe;ye>=ke;)ye-=ke,++de<=_&&!(de%16)&&oa(te,de);Ne<Oe&&ye&qe&&(ze=sn(Pe,ye,de))}e(Se.h==G(Se))}oa(te,de>_?_:de);break t}!He||Se.h&&Ne<Ee?(He=0,te.a=Se.h?5:3):te.$=Ne,_=He}else _=la(te,te.V,te.Ba,te.c,te.i,_,Sd);if(!_){U=0;break e}}j+U>=Z&&(g.Cc=1),U=1}if(!U)return null;if(g.Cc&&((U=g.ga)!=null&&(U.mc=null),g.ga=null,0<g.Ga))return alert("todo:WebPDequantizeLevels"),null}return g.nb+j*Y}function E(g,_,j,U,Y,Z){for(;0<Y--;){var te,ce=g,de=_+(j?1:0),ye=g,Se=_+(j?0:3);for(te=0;te<U;++te){var Pe=ye[Se+4*te];Pe!=255&&(Pe*=32897,ce[de+4*te+0]=ce[de+4*te+0]*Pe>>23,ce[de+4*te+1]=ce[de+4*te+1]*Pe>>23,ce[de+4*te+2]=ce[de+4*te+2]*Pe>>23)}_+=Z}}function Q(g,_,j,U,Y){for(;0<U--;){var Z;for(Z=0;Z<j;++Z){var te=g[_+2*Z+0],ce=15&(ye=g[_+2*Z+1]),de=4369*ce,ye=(240&ye|ye>>4)*de>>16;g[_+2*Z+0]=(240&te|te>>4)*de>>16&240|(15&te|te<<4)*de>>16>>4&15,g[_+2*Z+1]=240&ye|ce}_+=Y}}function we(g,_,j,U,Y,Z,te,ce){var de,ye,Se=255;for(ye=0;ye<Y;++ye){for(de=0;de<U;++de){var Pe=g[_+de];Z[te+4*de]=Pe,Se&=Pe}_+=j,te+=ce}return Se!=255}function _e(g,_,j,U,Y){var Z;for(Z=0;Z<Y;++Z)j[U+Z]=g[_+Z]>>8}function Te(){Fs=E,pr=Q,mr=we,Gr=_e}function Me(g,_,j){q[g]=function(U,Y,Z,te,ce,de,ye,Se,Pe,Le,ke,He,Fe,Ne,Ee,Oe,qe){var ze,rt=qe-1>>1,Ye=ce[de+0]|ye[Se+0]<<16,pt=Pe[Le+0]|ke[He+0]<<16;e(U!=null);var Je=3*Ye+pt+131074>>2;for(_(U[Y+0],255&Je,Je>>16,Fe,Ne),Z!=null&&(Je=3*pt+Ye+131074>>2,_(Z[te+0],255&Je,Je>>16,Ee,Oe)),ze=1;ze<=rt;++ze){var Kt=ce[de+ze]|ye[Se+ze]<<16,Jt=Pe[Le+ze]|ke[He+ze]<<16,Ht=Ye+Kt+pt+Jt+524296,Ot=Ht+2*(Kt+pt)>>3;Je=Ot+Ye>>1,Ye=(Ht=Ht+2*(Ye+Jt)>>3)+Kt>>1,_(U[Y+2*ze-1],255&Je,Je>>16,Fe,Ne+(2*ze-1)*j),_(U[Y+2*ze-0],255&Ye,Ye>>16,Fe,Ne+(2*ze-0)*j),Z!=null&&(Je=Ht+pt>>1,Ye=Ot+Jt>>1,_(Z[te+2*ze-1],255&Je,Je>>16,Ee,Oe+(2*ze-1)*j),_(Z[te+2*ze+0],255&Ye,Ye>>16,Ee,Oe+(2*ze+0)*j)),Ye=Kt,pt=Jt}1&qe||(Je=3*Ye+pt+131074>>2,_(U[Y+qe-1],255&Je,Je>>16,Fe,Ne+(qe-1)*j),Z!=null&&(Je=3*pt+Ye+131074>>2,_(Z[te+qe-1],255&Je,Je>>16,Ee,Oe+(qe-1)*j)))}}function $e(){Ms[Dy]=dR,Ms[My]=gE,Ms[hE]=fR,Ms[Oy]=yE,Ms[By]=vE,Ms[Wb]=xE,Ms[dE]=pR,Ms[$b]=gE,Ms[Gb]=yE,Ms[Uy]=vE,Ms[Vb]=xE}function et(g){return g&~mR?0>g?0:255:g>>wE}function ht(g,_){return et((19077*g>>8)+(26149*_>>8)-14234)}function kt(g,_,j){return et((19077*g>>8)-(6419*_>>8)-(13320*j>>8)+8708)}function Nt(g,_){return et((19077*g>>8)+(33050*_>>8)-17685)}function zt(g,_,j,U,Y){U[Y+0]=ht(g,j),U[Y+1]=kt(g,_,j),U[Y+2]=Nt(g,_)}function jr(g,_,j,U,Y){U[Y+0]=Nt(g,_),U[Y+1]=kt(g,_,j),U[Y+2]=ht(g,j)}function Or(g,_,j,U,Y){var Z=kt(g,_,j);_=Z<<3&224|Nt(g,_)>>3,U[Y+0]=248&ht(g,j)|Z>>5,U[Y+1]=_}function an(g,_,j,U,Y){var Z=240&Nt(g,_)|15;U[Y+0]=240&ht(g,j)|kt(g,_,j)>>4,U[Y+1]=Z}function Kn(g,_,j,U,Y){U[Y+0]=255,zt(g,_,j,U,Y+1)}function An(g,_,j,U,Y){jr(g,_,j,U,Y),U[Y+3]=255}function ha(g,_,j,U,Y){zt(g,_,j,U,Y),U[Y+3]=255}function ns(g,_){return 0>g?0:g>_?_:g}function Za(g,_,j){q[g]=function(U,Y,Z,te,ce,de,ye,Se,Pe){for(var Le=Se+(-2&Pe)*j;Se!=Le;)_(U[Y+0],Z[te+0],ce[de+0],ye,Se),_(U[Y+1],Z[te+0],ce[de+0],ye,Se+j),Y+=2,++te,++de,Se+=2*j;1&Pe&&_(U[Y+0],Z[te+0],ce[de+0],ye,Se)}}function Ty(g,_,j){return j==0?g==0?_==0?6:5:_==0?4:0:j}function zm(g,_,j,U,Y){switch(g>>>30){case 3:Ho(_,j,U,Y,0);break;case 2:$r(_,j,U,Y);break;case 1:vi(_,j,U,Y)}}function Hm(g,_){var j,U,Y=_.M,Z=_.Nb,te=g.oc,ce=g.pc+40,de=g.oc,ye=g.pc+584,Se=g.oc,Pe=g.pc+600;for(j=0;16>j;++j)te[ce+32*j-1]=129;for(j=0;8>j;++j)de[ye+32*j-1]=129,Se[Pe+32*j-1]=129;for(0<Y?te[ce-1-32]=de[ye-1-32]=Se[Pe-1-32]=129:(i(te,ce-32-1,127,21),i(de,ye-32-1,127,9),i(Se,Pe-32-1,127,9)),U=0;U<g.za;++U){var Le=_.ya[_.aa+U];if(0<U){for(j=-1;16>j;++j)n(te,ce+32*j-4,te,ce+32*j+12,4);for(j=-1;8>j;++j)n(de,ye+32*j-4,de,ye+32*j+4,4),n(Se,Pe+32*j-4,Se,Pe+32*j+4,4)}var ke=g.Gd,He=g.Hd+U,Fe=Le.ad,Ne=Le.Hc;if(0<Y&&(n(te,ce-32,ke[He].y,0,16),n(de,ye-32,ke[He].f,0,8),n(Se,Pe-32,ke[He].ea,0,8)),Le.Za){var Ee=te,Oe=ce-32+16;for(0<Y&&(U>=g.za-1?i(Ee,Oe,ke[He].y[15],4):n(Ee,Oe,ke[He+1].y,0,4)),j=0;4>j;j++)Ee[Oe+128+j]=Ee[Oe+256+j]=Ee[Oe+384+j]=Ee[Oe+0+j];for(j=0;16>j;++j,Ne<<=2)Ee=te,Oe=ce+AE[j],da[Le.Ob[j]](Ee,Oe),zm(Ne,Fe,16*+j,Ee,Oe)}else if(Ee=Ty(U,Y,Le.Ob[0]),Zl[Ee](te,ce),Ne!=0)for(j=0;16>j;++j,Ne<<=2)zm(Ne,Fe,16*+j,te,ce+AE[j]);for(j=Le.Gc,Ee=Ty(U,Y,Le.Dd),Wo[Ee](de,ye),Wo[Ee](Se,Pe),Ne=Fe,Ee=de,Oe=ye,255&(Le=j>>0)&&(170&Le?Vm(Ne,256,Ee,Oe):Is(Ne,256,Ee,Oe)),Le=Se,Ne=Pe,255&(j>>=8)&&(170&j?Vm(Fe,320,Le,Ne):Is(Fe,320,Le,Ne)),Y<g.Ub-1&&(n(ke[He].y,0,te,ce+480,16),n(ke[He].f,0,de,ye+224,8),n(ke[He].ea,0,Se,Pe+224,8)),j=8*Z*g.B,ke=g.sa,He=g.ta+16*U+16*Z*g.R,Fe=g.qa,Le=g.ra+8*U+j,Ne=g.Ha,Ee=g.Ia+8*U+j,j=0;16>j;++j)n(ke,He+j*g.R,te,ce+32*j,16);for(j=0;8>j;++j)n(Fe,Le+j*g.B,de,ye+32*j,8),n(Ne,Ee+j*g.B,Se,Pe+32*j,8)}}function Od(g,_,j,U,Y,Z,te,ce,de){var ye=[0],Se=[0],Pe=0,Le=de!=null?de.kd:0,ke=de??new Mm;if(g==null||12>j)return 7;ke.data=g,ke.w=_,ke.ha=j,_=[_],j=[j],ke.gb=[ke.gb];e:{var He=_,Fe=j,Ne=ke.gb;if(e(g!=null),e(Fe!=null),e(Ne!=null),Ne[0]=0,12<=Fe[0]&&!t(g,He[0],"RIFF")){if(t(g,He[0]+8,"WEBP")){Ne=3;break e}var Ee=Ae(g,He[0]+4);if(12>Ee||4294967286<Ee){Ne=3;break e}if(Le&&Ee>Fe[0]-8){Ne=7;break e}Ne[0]=Ee,He[0]+=12,Fe[0]-=12}Ne=0}if(Ne!=0)return Ne;for(Ee=0<ke.gb[0],j=j[0];;){e:{var Oe=g;Fe=_,Ne=j;var qe=ye,ze=Se,rt=He=[0];if((Je=Pe=[Pe])[0]=0,8>Ne[0])Ne=7;else{if(!t(Oe,Fe[0],"VP8X")){if(Ae(Oe,Fe[0]+4)!=10){Ne=3;break e}if(18>Ne[0]){Ne=7;break e}var Ye=Ae(Oe,Fe[0]+8),pt=1+ie(Oe,Fe[0]+12);if(2147483648<=pt*(Oe=1+ie(Oe,Fe[0]+15))){Ne=3;break e}rt!=null&&(rt[0]=Ye),qe!=null&&(qe[0]=pt),ze!=null&&(ze[0]=Oe),Fe[0]+=18,Ne[0]-=18,Je[0]=1}Ne=0}}if(Pe=Pe[0],He=He[0],Ne!=0)return Ne;if(Fe=!!(2&He),!Ee&&Pe)return 3;if(Z!=null&&(Z[0]=!!(16&He)),te!=null&&(te[0]=Fe),ce!=null&&(ce[0]=0),te=ye[0],He=Se[0],Pe&&Fe&&de==null){Ne=0;break}if(4>j){Ne=7;break}if(Ee&&Pe||!Ee&&!Pe&&!t(g,_[0],"ALPH")){j=[j],ke.na=[ke.na],ke.P=[ke.P],ke.Sa=[ke.Sa];e:{Ye=g,Ne=_,Ee=j;var Je=ke.gb;qe=ke.na,ze=ke.P,rt=ke.Sa,pt=22,e(Ye!=null),e(Ee!=null),Oe=Ne[0];var Kt=Ee[0];for(e(qe!=null),e(rt!=null),qe[0]=null,ze[0]=null,rt[0]=0;;){if(Ne[0]=Oe,Ee[0]=Kt,8>Kt){Ne=7;break e}var Jt=Ae(Ye,Oe+4);if(4294967286<Jt){Ne=3;break e}var Ht=8+Jt+1&-2;if(pt+=Ht,0<Je&&pt>Je){Ne=3;break e}if(!t(Ye,Oe,"VP8 ")||!t(Ye,Oe,"VP8L")){Ne=0;break e}if(Kt[0]<Ht){Ne=7;break e}t(Ye,Oe,"ALPH")||(qe[0]=Ye,ze[0]=Oe+8,rt[0]=Jt),Oe+=Ht,Kt-=Ht}}if(j=j[0],ke.na=ke.na[0],ke.P=ke.P[0],ke.Sa=ke.Sa[0],Ne!=0)break}j=[j],ke.Ja=[ke.Ja],ke.xa=[ke.xa];e:if(Je=g,Ne=_,Ee=j,qe=ke.gb[0],ze=ke.Ja,rt=ke.xa,Ye=Ne[0],Oe=!t(Je,Ye,"VP8 "),pt=!t(Je,Ye,"VP8L"),e(Je!=null),e(Ee!=null),e(ze!=null),e(rt!=null),8>Ee[0])Ne=7;else{if(Oe||pt){if(Je=Ae(Je,Ye+4),12<=qe&&Je>qe-12){Ne=3;break e}if(Le&&Je>Ee[0]-8){Ne=7;break e}ze[0]=Je,Ne[0]+=8,Ee[0]-=8,rt[0]=pt}else rt[0]=5<=Ee[0]&&Je[Ye+0]==47&&!(Je[Ye+4]>>5),ze[0]=Ee[0];Ne=0}if(j=j[0],ke.Ja=ke.Ja[0],ke.xa=ke.xa[0],_=_[0],Ne!=0)break;if(4294967286<ke.Ja)return 3;if(ce==null||Fe||(ce[0]=ke.xa?2:1),te=[te],He=[He],ke.xa){if(5>j){Ne=7;break}ce=te,Le=He,Fe=Z,g==null||5>j?g=0:5<=j&&g[_+0]==47&&!(g[_+4]>>5)?(Ee=[0],Je=[0],qe=[0],me(ze=new C,g,_,j),gt(ze,Ee,Je,qe)?(ce!=null&&(ce[0]=Ee[0]),Le!=null&&(Le[0]=Je[0]),Fe!=null&&(Fe[0]=qe[0]),g=1):g=0):g=0}else{if(10>j){Ne=7;break}ce=He,g==null||10>j||!fy(g,_+3,j-3)?g=0:(Le=g[_+0]|g[_+1]<<8|g[_+2]<<16,Fe=16383&(g[_+7]<<8|g[_+6]),g=16383&(g[_+9]<<8|g[_+8]),1&Le||3<(Le>>1&7)||!(Le>>4&1)||Le>>5>=ke.Ja||!Fe||!g?g=0:(te&&(te[0]=Fe),ce&&(ce[0]=g),g=1))}if(!g||(te=te[0],He=He[0],Pe&&(ye[0]!=te||Se[0]!=He)))return 3;de!=null&&(de[0]=ke,de.offset=_-de.w,e(4294967286>_-de.w),e(de.offset==de.ha-j));break}return Ne==0||Ne==7&&Pe&&de==null?(Z!=null&&(Z[0]|=ke.na!=null&&0<ke.na.length),U!=null&&(U[0]=te),Y!=null&&(Y[0]=He),0):Ne}function qm(g,_,j){var U=_.width,Y=_.height,Z=0,te=0,ce=U,de=Y;if(_.Da=g!=null&&0<g.Da,_.Da&&(ce=g.cd,de=g.bd,Z=g.v,te=g.j,11>j||(Z&=-2,te&=-2),0>Z||0>te||0>=ce||0>=de||Z+ce>U||te+de>Y))return 0;if(_.v=Z,_.j=te,_.va=Z+ce,_.o=te+de,_.U=ce,_.T=de,_.da=g!=null&&0<g.da,_.da){if(!S(ce,de,j=[g.ib],Z=[g.hb]))return 0;_.ib=j[0],_.hb=Z[0]}return _.ob=g!=null&&g.ob,_.Kb=g==null||!g.Sd,_.da&&(_.ob=_.ib<3*U/4&&_.hb<3*Y/4,_.Kb=0),1}function Wm(g){if(g==null)return 2;if(11>g.S){var _=g.f.RGBA;_.fb+=(g.height-1)*_.A,_.A=-_.A}else _=g.f.kb,g=g.height,_.O+=(g-1)*_.fa,_.fa=-_.fa,_.N+=(g-1>>1)*_.Ab,_.Ab=-_.Ab,_.W+=(g-1>>1)*_.Db,_.Db=-_.Db,_.F!=null&&(_.J+=(g-1)*_.lb,_.lb=-_.lb);return 0}function Bd(g,_,j,U){if(U==null||0>=g||0>=_)return 2;if(j!=null){if(j.Da){var Y=j.cd,Z=j.bd,te=-2&j.v,ce=-2&j.j;if(0>te||0>ce||0>=Y||0>=Z||te+Y>g||ce+Z>_)return 2;g=Y,_=Z}if(j.da){if(!S(g,_,Y=[j.ib],Z=[j.hb]))return 2;g=Y[0],_=Z[0]}}U.width=g,U.height=_;e:{var de=U.width,ye=U.height;if(g=U.S,0>=de||0>=ye||!(g>=Dy&&13>g))g=2;else{if(0>=U.Rd&&U.sd==null){te=Z=Y=_=0;var Se=(ce=de*_E[g])*ye;if(11>g||(Z=(ye+1)/2*(_=(de+1)/2),g==12&&(te=(Y=de)*ye)),(ye=s(Se+2*Z+te))==null){g=1;break e}U.sd=ye,11>g?((de=U.f.RGBA).eb=ye,de.fb=0,de.A=ce,de.size=Se):((de=U.f.kb).y=ye,de.O=0,de.fa=ce,de.Fd=Se,de.f=ye,de.N=0+Se,de.Ab=_,de.Cd=Z,de.ea=ye,de.W=0+Se+Z,de.Db=_,de.Ed=Z,g==12&&(de.F=ye,de.J=0+Se+2*Z),de.Tc=te,de.lb=Y)}if(_=1,Y=U.S,Z=U.width,te=U.height,Y>=Dy&&13>Y)if(11>Y)g=U.f.RGBA,_&=(ce=Math.abs(g.A))*(te-1)+Z<=g.size,_&=ce>=Z*_E[Y],_&=g.eb!=null;else{g=U.f.kb,ce=(Z+1)/2,Se=(te+1)/2,de=Math.abs(g.fa),ye=Math.abs(g.Ab);var Pe=Math.abs(g.Db),Le=Math.abs(g.lb),ke=Le*(te-1)+Z;_&=de*(te-1)+Z<=g.Fd,_&=ye*(Se-1)+ce<=g.Cd,_=(_&=Pe*(Se-1)+ce<=g.Ed)&de>=Z&ye>=ce&Pe>=ce,_&=g.y!=null,_&=g.f!=null,_&=g.ea!=null,Y==12&&(_&=Le>=Z,_&=ke<=g.Tc,_&=g.F!=null)}else _=0;g=_?0:2}}return g!=0||j!=null&&j.fd&&(g=Wm(U)),g}var Fn=64,Ud=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],zd=24,Hd=32,$m=8,Di=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];oe("Predictor0","PredictorAdd0"),q.Predictor0=function(){return 4278190080},q.Predictor1=function(g){return g},q.Predictor2=function(g,_,j){return _[j+0]},q.Predictor3=function(g,_,j){return _[j+1]},q.Predictor4=function(g,_,j){return _[j-1]},q.Predictor5=function(g,_,j){return fe(fe(g,_[j+1]),_[j+0])},q.Predictor6=function(g,_,j){return fe(g,_[j-1])},q.Predictor7=function(g,_,j){return fe(g,_[j+0])},q.Predictor8=function(g,_,j){return fe(_[j-1],_[j+0])},q.Predictor9=function(g,_,j){return fe(_[j+0],_[j+1])},q.Predictor10=function(g,_,j){return fe(fe(g,_[j-1]),fe(_[j+0],_[j+1]))},q.Predictor11=function(g,_,j){var U=_[j+0];return 0>=Ie(U>>24&255,g>>24&255,(_=_[j-1])>>24&255)+Ie(U>>16&255,g>>16&255,_>>16&255)+Ie(U>>8&255,g>>8&255,_>>8&255)+Ie(255&U,255&g,255&_)?U:g},q.Predictor12=function(g,_,j){var U=_[j+0];return(Ce((g>>24&255)+(U>>24&255)-((_=_[j-1])>>24&255))<<24|Ce((g>>16&255)+(U>>16&255)-(_>>16&255))<<16|Ce((g>>8&255)+(U>>8&255)-(_>>8&255))<<8|Ce((255&g)+(255&U)-(255&_)))>>>0},q.Predictor13=function(g,_,j){var U=_[j-1];return(Re((g=fe(g,_[j+0]))>>24&255,U>>24&255)<<24|Re(g>>16&255,U>>16&255)<<16|Re(g>>8&255,U>>8&255)<<8|Re(g>>0&255,U>>0&255))>>>0};var Hb=q.PredictorAdd0;q.PredictorAdd1=Ue,oe("Predictor2","PredictorAdd2"),oe("Predictor3","PredictorAdd3"),oe("Predictor4","PredictorAdd4"),oe("Predictor5","PredictorAdd5"),oe("Predictor6","PredictorAdd6"),oe("Predictor7","PredictorAdd7"),oe("Predictor8","PredictorAdd8"),oe("Predictor9","PredictorAdd9"),oe("Predictor10","PredictorAdd10"),oe("Predictor11","PredictorAdd11"),oe("Predictor12","PredictorAdd12"),oe("Predictor13","PredictorAdd13");var Gm=q.PredictorAdd2;wt("ColorIndexInverseTransform","MapARGB","32b",function(g){return g>>8&255},function(g){return g}),wt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(g){return g},function(g){return g>>8&255});var jy,Ls=q.ColorIndexInverseTransform,qd=q.MapARGB,Py=q.VP8LColorIndexInverseTransformAlpha,Ly=q.MapAlpha,Xl=q.VP8LPredictorsAdd=[];Xl.length=16,(q.VP8LPredictors=[]).length=16,(q.VP8LPredictorsAdd_C=[]).length=16,(q.VP8LPredictors_C=[]).length=16;var Tu,Mi,yi,Yl,Uo,zo,Wd,Ho,$r,Vm,vi,Is,$d,Iy,Km,ju,Pu,Ql,Lu,Gd,Iu,Jl,Xm,Rs,Fs,pr,mr,Gr,pn=s(511),qo=s(2041),Ym=s(225),Vd=s(767),Ry=0,qb=qo,Fy=Ym,is=Vd,Ds=pn,Dy=0,My=1,hE=2,Oy=3,By=4,Wb=5,dE=6,$b=7,Gb=8,Uy=9,Vb=10,JI=[2,3,7],ZI=[3,3,11],fE=[280,256,256,256,40],eR=[0,1,1,1,0],tR=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],rR=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],nR=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],iR=8,Kb=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Xb=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Qm=null,sR=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],aR=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],pE=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],oR=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],lR=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],cR=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],uR=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Zl=[],da=[],Wo=[],hR=1,mE=2,ec=[],Ms=[];Me("UpsampleRgbLinePair",zt,3),Me("UpsampleBgrLinePair",jr,3),Me("UpsampleRgbaLinePair",ha,4),Me("UpsampleBgraLinePair",An,4),Me("UpsampleArgbLinePair",Kn,4),Me("UpsampleRgba4444LinePair",an,2),Me("UpsampleRgb565LinePair",Or,2);var dR=q.UpsampleRgbLinePair,fR=q.UpsampleBgrLinePair,gE=q.UpsampleRgbaLinePair,yE=q.UpsampleBgraLinePair,vE=q.UpsampleArgbLinePair,xE=q.UpsampleRgba4444LinePair,pR=q.UpsampleRgb565LinePair,zy=16,Hy=1<<zy-1,Jm=-227,Yb=482,wE=6,mR=(256<<wE)-1,bE=0,gR=s(256),yR=s(256),vR=s(256),xR=s(256),wR=s(Yb-Jm),bR=s(Yb-Jm);Za("YuvToRgbRow",zt,3),Za("YuvToBgrRow",jr,3),Za("YuvToRgbaRow",ha,4),Za("YuvToBgraRow",An,4),Za("YuvToArgbRow",Kn,4),Za("YuvToRgba4444Row",an,2),Za("YuvToRgb565Row",Or,2);var AE=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],qy=[0,2,8],AR=[8,7,6,4,4,2,2,2,1,1,1,1],_R=1;this.WebPDecodeRGBA=function(g,_,j,U,Y){var Z=My,te=new Dd,ce=new Ii;te.ba=ce,ce.S=Z,ce.width=[ce.width],ce.height=[ce.height];var de=ce.width,ye=ce.height,Se=new gi;if(Se==null||g==null)var Pe=2;else e(Se!=null),Pe=Od(g,_,j,Se.width,Se.height,Se.Pd,Se.Qd,Se.format,null);if(Pe!=0?de=0:(de!=null&&(de[0]=Se.width[0]),ye!=null&&(ye[0]=Se.height[0]),de=1),de){ce.width=ce.width[0],ce.height=ce.height[0],U!=null&&(U[0]=ce.width),Y!=null&&(Y[0]=ce.height);e:{if(U=new Td,(Y=new Mm).data=g,Y.w=_,Y.ha=j,Y.kd=1,_=[0],e(Y!=null),((g=Od(Y.data,Y.w,Y.ha,null,null,null,_,null,Y))==0||g==7)&&_[0]&&(g=4),(_=g)==0){if(e(te!=null),U.data=Y.data,U.w=Y.w+Y.offset,U.ha=Y.ha-Y.offset,U.put=Ga,U.ac=Rn,U.bc=Va,U.ma=te,Y.xa){if((g=Ps())==null){te=1;break e}if(function(Le,ke){var He=[0],Fe=[0],Ne=[0];t:for(;;){if(Le==null)return 0;if(ke==null)return Le.a=2,0;if(Le.l=ke,Le.a=0,me(Le.m,ke.data,ke.w,ke.ha),!gt(Le.m,He,Fe,Ne)){Le.a=3;break t}if(Le.xb=mE,ke.width=He[0],ke.height=Fe[0],!Ya(He[0],Fe[0],1,Le,null))break t;return 1}return e(Le.a!=0),0}(g,U)){if(U=(_=Bd(U.width,U.height,te.Oa,te.ba))==0){t:{U=g;r:for(;;){if(U==null){U=0;break t}if(e(U.s.yc!=null),e(U.s.Ya!=null),e(0<U.s.Wb),e((j=U.l)!=null),e((Y=j.ma)!=null),U.xb!=0){if(U.ca=Y.ba,U.tb=Y.tb,e(U.ca!=null),!qm(Y.Oa,j,Oy)){U.a=2;break r}if(!Su(U,j.width)||j.da)break r;if((j.da||$t(U.ca.S))&&Te(),11>U.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),U.ca.f.kb.F!=null&&Te()),U.Pb&&0<U.s.ua&&U.s.vb.X==null&&!O(U.s.vb,U.s.Wa.Xa)){U.a=1;break r}U.xb=0}if(!la(U,U.V,U.Ba,U.c,U.i,j.o,_d))break r;Y.Dc=U.Ma,U=1;break t}e(U.a!=0),U=0}U=!U}U&&(_=g.a)}else _=g.a}else{if((g=new _b)==null){te=1;break e}if(g.Fa=Y.na,g.P=Y.P,g.qc=Y.Sa,py(g,U)){if((_=Bd(U.width,U.height,te.Oa,te.ba))==0){if(g.Aa=0,j=te.Oa,e((Y=g)!=null),j!=null){if(0<(de=0>(de=j.Md)?0:100<de?255:255*de/100)){for(ye=Se=0;4>ye;++ye)12>(Pe=Y.pb[ye]).lc&&(Pe.ia=de*AR[0>Pe.lc?0:Pe.lc]>>3),Se|=Pe.ia;Se&&(alert("todo:VP8InitRandom"),Y.ia=1)}Y.Ga=j.Id,100<Y.Ga?Y.Ga=100:0>Y.Ga&&(Y.Ga=0)}Sb(g,U)||(_=g.a)}}else _=g.a}_==0&&te.Oa!=null&&te.Oa.fd&&(_=Wm(te.ba))}te=_}Z=te!=0?null:11>Z?ce.f.RGBA.eb:ce.f.kb.y}else Z=null;return Z};var _E=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(q,D){for(var se="",z=0;z<4;z++)se+=String.fromCharCode(q[D++]);return se}function h(q,D){return(q[D+0]<<0|q[D+1]<<8|q[D+2]<<16)>>>0}function f(q,D){return(q[D+0]<<0|q[D+1]<<8|q[D+2]<<16|q[D+3]<<24)>>>0}new l;var p=[0],d=[0],x=[],v=new l,b=r,y=function(q,D){var se={},z=0,R=!1,V=0,T=0;if(se.frames=[],!function(B,G,ae,J){for(var L=0;L<J;L++)if(B[G+L]!=ae.charCodeAt(L))return!0;return!1}(q,D,"RIFF",4)){for(f(q,D+=4),D+=8;D<q.length;){var K=u(q,D),he=f(q,D+=4);D+=4;var le=he+(1&he);switch(K){case"VP8 ":case"VP8L":se.frames[z]===void 0&&(se.frames[z]={}),(be=se.frames[z]).src_off=R?T:D-8,be.src_size=V+he+8,z++,R&&(R=!1,V=0,T=0);break;case"VP8X":(be=se.header={}).feature_flags=q[D];var me=D+4;be.canvas_width=1+h(q,me),me+=3,be.canvas_height=1+h(q,me),me+=3;break;case"ALPH":R=!0,V=le+8,T=D-8;break;case"ANIM":(be=se.header).bgcolor=f(q,D),me=D+4,be.loop_count=(ge=q)[(C=me)+0]<<0|ge[C+1]<<8,me+=2;break;case"ANMF":var pe,be;(be=se.frames[z]={}).offset_x=2*h(q,D),D+=3,be.offset_y=2*h(q,D),D+=3,be.width=1+h(q,D),D+=3,be.height=1+h(q,D),D+=3,be.duration=h(q,D),D+=3,pe=q[D++],be.dispose=1&pe,be.blend=pe>>1&1}K!="ANMF"&&(D+=le)}var ge,C;return se}}(b,0);y.response=b,y.rgbaoutput=!0,y.dataurl=!1;var w=y.header?y.header:null,A=y.frames?y.frames:null;if(w){w.loop_counter=w.loop_count,p=[w.canvas_height],d=[w.canvas_width];for(var k=0;k<A.length&&A[k].blend!=0;k++);}var M=A[0],$=v.WebPDecodeRGBA(b,M.src_off,M.src_size,d,p);M.rgba=$,M.imgwidth=d[0],M.imgheight=p[0];for(var H=0;H<d[0]*p[0]*4;H++)x[H]=$[H];return this.width=d,this.height=p,this.data=x,this}(function(r){var e=function(){return typeof lS=="function"},t=function(p,d,x,v){var b=4,y=a;switch(v){case r.image_compression.FAST:b=1,y=s;break;case r.image_compression.MEDIUM:b=6,y=o;break;case r.image_compression.SLOW:b=9,y=l}p=n(p,d,x,y);var w=lS(p,{level:b});return r.__addimage__.arrayBufferToBinaryString(w)},n=function(p,d,x,v){for(var b,y,w,A=p.length/d,k=new Uint8Array(p.length+A),M=h(),$=0;$<A;$+=1){if(w=$*d,b=p.subarray(w,w+d),v)k.set(v(b,x,y),w+$);else{for(var H,q=M.length,D=[];H<q;H+=1)D[H]=M[H](b,x,y);var se=f(D.concat());k.set(D[se],w+$)}y=b}return k},i=function(p){var d=Array.apply([],p);return d.unshift(0),d},s=function(p,d){var x,v=[],b=p.length;v[0]=1;for(var y=0;y<b;y+=1)x=p[y-d]||0,v[y+1]=p[y]-x+256&255;return v},a=function(p,d,x){var v,b=[],y=p.length;b[0]=2;for(var w=0;w<y;w+=1)v=x&&x[w]||0,b[w+1]=p[w]-v+256&255;return b},o=function(p,d,x){var v,b,y=[],w=p.length;y[0]=3;for(var A=0;A<w;A+=1)v=p[A-d]||0,b=x&&x[A]||0,y[A+1]=p[A]+256-(v+b>>>1)&255;return y},l=function(p,d,x){var v,b,y,w,A=[],k=p.length;A[0]=4;for(var M=0;M<k;M+=1)v=p[M-d]||0,b=x&&x[M]||0,y=x&&x[M-d]||0,w=u(v,b,y),A[M+1]=p[M]-w+256&255;return A},u=function(p,d,x){if(p===d&&d===x)return p;var v=Math.abs(d-x),b=Math.abs(p-x),y=Math.abs(p+d-x-x);return v<=b&&v<=y?p:b<=y?d:x},h=function(){return[i,s,a,o,l]},f=function(p){var d=p.map(function(x){return x.reduce(function(v,b){return v+Math.abs(b)},0)});return d.indexOf(Math.min.apply(null,d))};r.processPNG=function(p,d,x,v){var b,y,w,A,k,M,$,H,q,D,se,z,R,V,T,K=this.decode.FLATE_DECODE,he="";if(this.__addimage__.isArrayBuffer(p)&&(p=new Uint8Array(p)),this.__addimage__.isArrayBufferView(p)){if(p=(w=new $B(p)).imgData,y=w.bits,b=w.colorSpace,k=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){q=(H=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,se=new Uint8Array(q*w.colors),D=new Uint8Array(q);var le,me=w.pixelBitlength-w.bits;for(V=0,T=0;V<q;V++){for(R=H[V],le=0;le<me;)se[T++]=R>>>le&255,le+=w.bits;D[V]=R>>>le&255}}if(w.bits===16){q=(H=new Uint32Array(w.decodePixels().buffer)).length,se=new Uint8Array(q*(32/w.pixelBitlength)*w.colors),D=new Uint8Array(q*(32/w.pixelBitlength)),z=w.colors>1,V=0,T=0;for(var pe=0;V<q;)R=H[V++],se[T++]=R>>>0&255,z&&(se[T++]=R>>>16&255,R=H[V++],se[T++]=R>>>0&255),D[pe++]=R>>>16&255;y=8}v!==r.image_compression.NONE&&e()?(p=t(se,w.width*w.colors,w.colors,v),$=t(D,w.width,1,v)):(p=se,$=D,K=void 0)}if(w.colorType===3&&(b=this.color_spaces.INDEXED,M=w.palette,w.transparency.indexed)){var be=w.transparency.indexed,ge=0;for(V=0,q=be.length;V<q;++V)ge+=be[V];if((ge/=255)===q-1&&be.indexOf(0)!==-1)A=[be.indexOf(0)];else if(ge!==q){for(H=w.decodePixels(),D=new Uint8Array(H.length),V=0,q=H.length;V<q;V++)D[V]=be[H[V]];$=t(D,w.width,1)}}var C=function(B){var G;switch(B){case r.image_compression.FAST:G=11;break;case r.image_compression.MEDIUM:G=13;break;case r.image_compression.SLOW:G=14;break;default:G=12}return G}(v);return K===this.decode.FLATE_DECODE&&(he="/Predictor "+C+" "),he+="/Colors "+k+" /BitsPerComponent "+y+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),($&&this.__addimage__.isArrayBuffer($)||this.__addimage__.isArrayBufferView($))&&($=this.__addimage__.arrayBufferToBinaryString($)),{alias:x,data:p,index:d,filter:K,decodeParameters:he,transparency:A,palette:M,sMask:$,predictor:C,width:w.width,height:w.height,bitsPerComponent:y,colorSpace:b}}}})(yt.API),function(r){r.processGIF89A=function(e,t,n,i){var s=new GB(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:a,height:o},h=new X2(100).encode(u,100);return r.processJPEG.call(this,h,t,n,i)},r.processGIF87A=r.processGIF89A}(yt.API),ga.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var e=0;e<r;e++){var t=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ga.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[r]()}catch(t){dr.log("bit decode error:"+t)}},ga.prototype.bit1=function(){var r,e=Math.ceil(this.width/8),t=e%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}t!==0&&(this.pos+=4-t)}},ga.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),e=r%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<r;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,l=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},ga.prototype.bit8=function(){for(var r=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}r!==0&&(this.pos+=4-r)}},ga.prototype.bit15=function(){for(var r=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,h=n*this.width*4+4*i;this.data[h]=l,this.data[h+1]=o,this.data[h+2]=a,this.data[h+3]=u}this.pos+=r}},ga.prototype.bit16=function(){for(var r=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&t)/t*255|0,u=(a>>11)/e*255|0,h=i*this.width*4+4*s;this.data[h]=u,this.data[h+1]=l,this.data[h+2]=o,this.data[h+3]=255}this.pos+=r}},ga.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*t;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},ga.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var e=this.bottom_up?r:this.height-1-r,t=0;t<this.width;t++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},ga.prototype.getData=function(){return this.data},function(r){r.processBMP=function(e,t,n,i){var s=new ga(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new X2(100).encode(l,100);return r.processJPEG.call(this,u,t,n,i)}}(yt.API),Vk.prototype.getData=function(){return this.data},function(r){r.processWEBP=function(e,t,n,i){var s=new Vk(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new X2(100).encode(l,100);return r.processJPEG.call(this,u,t,n,i)}}(yt.API),yt.API.processRGBA=function(r,e,t){for(var n=r.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var h=n[u],f=n[u+1],p=n[u+2],d=n[u+3];s[o++]=h,s[o++]=f,s[o++]=p,a[l++]=d}var x=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:x,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},yt.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},tf=yt.API,Sv=tf.getCharWidthsArray=function(r,e){var t,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,h=u.fof?u.fof:1,f=e.doKerning!==!1,p=0,d=r.length,x=0,v=o[0]||l,b=[];for(t=0;t<d;t++)n=r.charCodeAt(t),typeof i.metadata.widthOfString=="function"?b.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(p=f&&nr(u[n])==="object"&&!isNaN(parseInt(u[n][x],10))?u[n][x]/h:0,b.push((o[n]||v)/l+p)),x=n;return b},qk=tf.getStringUnitWidth=function(r,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return tf.processArabic&&(r=tf.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,t,i)/t:Sv.apply(this,arguments).reduce(function(s,a){return s+a},0)},Wk=function(r,e,t,n){for(var i=[],s=0,a=r.length,o=0;s!==a&&o+e[s]<t;)o+=e[s],s++;i.push(r.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(r.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(r.slice(l,s)),i},$k=function(r,e,t){t||(t={});var n,i,s,a,o,l,u,h=[],f=[h],p=t.textIndent||0,d=0,x=0,v=r.split(" "),b=Sv.apply(this,[" ",t])[0];if(l=t.lineIndent===-1?v[0].length+2:t.lineIndent||0){var y=Array(l).join(" "),w=[];v.map(function(k){(k=k.split(/\s*\n/)).length>1?w=w.concat(k.map(function(M,$){return($&&M.length?`
`:"")+M})):w.push(k[0])}),v=w,l=qk.apply(this,[y,t])}for(s=0,a=v.length;s<a;s++){var A=0;if(n=v[s],l&&n[0]==`
`&&(n=n.substr(1),A=1),p+d+(x=(i=Sv.apply(this,[n,t])).reduce(function(k,M){return k+M},0))>e||A){if(x>e){for(o=Wk.apply(this,[n,i,e-(p+d),e]),h.push(o.shift()),h=[o.pop()];o.length;)f.push([o.shift()]);x=i.slice(n.length-(h[0]?h[0].length:0)).reduce(function(k,M){return k+M},0)}else h=[n];f.push(h),p=x+l,d=b}else h.push(n),p+=d+x,d=b}return u=l?function(k,M){return(M?y:"")+k.join(" ")}:function(k){return k.join(" ")},f.map(u)},tf.splitTextToSize=function(r,e,t){var n,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(h){if(h.widths&&h.kerning)return{widths:h.widths,kerning:h.kerning};var f=this.internal.getFont(h.fontName,h.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var o,l,u=[];for(o=0,l=n.length;o<l;o++)u=u.concat($k.apply(this,[n[o],a,s]));return u},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},n={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=e[i];var s=function(f){return"0x"+parseInt(f,10).toString(16)},a=r.__fontmetrics__.compress=function(f){var p,d,x,v,b=["{"];for(var y in f){if(p=f[y],isNaN(parseInt(y,10))?d="'"+y+"'":(y=parseInt(y,10),d=(d=s(y).slice(2)).slice(0,-1)+n[d.slice(-1)]),typeof p=="number")p<0?(x=s(p).slice(3),v="-"):(x=s(p).slice(2),v=""),x=v+x.slice(0,-1)+n[x.slice(-1)];else{if(nr(p)!=="object")throw new Error("Don't know what to do with value type "+nr(p)+".");x=a(p)}b.push(d+x)}return b.push("}"),b.join("")},o=r.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,d,x,v,b={},y=1,w=b,A=[],k="",M="",$=f.length-1,H=1;H<$;H+=1)(v=f[H])=="'"?p?(x=p.join(""),p=void 0):p=[]:p?p.push(v):v=="{"?(A.push([w,x]),w={},x=void 0):v=="}"?((d=A.pop())[0][d[1]]=w,x=void 0,w=d[0]):v=="-"?y=-1:x===void 0?t.hasOwnProperty(v)?(k+=t[v],x=parseInt(k,16)*y,y=1,k=""):k+=v:t.hasOwnProperty(v)?(M+=t[v],w[x]=parseInt(M,16)*y,y=1,x=void 0,M=""):M+=v;return b},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},h={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(f){var p=f.font,d=h.Unicode[p.postScriptName];d&&(p.metadata.Unicode={},p.metadata.Unicode.widths=d.widths,p.metadata.Unicode.kerning=d.kerning);var x=u.Unicode[p.postScriptName];x&&(p.metadata.Unicode.encoding=x,p.encoding=x.codePages[0])}])}(yt.API),function(r){var e=function(t){for(var n=t.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=t.charCodeAt(s);return i};r.API.events.push(["addFont",function(t){var n=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Zg(o)),a.metadata=r.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(yt),function(r){function e(){return(vt.canvg?Promise.resolve(vt.canvg):nS(()=>import("./index.es-nrrBCCZ0.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}yt.API.addSvgAsImage=function(t,n,i,s,a,o,l,u){if(isNaN(n)||isNaN(i))throw dr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw dr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=s,h.height=a;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return e().then(function(x){return x.fromString(f,t,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(x){return x.render(p)}).then(function(){d.addImage(h.toDataURL("image/jpeg",1),n,i,s,a,l,u)})}}(),yt.API.putTotalPages=function(r){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(r,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,t);return this},yt.API.viewerPreferences=function(r,e){var t;r=r||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],u=0,h=0,f=0;function p(x,v){var b,y=!1;for(b=0;b<x.length;b+=1)x[b]===v&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,r==="reset"||e===!0){var d=o.length;for(f=0;f<d;f+=1)t[o[f]].value=t[o[f]].defaultValue,t[o[f]].explicitSet=!1}if(nr(r)==="object"){for(i in r)if(s=r[i],p(o,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&p(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(h=0;h<s[u].length;h+=1)typeof s[u][h]!="number"&&(n=!1);n===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}t[i].value="["+l.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var x,v=[];for(x in t)t[x].explicitSet===!0&&(t[x].type==="name"?v.push("/"+x+" /"+t[x].value):v.push("/"+x+" "+t[x].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(r){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(yt.API),function(r){var e=r.API,t=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,u=["","0","00","000","0000"],h=[""],f=0,p=s.length;f<p;++f){if(o=a.metadata.characterToGlyph(s.charCodeAt(f)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return h.join("");o=o.toString(16),h.push(u[4-o.length],o)}return h.join("")},n=function(s){var a,o,l,u,h,f,p;for(h=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,p=(o=Object.keys(s).sort(function(d,x){return d-x})).length;f<p;f++)a=o[f],l.length>=100&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+u+">"));return l.length&&(h+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),h+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,h=a.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,p=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),d="",x=0;x<p.length;x++)d+=String.fromCharCode(p[x]);var v=u();h({data:d,addLength1:!0,objectId:v}),l("endobj");var b=u();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var y=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+ff(o.fontName)),l("/FontFile2 "+v+" 0 R"),l("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var w=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+ff(o.fontName)),l("/FontDescriptor "+y+" 0 R"),l("/W "+r.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+b+" 0 R"),l("/BaseFont /"+ff(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,h=a.putStream;if(o.metadata instanceof r.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,p="",d=0;d<f.length;d++)p+=String.fromCharCode(f[d]);var x=u();h({data:p,addLength1:!0,objectId:x}),l("endobj");var v=u();h({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var b=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+x+" 0 R"),l("/Flags 96"),l("/FontBBox "+r.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+ff(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var y=0;y<o.metadata.hmtx.widths.length;y++)o.metadata.hmtx.widths[y]=parseInt(o.metadata.hmtx.widths[y]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+ff(o.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,u=s.y,h=s.options||{},f=s.mutex||{},p=f.pdfEscape,d=f.activeFontKey,x=f.fonts,v=d,b="",y=0,w="",A=x[v].encoding;if(x[v].encoding!=="Identity-H")return{text:o,x:l,y:u,options:h,mutex:f};for(w=o,v=d,Array.isArray(o)&&(w=o[0]),y=0;y<w.length;y+=1)x[v].metadata.hasOwnProperty("cmap")&&(a=x[v].metadata.cmap.unicode.codeMap[w[y].charCodeAt(0)]),a||w[y].charCodeAt(0)<256&&x[v].metadata.hasOwnProperty("Unicode")?b+=w[y]:b+="";var k="";return parseInt(v.slice(1))<14||A==="WinAnsiEncoding"?k=p(b,v).split("").map(function(M){return M.charCodeAt(0).toString(16)}).join(""):A==="Identity-H"&&(k=t(b,x[v])),f.isHex=!0,{text:k,x:l,y:u,options:h,mutex:f}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([i(Object.assign({},l,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(i(Object.assign({},l,{text:a[u]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(yt),function(r){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},r.addFileToVFS=function(t,n){return e.call(this),this.internal.vFS[t]=n,this},r.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(yt.API),function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var i,s,a,o,l,u,h,f=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],x={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,A=0;this.__bidiEngine__={};var k=function(z){var R=z.charCodeAt(),V=R>>8,T=v[V];return T!==void 0?f[256*T+(255&R)]:V===252||V===253?"AL":y.test(V)?"L":V===8?"R":"N"},M=function(z){for(var R,V=0;V<z.length;V++){if((R=k(z.charAt(V)))==="L")return!1;if(R==="R")return!0}return!1},$=function(z,R,V,T){var K,he,le,me,pe=R[T];switch(pe){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(pe="AN");break;case"AL":w=!0,pe="R";break;case"WS":pe="N";break;case"CS":T<1||T+1>=R.length||(K=V[T-1])!=="EN"&&K!=="AN"||(he=R[T+1])!=="EN"&&he!=="AN"?pe="N":w&&(he="AN"),pe=he===K?he:"N";break;case"ES":pe=(K=T>0?V[T-1]:"B")==="EN"&&T+1<R.length&&R[T+1]==="EN"?"EN":"N";break;case"ET":if(T>0&&V[T-1]==="EN"){pe="EN";break}if(w){pe="N";break}for(le=T+1,me=R.length;le<me&&R[le]==="ET";)le++;pe=le<me&&R[le]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(me=R.length,le=T+1;le<me&&R[le]==="NSM";)le++;if(le<me){var be=z[T],ge=be>=1425&&be<=2303||be===64286;if(K=R[le],ge&&(K==="R"||K==="AL")){pe="R";break}}}pe=T<1||(K=R[T-1])==="B"?"N":V[T-1];break;case"B":w=!1,i=!0,pe=A;break;case"S":s=!0,pe="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":pe="N"}return pe},H=function(z,R,V){var T=z.split("");return V&&q(T,V,{hiLevel:A}),T.reverse(),R&&R.reverse(),T.join("")},q=function(z,R,V){var T,K,he,le,me,pe=-1,be=z.length,ge=0,C=[],B=A?d:p,G=[];for(w=!1,i=!1,s=!1,K=0;K<be;K++)G[K]=k(z[K]);for(he=0;he<be;he++){if(me=ge,C[he]=$(z,G,C,he),T=240&(ge=B[me][x[C[he]]]),ge&=15,R[he]=le=B[ge][5],T>0)if(T===16){for(K=pe;K<he;K++)R[K]=1;pe=-1}else pe=-1;if(B[ge][6])pe===-1&&(pe=he);else if(pe>-1){for(K=pe;K<he;K++)R[K]=le;pe=-1}G[he]==="B"&&(R[he]=0),V.hiLevel|=le}s&&function(ae,J,L){for(var I=0;I<L;I++)if(ae[I]==="S"){J[I]=A;for(var ne=I-1;ne>=0&&ae[ne]==="WS";ne--)J[ne]=A}}(G,R,be)},D=function(z,R,V,T,K){if(!(K.hiLevel<z)){if(z===1&&A===1&&!i)return R.reverse(),void(V&&V.reverse());for(var he,le,me,pe,be=R.length,ge=0;ge<be;){if(T[ge]>=z){for(me=ge+1;me<be&&T[me]>=z;)me++;for(pe=ge,le=me-1;pe<le;pe++,le--)he=R[pe],R[pe]=R[le],R[le]=he,V&&(he=V[pe],V[pe]=V[le],V[le]=he);ge=me}ge++}}},se=function(z,R,V){var T=z.split(""),K={hiLevel:A};return V||(V=[]),q(T,V,K),function(he,le,me){if(me.hiLevel!==0&&h)for(var pe,be=0;be<he.length;be++)le[be]===1&&(pe=b.indexOf(he[be]))>=0&&(he[be]=b[pe+1])}(T,V,K),D(2,T,R,V,K),D(1,T,R,V,K),T.join("")};return this.__bidiEngine__.doBidiReorder=function(z,R,V){if(function(K,he){if(he)for(var le=0;le<K.length;le++)he[le]=le;o===void 0&&(o=M(K)),u===void 0&&(u=M(K))}(z,R),a||!l||u)if(a&&l&&o^u)A=o?1:0,z=H(z,R,V);else if(!a&&l&&u)A=o?1:0,z=se(z,R,V),z=H(z,R);else if(!a||o||l||u){if(a&&!l&&o^u)z=H(z,R),o?(A=0,z=se(z,R,V)):(A=1,z=se(z,R,V),z=H(z,R));else if(a&&o&&!l&&u)A=1,z=se(z,R,V),z=H(z,R);else if(!a&&!l&&o^u){var T=h;o?(A=1,z=se(z,R,V),A=0,h=!1,z=se(z,R,V),h=T):(A=0,z=se(z,R,V),z=H(z,R),A=1,h=!1,z=se(z,R,V),h=T,z=H(z,R))}}else A=0,z=se(z,R,V);else A=o?1:0,z=se(z,R,V);return z},this.__bidiEngine__.setOptions=function(z){z&&(a=z.isInputVisual,l=z.isOutputVisual,o=z.isInputRtl,u=z.isOutputRtl,h=z.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var i=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([t.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([t.doBidiReorder(i[o])]);n.text=a}else n.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(yt),yt.API.TTFFont=function(){function r(e){var t;if(this.rawData=e,t=this.contents=new fu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new o9(this),this.registerTTF()}return r.open=function(e){return new r(e)},r.prototype.parse=function(){return this.directory=new VB(this.contents),this.head=new XB(this),this.name=new e9(this),this.cmap=new Q8(this),this.toUnicode={},this.hhea=new YB(this),this.maxp=new t9(this),this.hmtx=new r9(this),this.post=new JB(this),this.os2=new QB(this),this.loca=new a9(this),this.glyf=new n9(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var e,t,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,u;for(u=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},r.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},r.prototype.widthOfString=function(e,t,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/t)||0;return a*(t/1e3)},r.prototype.lineHeight=function(e,t){var n;return t==null&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},r}();var $a,fu=function(){function r(e){this.data=e??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(e){return this.data[this.pos++]=e},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},r.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},r.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},r.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},r.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(e){var t,n,i;for(i=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(e){return this.writeInt16(e)},r.prototype.readLongLong=function(){var e,t,n,i,s,a,o,l;return e=this.readByte(),t=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+l},r.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(e){return this.writeInt32(e)},r.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},r.prototype.write=function(e){var t,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)t=e[n],s.push(this.writeByte(t));return s},r}(),VB=function(){var r;function e(t){var n,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(t){var n,i,s,a,o,l,u,h,f,p,d,x,v;for(v in d=Object.keys(t).length,l=Math.log(2),f=16*Math.floor(Math.log(d)/l),a=Math.floor(f/l),h=16*d-f,(i=new fu).writeInt(this.scalarType),i.writeShort(d),i.writeShort(f),i.writeShort(a),i.writeShort(h),s=16*d,u=i.pos+s,o=null,x=[],t)for(p=t[v],i.writeString(v),i.writeInt(r(p)),i.writeInt(u),i.writeInt(p.length),x=x.concat(p),v==="head"&&(o=u),u+=p.length;u%4;)x.push(0),u++;return i.write(x),n=2981146554-r(i.data),i.pos=o+8,i.writeUInt32(n),i.data},r=function(t){var n,i,s,a;for(t=J8.call(t);t.length%4;)t.push(0);for(s=new fu(t),i=0,n=0,a=t.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),KB={}.hasOwnProperty,Fo=function(r,e){for(var t in e)KB.call(e,t)&&(r[t]=e[t]);function n(){this.constructor=r}return n.prototype=e.prototype,r.prototype=new n,r.__super__=e.prototype,r};$a=function(){function r(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var XB=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,$a),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var n;return(n=new fu).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(t),n.writeShort(this.glyphDataFormat),n.data},e}(),Kk=function(){function r(e,t){var n,i,s,a,o,l,u,h,f,p,d,x,v,b,y,w,A;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(d=e.readUInt16(),p=d/2,e.pos+=6,s=function(){var k,M;for(M=[],l=k=0;0<=p?k<p:k>p;l=0<=p?++k:--k)M.push(e.readUInt16());return M}(),e.pos+=2,v=function(){var k,M;for(M=[],l=k=0;0<=p?k<p:k>p;l=0<=p?++k:--k)M.push(e.readUInt16());return M}(),u=function(){var k,M;for(M=[],l=k=0;0<=p?k<p:k>p;l=0<=p?++k:--k)M.push(e.readUInt16());return M}(),h=function(){var k,M;for(M=[],l=k=0;0<=p?k<p:k>p;l=0<=p?++k:--k)M.push(e.readUInt16());return M}(),i=(this.length-e.pos+this.offset)/2,o=function(){var k,M;for(M=[],l=k=0;0<=i?k<i:k>i;l=0<=i?++k:--k)M.push(e.readUInt16());return M}(),l=y=0,A=s.length;y<A;l=++y)for(b=s[l],n=w=x=v[l];x<=b?w<=b:w>=b;n=x<=b?++w:--w)h[l]===0?a=n+u[l]:(a=o[h[l]/2+(n-x)-(p-l)]||0)!==0&&(a+=u[l]),this.codeMap[n]=65535&a}e.pos=f}return r.encode=function(e,t){var n,i,s,a,o,l,u,h,f,p,d,x,v,b,y,w,A,k,M,$,H,q,D,se,z,R,V,T,K,he,le,me,pe,be,ge,C,B,G,ae,J,L,I,ne,ue,X,ie;switch(T=new fu,a=Object.keys(e).sort(function(Ae,O){return Ae-O}),t){case"macroman":for(v=0,b=function(){var Ae=[];for(x=0;x<256;++x)Ae.push(0);return Ae}(),w={0:0},s={},K=0,pe=a.length;K<pe;K++)w[ne=e[i=a[K]]]==null&&(w[ne]=++v),s[i]={old:e[i],new:w[e[i]]},b[i]=w[e[i]];return T.writeUInt16(1),T.writeUInt16(0),T.writeUInt32(12),T.writeUInt16(0),T.writeUInt16(262),T.writeUInt16(0),T.write(b),{charMap:s,subtable:T.data,maxGlyphID:v+1};case"unicode":for(R=[],f=[],A=0,w={},n={},y=u=null,he=0,be=a.length;he<be;he++)w[M=e[i=a[he]]]==null&&(w[M]=++A),n[i]={old:M,new:w[M]},o=w[M]-i,y!=null&&o===u||(y&&f.push(y),R.push(i),u=o),y=i;for(y&&f.push(y),f.push(65535),R.push(65535),se=2*(D=R.length),q=2*Math.pow(Math.log(D)/Math.LN2,2),p=Math.log(q/2)/Math.LN2,H=2*D-q,l=[],$=[],d=[],x=le=0,ge=R.length;le<ge;x=++le){if(z=R[x],h=f[x],z===65535){l.push(0),$.push(0);break}if(z-(V=n[z].new)>=32768)for(l.push(0),$.push(2*(d.length+D-x)),i=me=z;z<=h?me<=h:me>=h;i=z<=h?++me:--me)d.push(n[i].new);else l.push(V-z),$.push(0)}for(T.writeUInt16(3),T.writeUInt16(1),T.writeUInt32(12),T.writeUInt16(4),T.writeUInt16(16+8*D+2*d.length),T.writeUInt16(0),T.writeUInt16(se),T.writeUInt16(q),T.writeUInt16(p),T.writeUInt16(H),L=0,C=f.length;L<C;L++)i=f[L],T.writeUInt16(i);for(T.writeUInt16(0),I=0,B=R.length;I<B;I++)i=R[I],T.writeUInt16(i);for(ue=0,G=l.length;ue<G;ue++)o=l[ue],T.writeUInt16(o);for(X=0,ae=$.length;X<ae;X++)k=$[X],T.writeUInt16(k);for(ie=0,J=d.length;ie<J;ie++)v=d[ie],T.writeUInt16(v);return{charMap:n,subtable:T.data,maxGlyphID:A+1}}},r}(),Q8=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,$a),e.prototype.tag="cmap",e.prototype.parse=function(t){var n,i,s;for(t.pos=this.offset,this.version=t.readUInt16(),s=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new Kk(t,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(t,n){var i,s;return n==null&&(n="macroman"),i=Kk.encode(t,n),(s=new fu).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),YB=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,$a),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),QB=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,$a),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(t.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),JB=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,$a),e.prototype.tag="post",e.prototype.parse=function(t){var n,i,s;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var a;for(i=t.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],s=[];t.pos<this.offset+this.length;)n=t.readByte(),s.push(this.names.push(t.readString(n)));return s;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var o,l,u;for(u=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)u.push(t.readUInt32());return u}).call(this)}},e}(),ZB=function(r,e){this.raw=r,this.length=r.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},e9=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,$a),e.prototype.tag="name",e.prototype.parse=function(t){var n,i,s,a,o,l,u,h,f,p,d;for(t.pos=this.offset,t.readShort(),n=t.readShort(),l=t.readShort(),i=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+l+t.readShort()});for(u={},a=f=0,p=i.length;f<p;a=++f)s=i[a],t.pos=s.offset,h=t.readString(s.length),o=new ZB(h,s),u[d=s.nameID]==null&&(u[d]=[]),u[s.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),t9=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,$a),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),r9=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,$a),e.prototype.tag="hmtx",e.prototype.parse=function(t){var n,i,s,a,o,l,u;for(t.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,f;for(f=[],n=h=0;0<=s?h<s:h>s;n=0<=s?++h:--h)f.push(t.readInt16());return f}(),this.widths=(function(){var h,f,p,d;for(d=[],h=0,f=(p=this.metrics).length;h<f;h++)a=p[h],d.push(a.advance);return d}).call(this),i=this.widths[this.widths.length-1],u=[],n=o=0;0<=s?o<s:o>s;n=0<=s?++o:--o)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),J8=[].slice,n9=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,$a),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var n,i,s,a,o,l,u,h,f,p;return t in this.cache?this.cache[t]:(a=this.file.loca,n=this.file.contents,i=a.indexOf(t),(s=a.lengthOf(t))===0?this.cache[t]=null:(n.pos=this.offset+i,o=(l=new fu(n.read(s))).readShort(),h=l.readShort(),p=l.readShort(),u=l.readShort(),f=l.readShort(),this.cache[t]=o===-1?new s9(l,h,p,u,f):new i9(l,o,h,p,u,f),this.cache[t]))},e.prototype.encode=function(t,n,i){var s,a,o,l,u;for(o=[],a=[],l=0,u=n.length;l<u;l++)s=t[n[l]],a.push(o.length),s&&(o=o.concat(s.encode(i)));return a.push(o.length),{table:o,offsets:a}},e}(),i9=function(){function r(e,t,n,i,s,a){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),s9=function(){function r(e,t,n,i,s){var a,o;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return r.prototype.encode=function(){var e,t,n;for(t=new fu(J8.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},r}(),a9=function(r){function e(){return e.__super__.constructor.apply(this,arguments)}return Fo(e,$a),e.prototype.tag="loca",e.prototype.parse=function(t){var n,i;return t.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*t.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(t.readUInt32());return a}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,n){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<i.length;++o)if(i[o]=s,a<n.length&&n[a]==o){++a,i[o]=s;var l=this.offsets[o],u=this.offsets[o+1]-l;u>0&&(s+=u)}for(var h=new Array(4*i.length),f=0;f<i.length;++f)h[4*f+3]=255&i[f],h[4*f+2]=(65280&i[f])>>8,h[4*f+1]=(16711680&i[f])>>16,h[4*f]=(4278190080&i[f])>>24;return h},e}(),o9=function(){function r(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var e,t,n,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[t],e[t]=i[n];return e},r.prototype.glyphsFor=function(e){var t,n,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(n=i[s])!=null&&n.compound&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(s in l=this.glyphsFor(t))n=l[s],i[s]=n;return i},r.prototype.encode=function(e,t){var n,i,s,a,o,l,u,h,f,p,d,x,v,b,y;for(i in n=Q8.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),d={0:0},y=n.charMap)d[(l=y[i]).old]=l.new;for(x in p=n.maxGlyphID,a)x in d||(d[x]=p++);return h=function(w){var A,k;for(A in k={},w)k[w[A]]=A;return k}(d),f=Object.keys(h).sort(function(w,A){return w-A}),v=function(){var w,A,k;for(k=[],w=0,A=f.length;w<A;w++)o=f[w],k.push(h[o]);return k}(),s=this.font.glyf.encode(a,v,d),u=this.font.loca.encode(s.offsets,v),b={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},r}();yt.API.PDFObject=function(){var r;function e(){}return r=function(t,n){return(Array(n+1).join("0")+t).slice(-n)},e.convert=function(t){var n,i,s,a;if(Array.isArray(t))return"["+function(){var o,l,u;for(u=[],o=0,l=t.length;o<l;o++)n=t[o],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+r(t.getUTCFullYear(),4)+r(t.getUTCMonth(),2)+r(t.getUTCDate(),2)+r(t.getUTCHours(),2)+r(t.getUTCMinutes(),2)+r(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)a=t[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+t},e}();var li=["buffer","Buffer"],l9=Object.defineProperty,c9=Object.defineProperties,u9=Object.getOwnPropertyDescriptors,Xk=Object.getOwnPropertySymbols,h9=Object.prototype.hasOwnProperty,d9=Object.prototype.propertyIsEnumerable,mS=(r,e,t)=>e in r?l9(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t,Yt=(r,e)=>{for(var t in e||(e={}))h9.call(e,t)&&mS(r,t,e[t]);if(Xk)for(var t of Xk(e))d9.call(e,t)&&mS(r,t,e[t]);return r},N0=(r,e)=>c9(r,u9(e)),Be=(r,e,t)=>(mS(r,typeof e!="symbol"?e+"":e,t),t),Nv=(r,e,t)=>new Promise((n,i)=>{var s=l=>{try{o(t.next(l))}catch(u){i(u)}},a=l=>{try{o(t.throw(l))}catch(u){i(u)}},o=l=>l.done?n(l.value):Promise.resolve(l.value).then(s,a);o((t=t.apply(r,e)).next())});class dw{constructor(e){Be(this,"rootKey"),this.rootKey=e}}const f9=Object.seal({});class We extends dw{constructor(e){super(e),Be(this,"root"),this.root=new Array}prepForXml(e){var t;e.stack.push(this);const n=this.root.map(i=>i instanceof dw?i.prepForXml(e):i).filter(i=>i!==void 0);return e.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((t=n[0])!=null&&t._attr)?n[0]:n:f9}}addChildElement(e){return this.root.push(e),this}}class ub extends We{prepForXml(e){const t=super.prepForXml(e);if(t&&(typeof t[this.rootKey]!="object"||Object.keys(t[this.rootKey]).length))return t}}class xt extends dw{constructor(e){super("_attr"),Be(this,"xmlKeys"),this.root=e}prepForXml(e){const t={};return Object.keys(this.root).forEach(n=>{const i=this.root[n];if(i!==void 0){const s=this.xmlKeys&&this.xmlKeys[n]||n;t[s]=i}}),{_attr:t}}}class oy extends dw{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:i,value:s})=>N0(Yt({},n),{[i]:s}),{})}}}class rn extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var jo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function Z8(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var eI={},UN={exports:{}},Wf=typeof Reflect=="object"?Reflect:null,Yk=Wf&&typeof Wf.apply=="function"?Wf.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)},Ex;Wf&&typeof Wf.ownKeys=="function"?Ex=Wf.ownKeys:Object.getOwnPropertySymbols?Ex=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Ex=function(e){return Object.getOwnPropertyNames(e)};function p9(r){console&&console.warn&&console.warn(r)}var tI=Number.isNaN||function(e){return e!==e};function lr(){lr.init.call(this)}UN.exports=lr;UN.exports.once=v9;lr.EventEmitter=lr;lr.prototype._events=void 0;lr.prototype._eventsCount=0;lr.prototype._maxListeners=void 0;var Qk=10;function hb(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(lr,"defaultMaxListeners",{enumerable:!0,get:function(){return Qk},set:function(r){if(typeof r!="number"||r<0||tI(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");Qk=r}});lr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};lr.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||tI(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function rI(r){return r._maxListeners===void 0?lr.defaultMaxListeners:r._maxListeners}lr.prototype.getMaxListeners=function(){return rI(this)};lr.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var l=s[e];if(l===void 0)return!1;if(typeof l=="function")Yk(l,this,t);else for(var u=l.length,h=oI(l,u),n=0;n<u;++n)Yk(h[n],this,t);return!0};function nI(r,e,t,n){var i,s,a;if(hb(t),s=r._events,s===void 0?(s=r._events=Object.create(null),r._eventsCount=0):(s.newListener!==void 0&&(r.emit("newListener",e,t.listener?t.listener:t),s=r._events),a=s[e]),a===void 0)a=s[e]=t,++r._eventsCount;else if(typeof a=="function"?a=s[e]=n?[t,a]:[a,t]:n?a.unshift(t):a.push(t),i=rI(r),i>0&&a.length>i&&!a.warned){a.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=r,o.type=e,o.count=a.length,p9(o)}return r}lr.prototype.addListener=function(e,t){return nI(this,e,t,!1)};lr.prototype.on=lr.prototype.addListener;lr.prototype.prependListener=function(e,t){return nI(this,e,t,!0)};function m9(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function iI(r,e,t){var n={fired:!1,wrapFn:void 0,target:r,type:e,listener:t},i=m9.bind(n);return i.listener=t,n.wrapFn=i,i}lr.prototype.once=function(e,t){return hb(t),this.on(e,iI(this,e,t)),this};lr.prototype.prependOnceListener=function(e,t){return hb(t),this.prependListener(e,iI(this,e,t)),this};lr.prototype.removeListener=function(e,t){var n,i,s,a,o;if(hb(t),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if(typeof n!="function"){for(s=-1,a=n.length-1;a>=0;a--)if(n[a]===t||n[a].listener===t){o=n[a].listener,s=a;break}if(s<0)return this;s===0?n.shift():g9(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,o||t)}return this};lr.prototype.off=lr.prototype.removeListener;lr.prototype.removeAllListeners=function(e){var t,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),a;for(i=0;i<s.length;++i)a=s[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this};function sI(r,e,t){var n=r._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?t?[i.listener||i]:[i]:t?y9(i):oI(i,i.length)}lr.prototype.listeners=function(e){return sI(this,e,!0)};lr.prototype.rawListeners=function(e){return sI(this,e,!1)};lr.listenerCount=function(r,e){return typeof r.listenerCount=="function"?r.listenerCount(e):aI.call(r,e)};lr.prototype.listenerCount=aI;function aI(r){var e=this._events;if(e!==void 0){var t=e[r];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}lr.prototype.eventNames=function(){return this._eventsCount>0?Ex(this._events):[]};function oI(r,e){for(var t=new Array(e),n=0;n<e;++n)t[n]=r[n];return t}function g9(r,e){for(;e+1<r.length;e++)r[e]=r[e+1];r.pop()}function y9(r){for(var e=new Array(r.length),t=0;t<e.length;++t)e[t]=r[t].listener||r[t];return e}function v9(r,e){return new Promise(function(t,n){function i(a){r.removeListener(e,s),n(a)}function s(){typeof r.removeListener=="function"&&r.removeListener("error",i),t([].slice.call(arguments))}lI(r,e,s,{once:!0}),e!=="error"&&x9(r,i,{once:!0})})}function x9(r,e,t){typeof r.on=="function"&&lI(r,"error",e,t)}function lI(r,e,t,n){if(typeof r.on=="function")n.once?r.once(e,t):r.on(e,t);else if(typeof r.addEventListener=="function")r.addEventListener(e,function i(s){n.once&&r.removeEventListener(e,i),t(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}var zN=UN.exports,gS={exports:{}};typeof Object.create=="function"?gS.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:gS.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}};var bd=gS.exports;function w9(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var cI={exports:{}},nn=cI.exports={},oo,lo;function yS(){throw new Error("setTimeout has not been defined")}function vS(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?oo=setTimeout:oo=yS}catch{oo=yS}try{typeof clearTimeout=="function"?lo=clearTimeout:lo=vS}catch{lo=vS}})();function uI(r){if(oo===setTimeout)return setTimeout(r,0);if((oo===yS||!oo)&&setTimeout)return oo=setTimeout,setTimeout(r,0);try{return oo(r,0)}catch{try{return oo.call(null,r,0)}catch{return oo.call(this,r,0)}}}function b9(r){if(lo===clearTimeout)return clearTimeout(r);if((lo===vS||!lo)&&clearTimeout)return lo=clearTimeout,clearTimeout(r);try{return lo(r)}catch{try{return lo.call(null,r)}catch{return lo.call(this,r)}}}var Ll=[],$f=!1,Xu,kx=-1;function A9(){!$f||!Xu||($f=!1,Xu.length?Ll=Xu.concat(Ll):kx=-1,Ll.length&&hI())}function hI(){if(!$f){var r=uI(A9);$f=!0;for(var e=Ll.length;e;){for(Xu=Ll,Ll=[];++kx<e;)Xu&&Xu[kx].run();kx=-1,e=Ll.length}Xu=null,$f=!1,b9(r)}}nn.nextTick=function(r){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Ll.push(new dI(r,e)),Ll.length===1&&!$f&&uI(hI)};function dI(r,e){this.fun=r,this.array=e}dI.prototype.run=function(){this.fun.apply(null,this.array)};nn.title="browser";nn.browser=!0;nn.env={};nn.argv=[];nn.version="";nn.versions={};function $l(){}nn.on=$l;nn.addListener=$l;nn.once=$l;nn.off=$l;nn.removeListener=$l;nn.removeAllListeners=$l;nn.emit=$l;nn.prependListener=$l;nn.prependOnceListener=$l;nn.listeners=function(r){return[]};nn.binding=function(r){throw new Error("process.binding is not supported")};nn.cwd=function(){return"/"};nn.chdir=function(r){throw new Error("process.chdir is not supported")};nn.umask=function(){return 0};var _9=cI.exports;const It=w9(_9);var Y2,Jk;function fI(){return Jk||(Jk=1,Y2=zN.EventEmitter),Y2}var Q2={},yg={},Zk;function S9(){if(Zk)return yg;Zk=1,yg.byteLength=o,yg.toByteArray=u,yg.fromByteArray=p;for(var r=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)r[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function a(d){var x=d.length;if(x%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=d.indexOf("=");v===-1&&(v=x);var b=v===x?0:4-v%4;return[v,b]}function o(d){var x=a(d),v=x[0],b=x[1];return(v+b)*3/4-b}function l(d,x,v){return(x+v)*3/4-v}function u(d){var x,v=a(d),b=v[0],y=v[1],w=new t(l(d,b,y)),A=0,k=y>0?b-4:b,M;for(M=0;M<k;M+=4)x=e[d.charCodeAt(M)]<<18|e[d.charCodeAt(M+1)]<<12|e[d.charCodeAt(M+2)]<<6|e[d.charCodeAt(M+3)],w[A++]=x>>16&255,w[A++]=x>>8&255,w[A++]=x&255;return y===2&&(x=e[d.charCodeAt(M)]<<2|e[d.charCodeAt(M+1)]>>4,w[A++]=x&255),y===1&&(x=e[d.charCodeAt(M)]<<10|e[d.charCodeAt(M+1)]<<4|e[d.charCodeAt(M+2)]>>2,w[A++]=x>>8&255,w[A++]=x&255),w}function h(d){return r[d>>18&63]+r[d>>12&63]+r[d>>6&63]+r[d&63]}function f(d,x,v){for(var b,y=[],w=x;w<v;w+=3)b=(d[w]<<16&16711680)+(d[w+1]<<8&65280)+(d[w+2]&255),y.push(h(b));return y.join("")}function p(d){for(var x,v=d.length,b=v%3,y=[],w=16383,A=0,k=v-b;A<k;A+=w)y.push(f(d,A,A+w>k?k:A+w));return b===1?(x=d[v-1],y.push(r[x>>2]+r[x<<4&63]+"==")):b===2&&(x=(d[v-2]<<8)+d[v-1],y.push(r[x>>10]+r[x>>4&63]+r[x<<2&63]+"=")),y.join("")}return yg}var Ev={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var eC;function N9(){return eC||(eC=1,Ev.read=function(r,e,t,n,i){var s,a,o=i*8-n-1,l=(1<<o)-1,u=l>>1,h=-7,f=t?i-1:0,p=t?-1:1,d=r[e+f];for(f+=p,s=d&(1<<-h)-1,d>>=-h,h+=o;h>0;s=s*256+r[e+f],f+=p,h-=8);for(a=s&(1<<-h)-1,s>>=-h,h+=n;h>0;a=a*256+r[e+f],f+=p,h-=8);if(s===0)s=1-u;else{if(s===l)return a?NaN:(d?-1:1)*(1/0);a=a+Math.pow(2,n),s=s-u}return(d?-1:1)*a*Math.pow(2,s-n)},Ev.write=function(r,e,t,n,i,s){var a,o,l,u=s*8-i-1,h=(1<<u)-1,f=h>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,x=n?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=h):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+f>=1?e+=p/l:e+=p*Math.pow(2,1-f),e*l>=2&&(a++,l/=2),a+f>=h?(o=0,a=h):a+f>=1?(o=(e*l-1)*Math.pow(2,i),a=a+f):(o=e*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;r[t+d]=o&255,d+=x,o/=256,i-=8);for(a=a<<i|o,u+=i;u>0;r[t+d]=a&255,d+=x,a/=256,u-=8);r[t+d-x]|=v*128}),Ev}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var tC;function db(){return tC||(tC=1,function(r){var e=S9(),t=N9(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=o,r.SlowBuffer=w,r.INSPECT_MAX_BYTES=50;var i=2147483647;r.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=s(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var P=new Uint8Array(1),S={foo:function(){return 42}};return Object.setPrototypeOf(S,Uint8Array.prototype),Object.setPrototypeOf(P,S),P.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function a(P){if(P>i)throw new RangeError('The value "'+P+'" is invalid for option "size"');var S=new Uint8Array(P);return Object.setPrototypeOf(S,o.prototype),S}function o(P,S,N){if(typeof P=="number"){if(typeof S=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(P)}return l(P,S,N)}o.poolSize=8192;function l(P,S,N){if(typeof P=="string")return p(P,S);if(ArrayBuffer.isView(P))return x(P);if(P==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P);if(Ae(P,ArrayBuffer)||P&&Ae(P.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ae(P,SharedArrayBuffer)||P&&Ae(P.buffer,SharedArrayBuffer)))return v(P,S,N);if(typeof P=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var F=P.valueOf&&P.valueOf();if(F!=null&&F!==P)return o.from(F,S,N);var oe=b(P);if(oe)return oe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof P[Symbol.toPrimitive]=="function")return o.from(P[Symbol.toPrimitive]("string"),S,N);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}o.from=function(P,S,N){return l(P,S,N)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function u(P){if(typeof P!="number")throw new TypeError('"size" argument must be of type number');if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}function h(P,S,N){return u(P),P<=0?a(P):S!==void 0?typeof N=="string"?a(P).fill(S,N):a(P).fill(S):a(P)}o.alloc=function(P,S,N){return h(P,S,N)};function f(P){return u(P),a(P<0?0:y(P)|0)}o.allocUnsafe=function(P){return f(P)},o.allocUnsafeSlow=function(P){return f(P)};function p(P,S){if((typeof S!="string"||S==="")&&(S="utf8"),!o.isEncoding(S))throw new TypeError("Unknown encoding: "+S);var N=A(P,S)|0,F=a(N),oe=F.write(P,S);return oe!==N&&(F=F.slice(0,oe)),F}function d(P){for(var S=P.length<0?0:y(P.length)|0,N=a(S),F=0;F<S;F+=1)N[F]=P[F]&255;return N}function x(P){if(Ae(P,Uint8Array)){var S=new Uint8Array(P);return v(S.buffer,S.byteOffset,S.byteLength)}return d(P)}function v(P,S,N){if(S<0||P.byteLength<S)throw new RangeError('"offset" is outside of buffer bounds');if(P.byteLength<S+(N||0))throw new RangeError('"length" is outside of buffer bounds');var F;return S===void 0&&N===void 0?F=new Uint8Array(P):N===void 0?F=new Uint8Array(P,S):F=new Uint8Array(P,S,N),Object.setPrototypeOf(F,o.prototype),F}function b(P){if(o.isBuffer(P)){var S=y(P.length)|0,N=a(S);return N.length===0||P.copy(N,0,0,S),N}if(P.length!==void 0)return typeof P.length!="number"||O(P.length)?a(0):d(P);if(P.type==="Buffer"&&Array.isArray(P.data))return d(P.data)}function y(P){if(P>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return P|0}function w(P){return+P!=P&&(P=0),o.alloc(+P)}o.isBuffer=function(S){return S!=null&&S._isBuffer===!0&&S!==o.prototype},o.compare=function(S,N){if(Ae(S,Uint8Array)&&(S=o.from(S,S.offset,S.byteLength)),Ae(N,Uint8Array)&&(N=o.from(N,N.offset,N.byteLength)),!o.isBuffer(S)||!o.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(S===N)return 0;for(var F=S.length,oe=N.length,xe=0,fe=Math.min(F,oe);xe<fe;++xe)if(S[xe]!==N[xe]){F=S[xe],oe=N[xe];break}return F<oe?-1:oe<F?1:0},o.isEncoding=function(S){switch(String(S).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(S,N){if(!Array.isArray(S))throw new TypeError('"list" argument must be an Array of Buffers');if(S.length===0)return o.alloc(0);var F;if(N===void 0)for(N=0,F=0;F<S.length;++F)N+=S[F].length;var oe=o.allocUnsafe(N),xe=0;for(F=0;F<S.length;++F){var fe=S[F];if(Ae(fe,Uint8Array))xe+fe.length>oe.length?o.from(fe).copy(oe,xe):Uint8Array.prototype.set.call(oe,fe,xe);else if(o.isBuffer(fe))fe.copy(oe,xe);else throw new TypeError('"list" argument must be an Array of Buffers');xe+=fe.length}return oe};function A(P,S){if(o.isBuffer(P))return P.length;if(ArrayBuffer.isView(P)||Ae(P,ArrayBuffer))return P.byteLength;if(typeof P!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);var N=P.length,F=arguments.length>2&&arguments[2]===!0;if(!F&&N===0)return 0;for(var oe=!1;;)switch(S){case"ascii":case"latin1":case"binary":return N;case"utf8":case"utf-8":return I(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N*2;case"hex":return N>>>1;case"base64":return X(P).length;default:if(oe)return F?-1:I(P).length;S=(""+S).toLowerCase(),oe=!0}}o.byteLength=A;function k(P,S,N){var F=!1;if((S===void 0||S<0)&&(S=0),S>this.length||((N===void 0||N>this.length)&&(N=this.length),N<=0)||(N>>>=0,S>>>=0,N<=S))return"";for(P||(P="utf8");;)switch(P){case"hex":return pe(this,S,N);case"utf8":case"utf-8":return T(this,S,N);case"ascii":return le(this,S,N);case"latin1":case"binary":return me(this,S,N);case"base64":return V(this,S,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return be(this,S,N);default:if(F)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase(),F=!0}}o.prototype._isBuffer=!0;function M(P,S,N){var F=P[S];P[S]=P[N],P[N]=F}o.prototype.swap16=function(){var S=this.length;if(S%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var N=0;N<S;N+=2)M(this,N,N+1);return this},o.prototype.swap32=function(){var S=this.length;if(S%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var N=0;N<S;N+=4)M(this,N,N+3),M(this,N+1,N+2);return this},o.prototype.swap64=function(){var S=this.length;if(S%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var N=0;N<S;N+=8)M(this,N,N+7),M(this,N+1,N+6),M(this,N+2,N+5),M(this,N+3,N+4);return this},o.prototype.toString=function(){var S=this.length;return S===0?"":arguments.length===0?T(this,0,S):k.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(S){if(!o.isBuffer(S))throw new TypeError("Argument must be a Buffer");return this===S?!0:o.compare(this,S)===0},o.prototype.inspect=function(){var S="",N=r.INSPECT_MAX_BYTES;return S=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(S+=" ... "),"<Buffer "+S+">"},n&&(o.prototype[n]=o.prototype.inspect),o.prototype.compare=function(S,N,F,oe,xe){if(Ae(S,Uint8Array)&&(S=o.from(S,S.offset,S.byteLength)),!o.isBuffer(S))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof S);if(N===void 0&&(N=0),F===void 0&&(F=S?S.length:0),oe===void 0&&(oe=0),xe===void 0&&(xe=this.length),N<0||F>S.length||oe<0||xe>this.length)throw new RangeError("out of range index");if(oe>=xe&&N>=F)return 0;if(oe>=xe)return-1;if(N>=F)return 1;if(N>>>=0,F>>>=0,oe>>>=0,xe>>>=0,this===S)return 0;for(var fe=xe-oe,Ce=F-N,Re=Math.min(fe,Ce),Ie=this.slice(oe,xe),Ue=S.slice(N,F),Ke=0;Ke<Re;++Ke)if(Ie[Ke]!==Ue[Ke]){fe=Ie[Ke],Ce=Ue[Ke];break}return fe<Ce?-1:Ce<fe?1:0};function $(P,S,N,F,oe){if(P.length===0)return-1;if(typeof N=="string"?(F=N,N=0):N>2147483647?N=2147483647:N<-2147483648&&(N=-2147483648),N=+N,O(N)&&(N=oe?0:P.length-1),N<0&&(N=P.length+N),N>=P.length){if(oe)return-1;N=P.length-1}else if(N<0)if(oe)N=0;else return-1;if(typeof S=="string"&&(S=o.from(S,F)),o.isBuffer(S))return S.length===0?-1:H(P,S,N,F,oe);if(typeof S=="number")return S=S&255,typeof Uint8Array.prototype.indexOf=="function"?oe?Uint8Array.prototype.indexOf.call(P,S,N):Uint8Array.prototype.lastIndexOf.call(P,S,N):H(P,[S],N,F,oe);throw new TypeError("val must be string, number or Buffer")}function H(P,S,N,F,oe){var xe=1,fe=P.length,Ce=S.length;if(F!==void 0&&(F=String(F).toLowerCase(),F==="ucs2"||F==="ucs-2"||F==="utf16le"||F==="utf-16le")){if(P.length<2||S.length<2)return-1;xe=2,fe/=2,Ce/=2,N/=2}function Re(lt,wt){return xe===1?lt[wt]:lt.readUInt16BE(wt*xe)}var Ie;if(oe){var Ue=-1;for(Ie=N;Ie<fe;Ie++)if(Re(P,Ie)===Re(S,Ue===-1?0:Ie-Ue)){if(Ue===-1&&(Ue=Ie),Ie-Ue+1===Ce)return Ue*xe}else Ue!==-1&&(Ie-=Ie-Ue),Ue=-1}else for(N+Ce>fe&&(N=fe-Ce),Ie=N;Ie>=0;Ie--){for(var Ke=!0,Ze=0;Ze<Ce;Ze++)if(Re(P,Ie+Ze)!==Re(S,Ze)){Ke=!1;break}if(Ke)return Ie}return-1}o.prototype.includes=function(S,N,F){return this.indexOf(S,N,F)!==-1},o.prototype.indexOf=function(S,N,F){return $(this,S,N,F,!0)},o.prototype.lastIndexOf=function(S,N,F){return $(this,S,N,F,!1)};function q(P,S,N,F){N=Number(N)||0;var oe=P.length-N;F?(F=Number(F),F>oe&&(F=oe)):F=oe;var xe=S.length;F>xe/2&&(F=xe/2);for(var fe=0;fe<F;++fe){var Ce=parseInt(S.substr(fe*2,2),16);if(O(Ce))return fe;P[N+fe]=Ce}return fe}function D(P,S,N,F){return ie(I(S,P.length-N),P,N,F)}function se(P,S,N,F){return ie(ne(S),P,N,F)}function z(P,S,N,F){return ie(X(S),P,N,F)}function R(P,S,N,F){return ie(ue(S,P.length-N),P,N,F)}o.prototype.write=function(S,N,F,oe){if(N===void 0)oe="utf8",F=this.length,N=0;else if(F===void 0&&typeof N=="string")oe=N,F=this.length,N=0;else if(isFinite(N))N=N>>>0,isFinite(F)?(F=F>>>0,oe===void 0&&(oe="utf8")):(oe=F,F=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var xe=this.length-N;if((F===void 0||F>xe)&&(F=xe),S.length>0&&(F<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");oe||(oe="utf8");for(var fe=!1;;)switch(oe){case"hex":return q(this,S,N,F);case"utf8":case"utf-8":return D(this,S,N,F);case"ascii":case"latin1":case"binary":return se(this,S,N,F);case"base64":return z(this,S,N,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,S,N,F);default:if(fe)throw new TypeError("Unknown encoding: "+oe);oe=(""+oe).toLowerCase(),fe=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function V(P,S,N){return S===0&&N===P.length?e.fromByteArray(P):e.fromByteArray(P.slice(S,N))}function T(P,S,N){N=Math.min(P.length,N);for(var F=[],oe=S;oe<N;){var xe=P[oe],fe=null,Ce=xe>239?4:xe>223?3:xe>191?2:1;if(oe+Ce<=N){var Re,Ie,Ue,Ke;switch(Ce){case 1:xe<128&&(fe=xe);break;case 2:Re=P[oe+1],(Re&192)===128&&(Ke=(xe&31)<<6|Re&63,Ke>127&&(fe=Ke));break;case 3:Re=P[oe+1],Ie=P[oe+2],(Re&192)===128&&(Ie&192)===128&&(Ke=(xe&15)<<12|(Re&63)<<6|Ie&63,Ke>2047&&(Ke<55296||Ke>57343)&&(fe=Ke));break;case 4:Re=P[oe+1],Ie=P[oe+2],Ue=P[oe+3],(Re&192)===128&&(Ie&192)===128&&(Ue&192)===128&&(Ke=(xe&15)<<18|(Re&63)<<12|(Ie&63)<<6|Ue&63,Ke>65535&&Ke<1114112&&(fe=Ke))}}fe===null?(fe=65533,Ce=1):fe>65535&&(fe-=65536,F.push(fe>>>10&1023|55296),fe=56320|fe&1023),F.push(fe),oe+=Ce}return he(F)}var K=4096;function he(P){var S=P.length;if(S<=K)return String.fromCharCode.apply(String,P);for(var N="",F=0;F<S;)N+=String.fromCharCode.apply(String,P.slice(F,F+=K));return N}function le(P,S,N){var F="";N=Math.min(P.length,N);for(var oe=S;oe<N;++oe)F+=String.fromCharCode(P[oe]&127);return F}function me(P,S,N){var F="";N=Math.min(P.length,N);for(var oe=S;oe<N;++oe)F+=String.fromCharCode(P[oe]);return F}function pe(P,S,N){var F=P.length;(!S||S<0)&&(S=0),(!N||N<0||N>F)&&(N=F);for(var oe="",xe=S;xe<N;++xe)oe+=ve[P[xe]];return oe}function be(P,S,N){for(var F=P.slice(S,N),oe="",xe=0;xe<F.length-1;xe+=2)oe+=String.fromCharCode(F[xe]+F[xe+1]*256);return oe}o.prototype.slice=function(S,N){var F=this.length;S=~~S,N=N===void 0?F:~~N,S<0?(S+=F,S<0&&(S=0)):S>F&&(S=F),N<0?(N+=F,N<0&&(N=0)):N>F&&(N=F),N<S&&(N=S);var oe=this.subarray(S,N);return Object.setPrototypeOf(oe,o.prototype),oe};function ge(P,S,N){if(P%1!==0||P<0)throw new RangeError("offset is not uint");if(P+S>N)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(S,N,F){S=S>>>0,N=N>>>0,F||ge(S,N,this.length);for(var oe=this[S],xe=1,fe=0;++fe<N&&(xe*=256);)oe+=this[S+fe]*xe;return oe},o.prototype.readUintBE=o.prototype.readUIntBE=function(S,N,F){S=S>>>0,N=N>>>0,F||ge(S,N,this.length);for(var oe=this[S+--N],xe=1;N>0&&(xe*=256);)oe+=this[S+--N]*xe;return oe},o.prototype.readUint8=o.prototype.readUInt8=function(S,N){return S=S>>>0,N||ge(S,1,this.length),this[S]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(S,N){return S=S>>>0,N||ge(S,2,this.length),this[S]|this[S+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(S,N){return S=S>>>0,N||ge(S,2,this.length),this[S]<<8|this[S+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(S,N){return S=S>>>0,N||ge(S,4,this.length),(this[S]|this[S+1]<<8|this[S+2]<<16)+this[S+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(S,N){return S=S>>>0,N||ge(S,4,this.length),this[S]*16777216+(this[S+1]<<16|this[S+2]<<8|this[S+3])},o.prototype.readIntLE=function(S,N,F){S=S>>>0,N=N>>>0,F||ge(S,N,this.length);for(var oe=this[S],xe=1,fe=0;++fe<N&&(xe*=256);)oe+=this[S+fe]*xe;return xe*=128,oe>=xe&&(oe-=Math.pow(2,8*N)),oe},o.prototype.readIntBE=function(S,N,F){S=S>>>0,N=N>>>0,F||ge(S,N,this.length);for(var oe=N,xe=1,fe=this[S+--oe];oe>0&&(xe*=256);)fe+=this[S+--oe]*xe;return xe*=128,fe>=xe&&(fe-=Math.pow(2,8*N)),fe},o.prototype.readInt8=function(S,N){return S=S>>>0,N||ge(S,1,this.length),this[S]&128?(255-this[S]+1)*-1:this[S]},o.prototype.readInt16LE=function(S,N){S=S>>>0,N||ge(S,2,this.length);var F=this[S]|this[S+1]<<8;return F&32768?F|4294901760:F},o.prototype.readInt16BE=function(S,N){S=S>>>0,N||ge(S,2,this.length);var F=this[S+1]|this[S]<<8;return F&32768?F|4294901760:F},o.prototype.readInt32LE=function(S,N){return S=S>>>0,N||ge(S,4,this.length),this[S]|this[S+1]<<8|this[S+2]<<16|this[S+3]<<24},o.prototype.readInt32BE=function(S,N){return S=S>>>0,N||ge(S,4,this.length),this[S]<<24|this[S+1]<<16|this[S+2]<<8|this[S+3]},o.prototype.readFloatLE=function(S,N){return S=S>>>0,N||ge(S,4,this.length),t.read(this,S,!0,23,4)},o.prototype.readFloatBE=function(S,N){return S=S>>>0,N||ge(S,4,this.length),t.read(this,S,!1,23,4)},o.prototype.readDoubleLE=function(S,N){return S=S>>>0,N||ge(S,8,this.length),t.read(this,S,!0,52,8)},o.prototype.readDoubleBE=function(S,N){return S=S>>>0,N||ge(S,8,this.length),t.read(this,S,!1,52,8)};function C(P,S,N,F,oe,xe){if(!o.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(S>oe||S<xe)throw new RangeError('"value" argument is out of bounds');if(N+F>P.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(S,N,F,oe){if(S=+S,N=N>>>0,F=F>>>0,!oe){var xe=Math.pow(2,8*F)-1;C(this,S,N,F,xe,0)}var fe=1,Ce=0;for(this[N]=S&255;++Ce<F&&(fe*=256);)this[N+Ce]=S/fe&255;return N+F},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(S,N,F,oe){if(S=+S,N=N>>>0,F=F>>>0,!oe){var xe=Math.pow(2,8*F)-1;C(this,S,N,F,xe,0)}var fe=F-1,Ce=1;for(this[N+fe]=S&255;--fe>=0&&(Ce*=256);)this[N+fe]=S/Ce&255;return N+F},o.prototype.writeUint8=o.prototype.writeUInt8=function(S,N,F){return S=+S,N=N>>>0,F||C(this,S,N,1,255,0),this[N]=S&255,N+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(S,N,F){return S=+S,N=N>>>0,F||C(this,S,N,2,65535,0),this[N]=S&255,this[N+1]=S>>>8,N+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(S,N,F){return S=+S,N=N>>>0,F||C(this,S,N,2,65535,0),this[N]=S>>>8,this[N+1]=S&255,N+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(S,N,F){return S=+S,N=N>>>0,F||C(this,S,N,4,4294967295,0),this[N+3]=S>>>24,this[N+2]=S>>>16,this[N+1]=S>>>8,this[N]=S&255,N+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(S,N,F){return S=+S,N=N>>>0,F||C(this,S,N,4,4294967295,0),this[N]=S>>>24,this[N+1]=S>>>16,this[N+2]=S>>>8,this[N+3]=S&255,N+4},o.prototype.writeIntLE=function(S,N,F,oe){if(S=+S,N=N>>>0,!oe){var xe=Math.pow(2,8*F-1);C(this,S,N,F,xe-1,-xe)}var fe=0,Ce=1,Re=0;for(this[N]=S&255;++fe<F&&(Ce*=256);)S<0&&Re===0&&this[N+fe-1]!==0&&(Re=1),this[N+fe]=(S/Ce>>0)-Re&255;return N+F},o.prototype.writeIntBE=function(S,N,F,oe){if(S=+S,N=N>>>0,!oe){var xe=Math.pow(2,8*F-1);C(this,S,N,F,xe-1,-xe)}var fe=F-1,Ce=1,Re=0;for(this[N+fe]=S&255;--fe>=0&&(Ce*=256);)S<0&&Re===0&&this[N+fe+1]!==0&&(Re=1),this[N+fe]=(S/Ce>>0)-Re&255;return N+F},o.prototype.writeInt8=function(S,N,F){return S=+S,N=N>>>0,F||C(this,S,N,1,127,-128),S<0&&(S=255+S+1),this[N]=S&255,N+1},o.prototype.writeInt16LE=function(S,N,F){return S=+S,N=N>>>0,F||C(this,S,N,2,32767,-32768),this[N]=S&255,this[N+1]=S>>>8,N+2},o.prototype.writeInt16BE=function(S,N,F){return S=+S,N=N>>>0,F||C(this,S,N,2,32767,-32768),this[N]=S>>>8,this[N+1]=S&255,N+2},o.prototype.writeInt32LE=function(S,N,F){return S=+S,N=N>>>0,F||C(this,S,N,4,2147483647,-2147483648),this[N]=S&255,this[N+1]=S>>>8,this[N+2]=S>>>16,this[N+3]=S>>>24,N+4},o.prototype.writeInt32BE=function(S,N,F){return S=+S,N=N>>>0,F||C(this,S,N,4,2147483647,-2147483648),S<0&&(S=4294967295+S+1),this[N]=S>>>24,this[N+1]=S>>>16,this[N+2]=S>>>8,this[N+3]=S&255,N+4};function B(P,S,N,F,oe,xe){if(N+F>P.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("Index out of range")}function G(P,S,N,F,oe){return S=+S,N=N>>>0,oe||B(P,S,N,4),t.write(P,S,N,F,23,4),N+4}o.prototype.writeFloatLE=function(S,N,F){return G(this,S,N,!0,F)},o.prototype.writeFloatBE=function(S,N,F){return G(this,S,N,!1,F)};function ae(P,S,N,F,oe){return S=+S,N=N>>>0,oe||B(P,S,N,8),t.write(P,S,N,F,52,8),N+8}o.prototype.writeDoubleLE=function(S,N,F){return ae(this,S,N,!0,F)},o.prototype.writeDoubleBE=function(S,N,F){return ae(this,S,N,!1,F)},o.prototype.copy=function(S,N,F,oe){if(!o.isBuffer(S))throw new TypeError("argument should be a Buffer");if(F||(F=0),!oe&&oe!==0&&(oe=this.length),N>=S.length&&(N=S.length),N||(N=0),oe>0&&oe<F&&(oe=F),oe===F||S.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if(F<0||F>=this.length)throw new RangeError("Index out of range");if(oe<0)throw new RangeError("sourceEnd out of bounds");oe>this.length&&(oe=this.length),S.length-N<oe-F&&(oe=S.length-N+F);var xe=oe-F;return this===S&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(N,F,oe):Uint8Array.prototype.set.call(S,this.subarray(F,oe),N),xe},o.prototype.fill=function(S,N,F,oe){if(typeof S=="string"){if(typeof N=="string"?(oe=N,N=0,F=this.length):typeof F=="string"&&(oe=F,F=this.length),oe!==void 0&&typeof oe!="string")throw new TypeError("encoding must be a string");if(typeof oe=="string"&&!o.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);if(S.length===1){var xe=S.charCodeAt(0);(oe==="utf8"&&xe<128||oe==="latin1")&&(S=xe)}}else typeof S=="number"?S=S&255:typeof S=="boolean"&&(S=Number(S));if(N<0||this.length<N||this.length<F)throw new RangeError("Out of range index");if(F<=N)return this;N=N>>>0,F=F===void 0?this.length:F>>>0,S||(S=0);var fe;if(typeof S=="number")for(fe=N;fe<F;++fe)this[fe]=S;else{var Ce=o.isBuffer(S)?S:o.from(S,oe),Re=Ce.length;if(Re===0)throw new TypeError('The value "'+S+'" is invalid for argument "value"');for(fe=0;fe<F-N;++fe)this[fe+N]=Ce[fe%Re]}return this};var J=/[^+/0-9A-Za-z-_]/g;function L(P){if(P=P.split("=")[0],P=P.trim().replace(J,""),P.length<2)return"";for(;P.length%4!==0;)P=P+"=";return P}function I(P,S){S=S||1/0;for(var N,F=P.length,oe=null,xe=[],fe=0;fe<F;++fe){if(N=P.charCodeAt(fe),N>55295&&N<57344){if(!oe){if(N>56319){(S-=3)>-1&&xe.push(239,191,189);continue}else if(fe+1===F){(S-=3)>-1&&xe.push(239,191,189);continue}oe=N;continue}if(N<56320){(S-=3)>-1&&xe.push(239,191,189),oe=N;continue}N=(oe-55296<<10|N-56320)+65536}else oe&&(S-=3)>-1&&xe.push(239,191,189);if(oe=null,N<128){if((S-=1)<0)break;xe.push(N)}else if(N<2048){if((S-=2)<0)break;xe.push(N>>6|192,N&63|128)}else if(N<65536){if((S-=3)<0)break;xe.push(N>>12|224,N>>6&63|128,N&63|128)}else if(N<1114112){if((S-=4)<0)break;xe.push(N>>18|240,N>>12&63|128,N>>6&63|128,N&63|128)}else throw new Error("Invalid code point")}return xe}function ne(P){for(var S=[],N=0;N<P.length;++N)S.push(P.charCodeAt(N)&255);return S}function ue(P,S){for(var N,F,oe,xe=[],fe=0;fe<P.length&&!((S-=2)<0);++fe)N=P.charCodeAt(fe),F=N>>8,oe=N%256,xe.push(oe),xe.push(F);return xe}function X(P){return e.toByteArray(L(P))}function ie(P,S,N,F){for(var oe=0;oe<F&&!(oe+N>=S.length||oe>=P.length);++oe)S[oe+N]=P[oe];return oe}function Ae(P,S){return P instanceof S||P!=null&&P.constructor!=null&&P.constructor.name!=null&&P.constructor.name===S.name}function O(P){return P!==P}var ve=function(){for(var P="0123456789abcdef",S=new Array(256),N=0;N<16;++N)for(var F=N*16,oe=0;oe<16;++oe)S[F+oe]=P[N]+P[oe];return S}()}(Q2)),Q2}var J2={},Z2={},e5,rC;function pI(){return rC||(rC=1,e5=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,t);if(a.value!==i||a.enumerable!==!0)return!1}return!0}),e5}var t5,nC;function HN(){if(nC)return t5;nC=1;var r=pI();return t5=function(){return r()&&!!Symbol.toStringTag},t5}var r5,iC;function E9(){if(iC)return r5;iC=1;var r=typeof Symbol<"u"&&Symbol,e=pI();return r5=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},r5}var n5,sC;function k9(){if(sC)return n5;sC=1;var r={foo:{}},e=Object;return n5=function(){return{__proto__:r}.foo===r.foo&&!({__proto__:null}instanceof e)},n5}var i5,aC;function C9(){if(aC)return i5;aC=1;var r="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,n="[object Function]",i=function(l,u){for(var h=[],f=0;f<l.length;f+=1)h[f]=l[f];for(var p=0;p<u.length;p+=1)h[p+l.length]=u[p];return h},s=function(l,u){for(var h=[],f=u,p=0;f<l.length;f+=1,p+=1)h[p]=l[f];return h},a=function(o,l){for(var u="",h=0;h<o.length;h+=1)u+=o[h],h+1<o.length&&(u+=l);return u};return i5=function(l){var u=this;if(typeof u!="function"||e.apply(u)!==n)throw new TypeError(r+u);for(var h=s(arguments,1),f,p=function(){if(this instanceof f){var y=u.apply(this,i(h,arguments));return Object(y)===y?y:this}return u.apply(l,i(h,arguments))},d=t(0,u.length-h.length),x=[],v=0;v<d;v++)x[v]="$"+v;if(f=Function("binder","return function ("+a(x,",")+"){ return binder.apply(this,arguments); }")(p),u.prototype){var b=function(){};b.prototype=u.prototype,f.prototype=new b,b.prototype=null}return f},i5}var s5,oC;function qN(){if(oC)return s5;oC=1;var r=C9();return s5=Function.prototype.bind||r,s5}var a5,lC;function T9(){if(lC)return a5;lC=1;var r=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=qN();return a5=t.call(r,e),a5}var o5,cC;function Sm(){if(cC)return o5;cC=1;var r,e=SyntaxError,t=Function,n=TypeError,i=function(R){try{return t('"use strict"; return ('+R+").constructor;")()}catch{}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch{s=null}var a=function(){throw new n},o=s?function(){try{return arguments.callee,a}catch{try{return s(arguments,"callee").get}catch{return a}}}():a,l=E9()(),u=k9()(),h=Object.getPrototypeOf||(u?function(R){return R.__proto__}:null),f={},p=typeof Uint8Array>"u"||!h?r:h(Uint8Array),d={"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":l&&h?h([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":t,"%GeneratorFunction%":f,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l&&h?h(h([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!l||!h?r:h(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!l||!h?r:h(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l&&h?h(""[Symbol.iterator]()):r,"%Symbol%":l?Symbol:r,"%SyntaxError%":e,"%ThrowTypeError%":o,"%TypedArray%":p,"%TypeError%":n,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet};if(h)try{null.error}catch(R){var x=h(h(R));d["%Error.prototype%"]=x}var v=function R(V){var T;if(V==="%AsyncFunction%")T=i("async function () {}");else if(V==="%GeneratorFunction%")T=i("function* () {}");else if(V==="%AsyncGeneratorFunction%")T=i("async function* () {}");else if(V==="%AsyncGenerator%"){var K=R("%AsyncGeneratorFunction%");K&&(T=K.prototype)}else if(V==="%AsyncIteratorPrototype%"){var he=R("%AsyncGenerator%");he&&h&&(T=h(he.prototype))}return d[V]=T,T},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},y=qN(),w=T9(),A=y.call(Function.call,Array.prototype.concat),k=y.call(Function.apply,Array.prototype.splice),M=y.call(Function.call,String.prototype.replace),$=y.call(Function.call,String.prototype.slice),H=y.call(Function.call,RegExp.prototype.exec),q=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,D=/\\(\\)?/g,se=function(V){var T=$(V,0,1),K=$(V,-1);if(T==="%"&&K!=="%")throw new e("invalid intrinsic syntax, expected closing `%`");if(K==="%"&&T!=="%")throw new e("invalid intrinsic syntax, expected opening `%`");var he=[];return M(V,q,function(le,me,pe,be){he[he.length]=pe?M(be,D,"$1"):me||le}),he},z=function(V,T){var K=V,he;if(w(b,K)&&(he=b[K],K="%"+he[0]+"%"),w(d,K)){var le=d[K];if(le===f&&(le=v(K)),typeof le>"u"&&!T)throw new n("intrinsic "+V+" exists, but is not available. Please file an issue!");return{alias:he,name:K,value:le}}throw new e("intrinsic "+V+" does not exist!")};return o5=function(V,T){if(typeof V!="string"||V.length===0)throw new n("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof T!="boolean")throw new n('"allowMissing" argument must be a boolean');if(H(/^%?[^%]*%?$/,V)===null)throw new e("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var K=se(V),he=K.length>0?K[0]:"",le=z("%"+he+"%",T),me=le.name,pe=le.value,be=!1,ge=le.alias;ge&&(he=ge[0],k(K,A([0,1],ge)));for(var C=1,B=!0;C<K.length;C+=1){var G=K[C],ae=$(G,0,1),J=$(G,-1);if((ae==='"'||ae==="'"||ae==="`"||J==='"'||J==="'"||J==="`")&&ae!==J)throw new e("property names with quotes must have matching quotes");if((G==="constructor"||!B)&&(be=!0),he+="."+G,me="%"+he+"%",w(d,me))pe=d[me];else if(pe!=null){if(!(G in pe)){if(!T)throw new n("base intrinsic for "+V+" exists, but the property is not available.");return}if(s&&C+1>=K.length){var L=s(pe,G);B=!!L,B&&"get"in L&&!("originalValue"in L.get)?pe=L.get:pe=pe[G]}else B=w(pe,G),pe=pe[G];B&&!be&&(d[me]=pe)}}return pe},o5}var l5={exports:{}},c5,uC;function mI(){if(uC)return c5;uC=1;var r=Sm(),e=r("%Object.defineProperty%",!0),t=function(){if(e)try{return e({},"a",{value:1}),!0}catch{return!1}return!1};return t.hasArrayLengthDefineBug=function(){if(!t())return null;try{return e([],"length",{value:1}).length!==1}catch{return!0}},c5=t,c5}var u5,hC;function WN(){if(hC)return u5;hC=1;var r=Sm(),e=r("%Object.getOwnPropertyDescriptor%",!0);if(e)try{e([],"length")}catch{e=null}return u5=e,u5}var h5,dC;function j9(){if(dC)return h5;dC=1;var r=mI()(),e=Sm(),t=r&&e("%Object.defineProperty%",!0);if(t)try{t({},"a",{value:1})}catch{t=!1}var n=e("%SyntaxError%"),i=e("%TypeError%"),s=WN();return h5=function(o,l,u){if(!o||typeof o!="object"&&typeof o!="function")throw new i("`obj` must be an object or a function`");if(typeof l!="string"&&typeof l!="symbol")throw new i("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new i("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new i("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new i("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new i("`loose`, if provided, must be a boolean");var h=arguments.length>3?arguments[3]:null,f=arguments.length>4?arguments[4]:null,p=arguments.length>5?arguments[5]:null,d=arguments.length>6?arguments[6]:!1,x=!!s&&s(o,l);if(t)t(o,l,{configurable:p===null&&x?x.configurable:!p,enumerable:h===null&&x?x.enumerable:!h,value:u,writable:f===null&&x?x.writable:!f});else if(d||!h&&!f&&!p)o[l]=u;else throw new n("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},h5}var d5,fC;function P9(){if(fC)return d5;fC=1;var r=Sm(),e=j9(),t=mI()(),n=WN(),i=r("%TypeError%"),s=r("%Math.floor%");return d5=function(o,l){if(typeof o!="function")throw new i("`fn` is not a function");if(typeof l!="number"||l<0||l>4294967295||s(l)!==l)throw new i("`length` must be a positive 32-bit integer");var u=arguments.length>2&&!!arguments[2],h=!0,f=!0;if("length"in o&&n){var p=n(o,"length");p&&!p.configurable&&(h=!1),p&&!p.writable&&(f=!1)}return(h||f||!u)&&(t?e(o,"length",l,!0,!0):e(o,"length",l)),o},d5}var pC;function gI(){return pC||(pC=1,function(r){var e=qN(),t=Sm(),n=P9(),i=t("%TypeError%"),s=t("%Function.prototype.apply%"),a=t("%Function.prototype.call%"),o=t("%Reflect.apply%",!0)||e.call(a,s),l=t("%Object.defineProperty%",!0),u=t("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}r.exports=function(p){if(typeof p!="function")throw new i("a function is required");var d=o(e,a,arguments);return n(d,1+u(0,p.length-(arguments.length-1)),!0)};var h=function(){return o(e,s,arguments)};l?l(r.exports,"apply",{value:h}):r.exports.apply=h}(l5)),l5.exports}var f5,mC;function yI(){if(mC)return f5;mC=1;var r=Sm(),e=gI(),t=e(r("String.prototype.indexOf"));return f5=function(i,s){var a=r(i,!!s);return typeof a=="function"&&t(i,".prototype.")>-1?e(a):a},f5}var p5,gC;function L9(){if(gC)return p5;gC=1;var r=HN()(),e=yI(),t=e("Object.prototype.toString"),n=function(o){return r&&o&&typeof o=="object"&&Symbol.toStringTag in o?!1:t(o)==="[object Arguments]"},i=function(o){return n(o)?!0:o!==null&&typeof o=="object"&&typeof o.length=="number"&&o.length>=0&&t(o)!=="[object Array]"&&t(o.callee)==="[object Function]"},s=function(){return n(arguments)}();return n.isLegacyArguments=i,p5=s?n:i,p5}var m5,yC;function I9(){if(yC)return m5;yC=1;var r=Object.prototype.toString,e=Function.prototype.toString,t=/^\s*(?:function)?\*/,n=HN()(),i=Object.getPrototypeOf,s=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},a;return m5=function(l){if(typeof l!="function")return!1;if(t.test(e.call(l)))return!0;if(!n){var u=r.call(l);return u==="[object GeneratorFunction]"}if(!i)return!1;if(typeof a>"u"){var h=s();a=h?i(h):!1}return i(l)===a},m5}var g5,vC;function R9(){if(vC)return g5;vC=1;var r=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,t,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{t=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,t)}catch(w){w!==n&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(A){try{var k=r.call(A);return i.test(k)}catch{return!1}},a=function(A){try{return s(A)?!1:(r.call(A),!0)}catch{return!1}},o=Object.prototype.toString,l="[object Object]",u="[object Function]",h="[object GeneratorFunction]",f="[object HTMLAllCollection]",p="[object HTML document.all class]",d="[object HTMLCollection]",x=typeof Symbol=="function"&&!!Symbol.toStringTag,v=!(0 in[,]),b=function(){return!1};if(typeof document=="object"){var y=document.all;o.call(y)===o.call(document.all)&&(b=function(A){if((v||!A)&&(typeof A>"u"||typeof A=="object"))try{var k=o.call(A);return(k===f||k===p||k===d||k===l)&&A("")==null}catch{}return!1})}return g5=e?function(A){if(b(A))return!0;if(!A||typeof A!="function"&&typeof A!="object")return!1;try{e(A,null,t)}catch(k){if(k!==n)return!1}return!s(A)&&a(A)}:function(A){if(b(A))return!0;if(!A||typeof A!="function"&&typeof A!="object")return!1;if(x)return a(A);if(s(A))return!1;var k=o.call(A);return k!==u&&k!==h&&!/^\[object HTML/.test(k)?!1:a(A)},g5}var y5,xC;function F9(){if(xC)return y5;xC=1;var r=R9(),e=Object.prototype.toString,t=Object.prototype.hasOwnProperty,n=function(l,u,h){for(var f=0,p=l.length;f<p;f++)t.call(l,f)&&(h==null?u(l[f],f,l):u.call(h,l[f],f,l))},i=function(l,u,h){for(var f=0,p=l.length;f<p;f++)h==null?u(l.charAt(f),f,l):u.call(h,l.charAt(f),f,l)},s=function(l,u,h){for(var f in l)t.call(l,f)&&(h==null?u(l[f],f,l):u.call(h,l[f],f,l))},a=function(l,u,h){if(!r(u))throw new TypeError("iterator must be a function");var f;arguments.length>=3&&(f=h),e.call(l)==="[object Array]"?n(l,u,f):typeof l=="string"?i(l,u,f):s(l,u,f)};return y5=a,y5}var v5,wC;function D9(){if(wC)return v5;wC=1;var r=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],e=typeof globalThis>"u"?jo:globalThis;return v5=function(){for(var n=[],i=0;i<r.length;i++)typeof e[r[i]]=="function"&&(n[n.length]=r[i]);return n},v5}var x5,bC;function vI(){if(bC)return x5;bC=1;var r=F9(),e=D9(),t=gI(),n=yI(),i=WN(),s=n("Object.prototype.toString"),a=HN()(),o=typeof globalThis>"u"?jo:globalThis,l=e(),u=n("String.prototype.slice"),h=Object.getPrototypeOf,f=n("Array.prototype.indexOf",!0)||function(b,y){for(var w=0;w<b.length;w+=1)if(b[w]===y)return w;return-1},p={__proto__:null};a&&i&&h?r(l,function(v){var b=new o[v];if(Symbol.toStringTag in b){var y=h(b),w=i(y,Symbol.toStringTag);if(!w){var A=h(y);w=i(A,Symbol.toStringTag)}p["$"+v]=t(w.get)}}):r(l,function(v){var b=new o[v],y=b.slice||b.set;y&&(p["$"+v]=t(y))});var d=function(b){var y=!1;return r(p,function(w,A){if(!y)try{"$"+w(b)===A&&(y=u(A,1))}catch{}}),y},x=function(b){var y=!1;return r(p,function(w,A){if(!y)try{w(b),y=u(A,1)}catch{}}),y};return x5=function(b){if(!b||typeof b!="object")return!1;if(!a){var y=u(s(b),8,-1);return f(l,y)>-1?y:y!=="Object"?!1:x(b)}return i?d(b):null},x5}var w5,AC;function M9(){if(AC)return w5;AC=1;var r=vI();return w5=function(t){return!!r(t)},w5}var _C;function O9(){return _C||(_C=1,function(r){var e=L9(),t=I9(),n=vI(),i=M9();function s(F){return F.call.bind(F)}var a=typeof BigInt<"u",o=typeof Symbol<"u",l=s(Object.prototype.toString),u=s(Number.prototype.valueOf),h=s(String.prototype.valueOf),f=s(Boolean.prototype.valueOf);if(a)var p=s(BigInt.prototype.valueOf);if(o)var d=s(Symbol.prototype.valueOf);function x(F,oe){if(typeof F!="object")return!1;try{return oe(F),!0}catch{return!1}}r.isArgumentsObject=e,r.isGeneratorFunction=t,r.isTypedArray=i;function v(F){return typeof Promise<"u"&&F instanceof Promise||F!==null&&typeof F=="object"&&typeof F.then=="function"&&typeof F.catch=="function"}r.isPromise=v;function b(F){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(F):i(F)||B(F)}r.isArrayBufferView=b;function y(F){return n(F)==="Uint8Array"}r.isUint8Array=y;function w(F){return n(F)==="Uint8ClampedArray"}r.isUint8ClampedArray=w;function A(F){return n(F)==="Uint16Array"}r.isUint16Array=A;function k(F){return n(F)==="Uint32Array"}r.isUint32Array=k;function M(F){return n(F)==="Int8Array"}r.isInt8Array=M;function $(F){return n(F)==="Int16Array"}r.isInt16Array=$;function H(F){return n(F)==="Int32Array"}r.isInt32Array=H;function q(F){return n(F)==="Float32Array"}r.isFloat32Array=q;function D(F){return n(F)==="Float64Array"}r.isFloat64Array=D;function se(F){return n(F)==="BigInt64Array"}r.isBigInt64Array=se;function z(F){return n(F)==="BigUint64Array"}r.isBigUint64Array=z;function R(F){return l(F)==="[object Map]"}R.working=typeof Map<"u"&&R(new Map);function V(F){return typeof Map>"u"?!1:R.working?R(F):F instanceof Map}r.isMap=V;function T(F){return l(F)==="[object Set]"}T.working=typeof Set<"u"&&T(new Set);function K(F){return typeof Set>"u"?!1:T.working?T(F):F instanceof Set}r.isSet=K;function he(F){return l(F)==="[object WeakMap]"}he.working=typeof WeakMap<"u"&&he(new WeakMap);function le(F){return typeof WeakMap>"u"?!1:he.working?he(F):F instanceof WeakMap}r.isWeakMap=le;function me(F){return l(F)==="[object WeakSet]"}me.working=typeof WeakSet<"u"&&me(new WeakSet);function pe(F){return me(F)}r.isWeakSet=pe;function be(F){return l(F)==="[object ArrayBuffer]"}be.working=typeof ArrayBuffer<"u"&&be(new ArrayBuffer);function ge(F){return typeof ArrayBuffer>"u"?!1:be.working?be(F):F instanceof ArrayBuffer}r.isArrayBuffer=ge;function C(F){return l(F)==="[object DataView]"}C.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&C(new DataView(new ArrayBuffer(1),0,1));function B(F){return typeof DataView>"u"?!1:C.working?C(F):F instanceof DataView}r.isDataView=B;var G=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ae(F){return l(F)==="[object SharedArrayBuffer]"}function J(F){return typeof G>"u"?!1:(typeof ae.working>"u"&&(ae.working=ae(new G)),ae.working?ae(F):F instanceof G)}r.isSharedArrayBuffer=J;function L(F){return l(F)==="[object AsyncFunction]"}r.isAsyncFunction=L;function I(F){return l(F)==="[object Map Iterator]"}r.isMapIterator=I;function ne(F){return l(F)==="[object Set Iterator]"}r.isSetIterator=ne;function ue(F){return l(F)==="[object Generator]"}r.isGeneratorObject=ue;function X(F){return l(F)==="[object WebAssembly.Module]"}r.isWebAssemblyCompiledModule=X;function ie(F){return x(F,u)}r.isNumberObject=ie;function Ae(F){return x(F,h)}r.isStringObject=Ae;function O(F){return x(F,f)}r.isBooleanObject=O;function ve(F){return a&&x(F,p)}r.isBigIntObject=ve;function P(F){return o&&x(F,d)}r.isSymbolObject=P;function S(F){return ie(F)||Ae(F)||O(F)||ve(F)||P(F)}r.isBoxedPrimitive=S;function N(F){return typeof Uint8Array<"u"&&(ge(F)||J(F))}r.isAnyArrayBuffer=N,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(F){Object.defineProperty(r,F,{enumerable:!1,value:function(){throw new Error(F+" is not supported in userland")}})})}(Z2)),Z2}var b5,SC;function B9(){return SC||(SC=1,b5=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),b5}var NC;function xI(){return NC||(NC=1,function(r){var e=Object.getOwnPropertyDescriptors||function(B){for(var G=Object.keys(B),ae={},J=0;J<G.length;J++)ae[G[J]]=Object.getOwnPropertyDescriptor(B,G[J]);return ae},t=/%[sdj%]/g;r.format=function(C){if(!M(C)){for(var B=[],G=0;G<arguments.length;G++)B.push(a(arguments[G]));return B.join(" ")}for(var G=1,ae=arguments,J=ae.length,L=String(C).replace(t,function(ne){if(ne==="%%")return"%";if(G>=J)return ne;switch(ne){case"%s":return String(ae[G++]);case"%d":return Number(ae[G++]);case"%j":try{return JSON.stringify(ae[G++])}catch{return"[Circular]"}default:return ne}}),I=ae[G];G<J;I=ae[++G])w(I)||!D(I)?L+=" "+I:L+=" "+a(I);return L},r.deprecate=function(C,B){if(typeof It<"u"&&It.noDeprecation===!0)return C;if(typeof It>"u")return function(){return r.deprecate(C,B).apply(this,arguments)};var G=!1;function ae(){if(!G){if(It.throwDeprecation)throw new Error(B);It.traceDeprecation?console.trace(B):console.error(B),G=!0}return C.apply(this,arguments)}return ae};var n={},i=/^$/;if(It.env.NODE_DEBUG){var s=It.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}r.debuglog=function(C){if(C=C.toUpperCase(),!n[C])if(i.test(C)){var B=It.pid;n[C]=function(){var G=r.format.apply(r,arguments);console.error("%s %d: %s",C,B,G)}}else n[C]=function(){};return n[C]};function a(C,B){var G={seen:[],stylize:l};return arguments.length>=3&&(G.depth=arguments[2]),arguments.length>=4&&(G.colors=arguments[3]),y(B)?G.showHidden=B:B&&r._extend(G,B),H(G.showHidden)&&(G.showHidden=!1),H(G.depth)&&(G.depth=2),H(G.colors)&&(G.colors=!1),H(G.customInspect)&&(G.customInspect=!0),G.colors&&(G.stylize=o),h(G,C,G.depth)}r.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(C,B){var G=a.styles[B];return G?"\x1B["+a.colors[G][0]+"m"+C+"\x1B["+a.colors[G][1]+"m":C}function l(C,B){return C}function u(C){var B={};return C.forEach(function(G,ae){B[G]=!0}),B}function h(C,B,G){if(C.customInspect&&B&&R(B.inspect)&&B.inspect!==r.inspect&&!(B.constructor&&B.constructor.prototype===B)){var ae=B.inspect(G,C);return M(ae)||(ae=h(C,ae,G)),ae}var J=f(C,B);if(J)return J;var L=Object.keys(B),I=u(L);if(C.showHidden&&(L=Object.getOwnPropertyNames(B)),z(B)&&(L.indexOf("message")>=0||L.indexOf("description")>=0))return p(B);if(L.length===0){if(R(B)){var ne=B.name?": "+B.name:"";return C.stylize("[Function"+ne+"]","special")}if(q(B))return C.stylize(RegExp.prototype.toString.call(B),"regexp");if(se(B))return C.stylize(Date.prototype.toString.call(B),"date");if(z(B))return p(B)}var ue="",X=!1,ie=["{","}"];if(b(B)&&(X=!0,ie=["[","]"]),R(B)){var Ae=B.name?": "+B.name:"";ue=" [Function"+Ae+"]"}if(q(B)&&(ue=" "+RegExp.prototype.toString.call(B)),se(B)&&(ue=" "+Date.prototype.toUTCString.call(B)),z(B)&&(ue=" "+p(B)),L.length===0&&(!X||B.length==0))return ie[0]+ue+ie[1];if(G<0)return q(B)?C.stylize(RegExp.prototype.toString.call(B),"regexp"):C.stylize("[Object]","special");C.seen.push(B);var O;return X?O=d(C,B,G,I,L):O=L.map(function(ve){return x(C,B,G,I,ve,X)}),C.seen.pop(),v(O,ue,ie)}function f(C,B){if(H(B))return C.stylize("undefined","undefined");if(M(B)){var G="'"+JSON.stringify(B).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return C.stylize(G,"string")}if(k(B))return C.stylize(""+B,"number");if(y(B))return C.stylize(""+B,"boolean");if(w(B))return C.stylize("null","null")}function p(C){return"["+Error.prototype.toString.call(C)+"]"}function d(C,B,G,ae,J){for(var L=[],I=0,ne=B.length;I<ne;++I)me(B,String(I))?L.push(x(C,B,G,ae,String(I),!0)):L.push("");return J.forEach(function(ue){ue.match(/^\d+$/)||L.push(x(C,B,G,ae,ue,!0))}),L}function x(C,B,G,ae,J,L){var I,ne,ue;if(ue=Object.getOwnPropertyDescriptor(B,J)||{value:B[J]},ue.get?ue.set?ne=C.stylize("[Getter/Setter]","special"):ne=C.stylize("[Getter]","special"):ue.set&&(ne=C.stylize("[Setter]","special")),me(ae,J)||(I="["+J+"]"),ne||(C.seen.indexOf(ue.value)<0?(w(G)?ne=h(C,ue.value,null):ne=h(C,ue.value,G-1),ne.indexOf(`
`)>-1&&(L?ne=ne.split(`
`).map(function(X){return"  "+X}).join(`
`).slice(2):ne=`
`+ne.split(`
`).map(function(X){return"   "+X}).join(`
`))):ne=C.stylize("[Circular]","special")),H(I)){if(L&&J.match(/^\d+$/))return ne;I=JSON.stringify(""+J),I.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(I=I.slice(1,-1),I=C.stylize(I,"name")):(I=I.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),I=C.stylize(I,"string"))}return I+": "+ne}function v(C,B,G){var ae=C.reduce(function(J,L){return L.indexOf(`
`)>=0,J+L.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ae>60?G[0]+(B===""?"":B+`
 `)+" "+C.join(`,
  `)+" "+G[1]:G[0]+B+" "+C.join(", ")+" "+G[1]}r.types=O9();function b(C){return Array.isArray(C)}r.isArray=b;function y(C){return typeof C=="boolean"}r.isBoolean=y;function w(C){return C===null}r.isNull=w;function A(C){return C==null}r.isNullOrUndefined=A;function k(C){return typeof C=="number"}r.isNumber=k;function M(C){return typeof C=="string"}r.isString=M;function $(C){return typeof C=="symbol"}r.isSymbol=$;function H(C){return C===void 0}r.isUndefined=H;function q(C){return D(C)&&T(C)==="[object RegExp]"}r.isRegExp=q,r.types.isRegExp=q;function D(C){return typeof C=="object"&&C!==null}r.isObject=D;function se(C){return D(C)&&T(C)==="[object Date]"}r.isDate=se,r.types.isDate=se;function z(C){return D(C)&&(T(C)==="[object Error]"||C instanceof Error)}r.isError=z,r.types.isNativeError=z;function R(C){return typeof C=="function"}r.isFunction=R;function V(C){return C===null||typeof C=="boolean"||typeof C=="number"||typeof C=="string"||typeof C=="symbol"||typeof C>"u"}r.isPrimitive=V,r.isBuffer=B9();function T(C){return Object.prototype.toString.call(C)}function K(C){return C<10?"0"+C.toString(10):C.toString(10)}var he=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function le(){var C=new Date,B=[K(C.getHours()),K(C.getMinutes()),K(C.getSeconds())].join(":");return[C.getDate(),he[C.getMonth()],B].join(" ")}r.log=function(){console.log("%s - %s",le(),r.format.apply(r,arguments))},r.inherits=bd,r._extend=function(C,B){if(!B||!D(B))return C;for(var G=Object.keys(B),ae=G.length;ae--;)C[G[ae]]=B[G[ae]];return C};function me(C,B){return Object.prototype.hasOwnProperty.call(C,B)}var pe=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;r.promisify=function(B){if(typeof B!="function")throw new TypeError('The "original" argument must be of type Function');if(pe&&B[pe]){var G=B[pe];if(typeof G!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(G,pe,{value:G,enumerable:!1,writable:!1,configurable:!0}),G}function G(){for(var ae,J,L=new Promise(function(ue,X){ae=ue,J=X}),I=[],ne=0;ne<arguments.length;ne++)I.push(arguments[ne]);I.push(function(ue,X){ue?J(ue):ae(X)});try{B.apply(this,I)}catch(ue){J(ue)}return L}return Object.setPrototypeOf(G,Object.getPrototypeOf(B)),pe&&Object.defineProperty(G,pe,{value:G,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(G,e(B))},r.promisify.custom=pe;function be(C,B){if(!C){var G=new Error("Promise was rejected with a falsy value");G.reason=C,C=G}return B(C)}function ge(C){if(typeof C!="function")throw new TypeError('The "original" argument must be of type Function');function B(){for(var G=[],ae=0;ae<arguments.length;ae++)G.push(arguments[ae]);var J=G.pop();if(typeof J!="function")throw new TypeError("The last argument must be of type Function");var L=this,I=function(){return J.apply(L,arguments)};C.apply(this,G).then(function(ne){It.nextTick(I.bind(null,null,ne))},function(ne){It.nextTick(be.bind(null,ne,I))})}return Object.setPrototypeOf(B,Object.getPrototypeOf(C)),Object.defineProperties(B,e(C)),B}r.callbackify=ge}(J2)),J2}var A5,EC;function U9(){if(EC)return A5;EC=1;function r(p,d){var x=Object.keys(p);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(p);d&&(v=v.filter(function(b){return Object.getOwnPropertyDescriptor(p,b).enumerable})),x.push.apply(x,v)}return x}function e(p){for(var d=1;d<arguments.length;d++){var x=arguments[d]!=null?arguments[d]:{};d%2?r(Object(x),!0).forEach(function(v){t(p,v,x[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(x)):r(Object(x)).forEach(function(v){Object.defineProperty(p,v,Object.getOwnPropertyDescriptor(x,v))})}return p}function t(p,d,x){return d in p?Object.defineProperty(p,d,{value:x,enumerable:!0,configurable:!0,writable:!0}):p[d]=x,p}function n(p,d){if(!(p instanceof d))throw new TypeError("Cannot call a class as a function")}function i(p,d){for(var x=0;x<d.length;x++){var v=d[x];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(p,v.key,v)}}function s(p,d,x){return d&&i(p.prototype,d),p}var a=db(),o=a.Buffer,l=xI(),u=l.inspect,h=u&&u.custom||"inspect";function f(p,d,x){o.prototype.copy.call(p,d,x)}return A5=function(){function p(){n(this,p),this.head=null,this.tail=null,this.length=0}return s(p,[{key:"push",value:function(x){var v={data:x,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}},{key:"unshift",value:function(x){var v={data:x,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}},{key:"shift",value:function(){if(this.length!==0){var x=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,x}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(x){if(this.length===0)return"";for(var v=this.head,b=""+v.data;v=v.next;)b+=x+v.data;return b}},{key:"concat",value:function(x){if(this.length===0)return o.alloc(0);for(var v=o.allocUnsafe(x>>>0),b=this.head,y=0;b;)f(b.data,v,y),y+=b.data.length,b=b.next;return v}},{key:"consume",value:function(x,v){var b;return x<this.head.data.length?(b=this.head.data.slice(0,x),this.head.data=this.head.data.slice(x)):x===this.head.data.length?b=this.shift():b=v?this._getString(x):this._getBuffer(x),b}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(x){var v=this.head,b=1,y=v.data;for(x-=y.length;v=v.next;){var w=v.data,A=x>w.length?w.length:x;if(A===w.length?y+=w:y+=w.slice(0,x),x-=A,x===0){A===w.length?(++b,v.next?this.head=v.next:this.head=this.tail=null):(this.head=v,v.data=w.slice(A));break}++b}return this.length-=b,y}},{key:"_getBuffer",value:function(x){var v=o.allocUnsafe(x),b=this.head,y=1;for(b.data.copy(v),x-=b.data.length;b=b.next;){var w=b.data,A=x>w.length?w.length:x;if(w.copy(v,v.length-x,0,A),x-=A,x===0){A===w.length?(++y,b.next?this.head=b.next:this.head=this.tail=null):(this.head=b,b.data=w.slice(A));break}++y}return this.length-=y,v}},{key:h,value:function(x,v){return u(this,e({},v,{depth:0,customInspect:!1}))}}]),p}(),A5}var _5,kC;function wI(){if(kC)return _5;kC=1;function r(a,o){var l=this,u=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return u||h?(o?o(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,It.nextTick(i,this,a)):It.nextTick(i,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(f){!o&&f?l._writableState?l._writableState.errorEmitted?It.nextTick(t,l):(l._writableState.errorEmitted=!0,It.nextTick(e,l,f)):It.nextTick(e,l,f):o?(It.nextTick(t,l),o(f)):It.nextTick(t,l)}),this)}function e(a,o){i(a,o),t(a)}function t(a){a._writableState&&!a._writableState.emitClose||a._readableState&&!a._readableState.emitClose||a.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(a,o){a.emit("error",o)}function s(a,o){var l=a._readableState,u=a._writableState;l&&l.autoDestroy||u&&u.autoDestroy?a.destroy(o):a.emit("error",o)}return _5={destroy:r,undestroy:n,errorOrDestroy:s},_5}var S5={},CC;function Nm(){if(CC)return S5;CC=1;function r(o,l){o.prototype=Object.create(l.prototype),o.prototype.constructor=o,o.__proto__=l}var e={};function t(o,l,u){u||(u=Error);function h(p,d,x){return typeof l=="string"?l:l(p,d,x)}var f=function(p){r(d,p);function d(x,v,b){return p.call(this,h(x,v,b))||this}return d}(u);f.prototype.name=u.name,f.prototype.code=o,e[o]=f}function n(o,l){if(Array.isArray(o)){var u=o.length;return o=o.map(function(h){return String(h)}),u>2?"one of ".concat(l," ").concat(o.slice(0,u-1).join(", "),", or ")+o[u-1]:u===2?"one of ".concat(l," ").concat(o[0]," or ").concat(o[1]):"of ".concat(l," ").concat(o[0])}else return"of ".concat(l," ").concat(String(o))}function i(o,l,u){return o.substr(0,l.length)===l}function s(o,l,u){return(u===void 0||u>o.length)&&(u=o.length),o.substring(u-l.length,u)===l}function a(o,l,u){return typeof u!="number"&&(u=0),u+l.length>o.length?!1:o.indexOf(l,u)!==-1}return t("ERR_INVALID_OPT_VALUE",function(o,l){return'The value "'+l+'" is invalid for option "'+o+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(o,l,u){var h;typeof l=="string"&&i(l,"not ")?(h="must not be",l=l.replace(/^not /,"")):h="must be";var f;if(s(o," argument"))f="The ".concat(o," ").concat(h," ").concat(n(l,"type"));else{var p=a(o,".")?"property":"argument";f='The "'.concat(o,'" ').concat(p," ").concat(h," ").concat(n(l,"type"))}return f+=". Received type ".concat(typeof u),f},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),S5.codes=e,S5}var N5,TC;function bI(){if(TC)return N5;TC=1;var r=Nm().codes.ERR_INVALID_OPT_VALUE;function e(n,i,s){return n.highWaterMark!=null?n.highWaterMark:i?n[s]:null}function t(n,i,s,a){var o=e(i,a,s);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var l=a?s:"highWaterMark";throw new r(l,o)}return Math.floor(o)}return n.objectMode?16:16*1024}return N5={getHighWaterMark:t},N5}var E5,jC;function z9(){if(jC)return E5;jC=1,E5=r;function r(t,n){if(e("noDeprecation"))return t;var i=!1;function s(){if(!i){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return t.apply(this,arguments)}return s}function e(t){try{if(!jo.localStorage)return!1}catch{return!1}var n=jo.localStorage[t];return n==null?!1:String(n).toLowerCase()==="true"}return E5}var k5,PC;function AI(){if(PC)return k5;PC=1,k5=q;function r(J){var L=this;this.next=null,this.entry=null,this.finish=function(){ae(L,J)}}var e;q.WritableState=$;var t={deprecate:z9()},n=fI(),i=db().Buffer,s=jo.Uint8Array||function(){};function a(J){return i.from(J)}function o(J){return i.isBuffer(J)||J instanceof s}var l=wI(),u=bI(),h=u.getHighWaterMark,f=Nm().codes,p=f.ERR_INVALID_ARG_TYPE,d=f.ERR_METHOD_NOT_IMPLEMENTED,x=f.ERR_MULTIPLE_CALLBACK,v=f.ERR_STREAM_CANNOT_PIPE,b=f.ERR_STREAM_DESTROYED,y=f.ERR_STREAM_NULL_VALUES,w=f.ERR_STREAM_WRITE_AFTER_END,A=f.ERR_UNKNOWN_ENCODING,k=l.errorOrDestroy;bd(q,n);function M(){}function $(J,L,I){e=e||cm(),J=J||{},typeof I!="boolean"&&(I=L instanceof e),this.objectMode=!!J.objectMode,I&&(this.objectMode=this.objectMode||!!J.writableObjectMode),this.highWaterMark=h(this,J,"writableHighWaterMark",I),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ne=J.decodeStrings===!1;this.decodeStrings=!ne,this.defaultEncoding=J.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ue){he(L,ue)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=J.emitClose!==!1,this.autoDestroy=!!J.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new r(this)}$.prototype.getBuffer=function(){for(var L=this.bufferedRequest,I=[];L;)I.push(L),L=L.next;return I},function(){try{Object.defineProperty($.prototype,"buffer",{get:t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var H;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(H=Function.prototype[Symbol.hasInstance],Object.defineProperty(q,Symbol.hasInstance,{value:function(L){return H.call(this,L)?!0:this!==q?!1:L&&L._writableState instanceof $}})):H=function(L){return L instanceof this};function q(J){e=e||cm();var L=this instanceof e;if(!L&&!H.call(q,this))return new q(J);this._writableState=new $(J,this,L),this.writable=!0,J&&(typeof J.write=="function"&&(this._write=J.write),typeof J.writev=="function"&&(this._writev=J.writev),typeof J.destroy=="function"&&(this._destroy=J.destroy),typeof J.final=="function"&&(this._final=J.final)),n.call(this)}q.prototype.pipe=function(){k(this,new v)};function D(J,L){var I=new w;k(J,I),It.nextTick(L,I)}function se(J,L,I,ne){var ue;return I===null?ue=new y:typeof I!="string"&&!L.objectMode&&(ue=new p("chunk",["string","Buffer"],I)),ue?(k(J,ue),It.nextTick(ne,ue),!1):!0}q.prototype.write=function(J,L,I){var ne=this._writableState,ue=!1,X=!ne.objectMode&&o(J);return X&&!i.isBuffer(J)&&(J=a(J)),typeof L=="function"&&(I=L,L=null),X?L="buffer":L||(L=ne.defaultEncoding),typeof I!="function"&&(I=M),ne.ending?D(this,I):(X||se(this,ne,J,I))&&(ne.pendingcb++,ue=R(this,ne,X,J,L,I)),ue},q.prototype.cork=function(){this._writableState.corked++},q.prototype.uncork=function(){var J=this._writableState;J.corked&&(J.corked--,!J.writing&&!J.corked&&!J.bufferProcessing&&J.bufferedRequest&&pe(this,J))},q.prototype.setDefaultEncoding=function(L){if(typeof L=="string"&&(L=L.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((L+"").toLowerCase())>-1))throw new A(L);return this._writableState.defaultEncoding=L,this},Object.defineProperty(q.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function z(J,L,I){return!J.objectMode&&J.decodeStrings!==!1&&typeof L=="string"&&(L=i.from(L,I)),L}Object.defineProperty(q.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function R(J,L,I,ne,ue,X){if(!I){var ie=z(L,ne,ue);ne!==ie&&(I=!0,ue="buffer",ne=ie)}var Ae=L.objectMode?1:ne.length;L.length+=Ae;var O=L.length<L.highWaterMark;if(O||(L.needDrain=!0),L.writing||L.corked){var ve=L.lastBufferedRequest;L.lastBufferedRequest={chunk:ne,encoding:ue,isBuf:I,callback:X,next:null},ve?ve.next=L.lastBufferedRequest:L.bufferedRequest=L.lastBufferedRequest,L.bufferedRequestCount+=1}else V(J,L,!1,Ae,ne,ue,X);return O}function V(J,L,I,ne,ue,X,ie){L.writelen=ne,L.writecb=ie,L.writing=!0,L.sync=!0,L.destroyed?L.onwrite(new b("write")):I?J._writev(ue,L.onwrite):J._write(ue,X,L.onwrite),L.sync=!1}function T(J,L,I,ne,ue){--L.pendingcb,I?(It.nextTick(ue,ne),It.nextTick(B,J,L),J._writableState.errorEmitted=!0,k(J,ne)):(ue(ne),J._writableState.errorEmitted=!0,k(J,ne),B(J,L))}function K(J){J.writing=!1,J.writecb=null,J.length-=J.writelen,J.writelen=0}function he(J,L){var I=J._writableState,ne=I.sync,ue=I.writecb;if(typeof ue!="function")throw new x;if(K(I),L)T(J,I,ne,L,ue);else{var X=be(I)||J.destroyed;!X&&!I.corked&&!I.bufferProcessing&&I.bufferedRequest&&pe(J,I),ne?It.nextTick(le,J,I,X,ue):le(J,I,X,ue)}}function le(J,L,I,ne){I||me(J,L),L.pendingcb--,ne(),B(J,L)}function me(J,L){L.length===0&&L.needDrain&&(L.needDrain=!1,J.emit("drain"))}function pe(J,L){L.bufferProcessing=!0;var I=L.bufferedRequest;if(J._writev&&I&&I.next){var ne=L.bufferedRequestCount,ue=new Array(ne),X=L.corkedRequestsFree;X.entry=I;for(var ie=0,Ae=!0;I;)ue[ie]=I,I.isBuf||(Ae=!1),I=I.next,ie+=1;ue.allBuffers=Ae,V(J,L,!0,L.length,ue,"",X.finish),L.pendingcb++,L.lastBufferedRequest=null,X.next?(L.corkedRequestsFree=X.next,X.next=null):L.corkedRequestsFree=new r(L),L.bufferedRequestCount=0}else{for(;I;){var O=I.chunk,ve=I.encoding,P=I.callback,S=L.objectMode?1:O.length;if(V(J,L,!1,S,O,ve,P),I=I.next,L.bufferedRequestCount--,L.writing)break}I===null&&(L.lastBufferedRequest=null)}L.bufferedRequest=I,L.bufferProcessing=!1}q.prototype._write=function(J,L,I){I(new d("_write()"))},q.prototype._writev=null,q.prototype.end=function(J,L,I){var ne=this._writableState;return typeof J=="function"?(I=J,J=null,L=null):typeof L=="function"&&(I=L,L=null),J!=null&&this.write(J,L),ne.corked&&(ne.corked=1,this.uncork()),ne.ending||G(this,ne,I),this},Object.defineProperty(q.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function be(J){return J.ending&&J.length===0&&J.bufferedRequest===null&&!J.finished&&!J.writing}function ge(J,L){J._final(function(I){L.pendingcb--,I&&k(J,I),L.prefinished=!0,J.emit("prefinish"),B(J,L)})}function C(J,L){!L.prefinished&&!L.finalCalled&&(typeof J._final=="function"&&!L.destroyed?(L.pendingcb++,L.finalCalled=!0,It.nextTick(ge,J,L)):(L.prefinished=!0,J.emit("prefinish")))}function B(J,L){var I=be(L);if(I&&(C(J,L),L.pendingcb===0&&(L.finished=!0,J.emit("finish"),L.autoDestroy))){var ne=J._readableState;(!ne||ne.autoDestroy&&ne.endEmitted)&&J.destroy()}return I}function G(J,L,I){L.ending=!0,B(J,L),I&&(L.finished?It.nextTick(I):J.once("finish",I)),L.ended=!0,J.writable=!1}function ae(J,L,I){var ne=J.entry;for(J.entry=null;ne;){var ue=ne.callback;L.pendingcb--,ue(I),ne=ne.next}L.corkedRequestsFree.next=J}return Object.defineProperty(q.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(L){this._writableState&&(this._writableState.destroyed=L)}}),q.prototype.destroy=l.destroy,q.prototype._undestroy=l.undestroy,q.prototype._destroy=function(J,L){L(J)},k5}var C5,LC;function cm(){if(LC)return C5;LC=1;var r=Object.keys||function(u){var h=[];for(var f in u)h.push(f);return h};C5=a;var e=_I(),t=AI();bd(a,e);for(var n=r(t.prototype),i=0;i<n.length;i++){var s=n[i];a.prototype[s]||(a.prototype[s]=t.prototype[s])}function a(u){if(!(this instanceof a))return new a(u);e.call(this,u),t.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(a.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(a.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(a.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||It.nextTick(l,this)}function l(u){u.end()}return Object.defineProperty(a.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=h,this._writableState.destroyed=h)}}),C5}var T5={},kv={exports:{}},IC;function H9(){return IC||(IC=1,function(r,e){var t=db(),n=t.Buffer;function i(a,o){for(var l in a)o[l]=a[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=t:(i(t,e),e.Buffer=s);function s(a,o,l){return n(a,o,l)}i(n,s),s.from=function(a,o,l){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,o,l)},s.alloc=function(a,o,l){if(typeof a!="number")throw new TypeError("Argument must be a number");var u=n(a);return o!==void 0?typeof l=="string"?u.fill(o,l):u.fill(o):u.fill(0),u},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(a)}}(kv,kv.exports)),kv.exports}var RC;function xS(){if(RC)return T5;RC=1;var r=H9().Buffer,e=r.isEncoding||function(y){switch(y=""+y,y&&y.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function t(y){if(!y)return"utf8";for(var w;;)switch(y){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return y;default:if(w)return;y=(""+y).toLowerCase(),w=!0}}function n(y){var w=t(y);if(typeof w!="string"&&(r.isEncoding===e||!e(y)))throw new Error("Unknown encoding: "+y);return w||y}T5.StringDecoder=i;function i(y){this.encoding=n(y);var w;switch(this.encoding){case"utf16le":this.text=f,this.end=p,w=4;break;case"utf8":this.fillLast=l,w=4;break;case"base64":this.text=d,this.end=x,w=3;break;default:this.write=v,this.end=b;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(w)}i.prototype.write=function(y){if(y.length===0)return"";var w,A;if(this.lastNeed){if(w=this.fillLast(y),w===void 0)return"";A=this.lastNeed,this.lastNeed=0}else A=0;return A<y.length?w?w+this.text(y,A):this.text(y,A):w||""},i.prototype.end=h,i.prototype.text=u,i.prototype.fillLast=function(y){if(this.lastNeed<=y.length)return y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,this.lastTotal-this.lastNeed,0,y.length),this.lastNeed-=y.length};function s(y){return y<=127?0:y>>5===6?2:y>>4===14?3:y>>3===30?4:y>>6===2?-1:-2}function a(y,w,A){var k=w.length-1;if(k<A)return 0;var M=s(w[k]);return M>=0?(M>0&&(y.lastNeed=M-1),M):--k<A||M===-2?0:(M=s(w[k]),M>=0?(M>0&&(y.lastNeed=M-2),M):--k<A||M===-2?0:(M=s(w[k]),M>=0?(M>0&&(M===2?M=0:y.lastNeed=M-3),M):0))}function o(y,w,A){if((w[0]&192)!==128)return y.lastNeed=0,"�";if(y.lastNeed>1&&w.length>1){if((w[1]&192)!==128)return y.lastNeed=1,"�";if(y.lastNeed>2&&w.length>2&&(w[2]&192)!==128)return y.lastNeed=2,"�"}}function l(y){var w=this.lastTotal-this.lastNeed,A=o(this,y);if(A!==void 0)return A;if(this.lastNeed<=y.length)return y.copy(this.lastChar,w,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);y.copy(this.lastChar,w,0,y.length),this.lastNeed-=y.length}function u(y,w){var A=a(this,y,w);if(!this.lastNeed)return y.toString("utf8",w);this.lastTotal=A;var k=y.length-(A-this.lastNeed);return y.copy(this.lastChar,0,k),y.toString("utf8",w,k)}function h(y){var w=y&&y.length?this.write(y):"";return this.lastNeed?w+"�":w}function f(y,w){if((y.length-w)%2===0){var A=y.toString("utf16le",w);if(A){var k=A.charCodeAt(A.length-1);if(k>=55296&&k<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1],A.slice(0,-1)}return A}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=y[y.length-1],y.toString("utf16le",w,y.length-1)}function p(y){var w=y&&y.length?this.write(y):"";if(this.lastNeed){var A=this.lastTotal-this.lastNeed;return w+this.lastChar.toString("utf16le",0,A)}return w}function d(y,w){var A=(y.length-w)%3;return A===0?y.toString("base64",w):(this.lastNeed=3-A,this.lastTotal=3,A===1?this.lastChar[0]=y[y.length-1]:(this.lastChar[0]=y[y.length-2],this.lastChar[1]=y[y.length-1]),y.toString("base64",w,y.length-A))}function x(y){var w=y&&y.length?this.write(y):"";return this.lastNeed?w+this.lastChar.toString("base64",0,3-this.lastNeed):w}function v(y){return y.toString(this.encoding)}function b(y){return y&&y.length?this.write(y):""}return T5}var j5,FC;function $N(){if(FC)return j5;FC=1;var r=Nm().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var a=!1;return function(){if(!a){a=!0;for(var o=arguments.length,l=new Array(o),u=0;u<o;u++)l[u]=arguments[u];s.apply(this,l)}}}function t(){}function n(s){return s.setHeader&&typeof s.abort=="function"}function i(s,a,o){if(typeof a=="function")return i(s,null,a);a||(a={}),o=e(o||t);var l=a.readable||a.readable!==!1&&s.readable,u=a.writable||a.writable!==!1&&s.writable,h=function(){s.writable||p()},f=s._writableState&&s._writableState.finished,p=function(){u=!1,f=!0,l||o.call(s)},d=s._readableState&&s._readableState.endEmitted,x=function(){l=!1,d=!0,u||o.call(s)},v=function(A){o.call(s,A)},b=function(){var A;if(l&&!d)return(!s._readableState||!s._readableState.ended)&&(A=new r),o.call(s,A);if(u&&!f)return(!s._writableState||!s._writableState.ended)&&(A=new r),o.call(s,A)},y=function(){s.req.on("finish",p)};return n(s)?(s.on("complete",p),s.on("abort",b),s.req?y():s.on("request",y)):u&&!s._writableState&&(s.on("end",h),s.on("close",h)),s.on("end",x),s.on("finish",p),a.error!==!1&&s.on("error",v),s.on("close",b),function(){s.removeListener("complete",p),s.removeListener("abort",b),s.removeListener("request",y),s.req&&s.req.removeListener("finish",p),s.removeListener("end",h),s.removeListener("close",h),s.removeListener("finish",p),s.removeListener("end",x),s.removeListener("error",v),s.removeListener("close",b)}}return j5=i,j5}var P5,DC;function q9(){if(DC)return P5;DC=1;var r;function e(y,w,A){return w in y?Object.defineProperty(y,w,{value:A,enumerable:!0,configurable:!0,writable:!0}):y[w]=A,y}var t=$N(),n=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),a=Symbol("ended"),o=Symbol("lastPromise"),l=Symbol("handlePromise"),u=Symbol("stream");function h(y,w){return{value:y,done:w}}function f(y){var w=y[n];if(w!==null){var A=y[u].read();A!==null&&(y[o]=null,y[n]=null,y[i]=null,w(h(A,!1)))}}function p(y){It.nextTick(f,y)}function d(y,w){return function(A,k){y.then(function(){if(w[a]){A(h(void 0,!0));return}w[l](A,k)},k)}}var x=Object.getPrototypeOf(function(){}),v=Object.setPrototypeOf((r={get stream(){return this[u]},next:function(){var w=this,A=this[s];if(A!==null)return Promise.reject(A);if(this[a])return Promise.resolve(h(void 0,!0));if(this[u].destroyed)return new Promise(function(H,q){It.nextTick(function(){w[s]?q(w[s]):H(h(void 0,!0))})});var k=this[o],M;if(k)M=new Promise(d(k,this));else{var $=this[u].read();if($!==null)return Promise.resolve(h($,!1));M=new Promise(this[l])}return this[o]=M,M}},e(r,Symbol.asyncIterator,function(){return this}),e(r,"return",function(){var w=this;return new Promise(function(A,k){w[u].destroy(null,function(M){if(M){k(M);return}A(h(void 0,!0))})})}),r),x),b=function(w){var A,k=Object.create(v,(A={},e(A,u,{value:w,writable:!0}),e(A,n,{value:null,writable:!0}),e(A,i,{value:null,writable:!0}),e(A,s,{value:null,writable:!0}),e(A,a,{value:w._readableState.endEmitted,writable:!0}),e(A,l,{value:function($,H){var q=k[u].read();q?(k[o]=null,k[n]=null,k[i]=null,$(h(q,!1))):(k[n]=$,k[i]=H)},writable:!0}),A));return k[o]=null,t(w,function(M){if(M&&M.code!=="ERR_STREAM_PREMATURE_CLOSE"){var $=k[i];$!==null&&(k[o]=null,k[n]=null,k[i]=null,$(M)),k[s]=M;return}var H=k[n];H!==null&&(k[o]=null,k[n]=null,k[i]=null,H(h(void 0,!0))),k[a]=!0}),w.on("readable",p.bind(null,k)),k};return P5=b,P5}var L5,MC;function W9(){return MC||(MC=1,L5=function(){throw new Error("Readable.from is not available in the browser")}),L5}var I5,OC;function _I(){if(OC)return I5;OC=1,I5=D;var r;D.ReadableState=q,zN.EventEmitter;var e=function(ie,Ae){return ie.listeners(Ae).length},t=fI(),n=db().Buffer,i=jo.Uint8Array||function(){};function s(X){return n.from(X)}function a(X){return n.isBuffer(X)||X instanceof i}var o=xI(),l;o&&o.debuglog?l=o.debuglog("stream"):l=function(){};var u=U9(),h=wI(),f=bI(),p=f.getHighWaterMark,d=Nm().codes,x=d.ERR_INVALID_ARG_TYPE,v=d.ERR_STREAM_PUSH_AFTER_EOF,b=d.ERR_METHOD_NOT_IMPLEMENTED,y=d.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,w,A,k;bd(D,t);var M=h.errorOrDestroy,$=["error","close","destroy","pause","resume"];function H(X,ie,Ae){if(typeof X.prependListener=="function")return X.prependListener(ie,Ae);!X._events||!X._events[ie]?X.on(ie,Ae):Array.isArray(X._events[ie])?X._events[ie].unshift(Ae):X._events[ie]=[Ae,X._events[ie]]}function q(X,ie,Ae){r=r||cm(),X=X||{},typeof Ae!="boolean"&&(Ae=ie instanceof r),this.objectMode=!!X.objectMode,Ae&&(this.objectMode=this.objectMode||!!X.readableObjectMode),this.highWaterMark=p(this,X,"readableHighWaterMark",Ae),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=X.emitClose!==!1,this.autoDestroy=!!X.autoDestroy,this.destroyed=!1,this.defaultEncoding=X.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,X.encoding&&(w||(w=xS().StringDecoder),this.decoder=new w(X.encoding),this.encoding=X.encoding)}function D(X){if(r=r||cm(),!(this instanceof D))return new D(X);var ie=this instanceof r;this._readableState=new q(X,this,ie),this.readable=!0,X&&(typeof X.read=="function"&&(this._read=X.read),typeof X.destroy=="function"&&(this._destroy=X.destroy)),t.call(this)}Object.defineProperty(D.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ie){this._readableState&&(this._readableState.destroyed=ie)}}),D.prototype.destroy=h.destroy,D.prototype._undestroy=h.undestroy,D.prototype._destroy=function(X,ie){ie(X)},D.prototype.push=function(X,ie){var Ae=this._readableState,O;return Ae.objectMode?O=!0:typeof X=="string"&&(ie=ie||Ae.defaultEncoding,ie!==Ae.encoding&&(X=n.from(X,ie),ie=""),O=!0),se(this,X,ie,!1,O)},D.prototype.unshift=function(X){return se(this,X,null,!0,!1)};function se(X,ie,Ae,O,ve){l("readableAddChunk",ie);var P=X._readableState;if(ie===null)P.reading=!1,he(X,P);else{var S;if(ve||(S=R(P,ie)),S)M(X,S);else if(P.objectMode||ie&&ie.length>0)if(typeof ie!="string"&&!P.objectMode&&Object.getPrototypeOf(ie)!==n.prototype&&(ie=s(ie)),O)P.endEmitted?M(X,new y):z(X,P,ie,!0);else if(P.ended)M(X,new v);else{if(P.destroyed)return!1;P.reading=!1,P.decoder&&!Ae?(ie=P.decoder.write(ie),P.objectMode||ie.length!==0?z(X,P,ie,!1):pe(X,P)):z(X,P,ie,!1)}else O||(P.reading=!1,pe(X,P))}return!P.ended&&(P.length<P.highWaterMark||P.length===0)}function z(X,ie,Ae,O){ie.flowing&&ie.length===0&&!ie.sync?(ie.awaitDrain=0,X.emit("data",Ae)):(ie.length+=ie.objectMode?1:Ae.length,O?ie.buffer.unshift(Ae):ie.buffer.push(Ae),ie.needReadable&&le(X)),pe(X,ie)}function R(X,ie){var Ae;return!a(ie)&&typeof ie!="string"&&ie!==void 0&&!X.objectMode&&(Ae=new x("chunk",["string","Buffer","Uint8Array"],ie)),Ae}D.prototype.isPaused=function(){return this._readableState.flowing===!1},D.prototype.setEncoding=function(X){w||(w=xS().StringDecoder);var ie=new w(X);this._readableState.decoder=ie,this._readableState.encoding=this._readableState.decoder.encoding;for(var Ae=this._readableState.buffer.head,O="";Ae!==null;)O+=ie.write(Ae.data),Ae=Ae.next;return this._readableState.buffer.clear(),O!==""&&this._readableState.buffer.push(O),this._readableState.length=O.length,this};var V=1073741824;function T(X){return X>=V?X=V:(X--,X|=X>>>1,X|=X>>>2,X|=X>>>4,X|=X>>>8,X|=X>>>16,X++),X}function K(X,ie){return X<=0||ie.length===0&&ie.ended?0:ie.objectMode?1:X!==X?ie.flowing&&ie.length?ie.buffer.head.data.length:ie.length:(X>ie.highWaterMark&&(ie.highWaterMark=T(X)),X<=ie.length?X:ie.ended?ie.length:(ie.needReadable=!0,0))}D.prototype.read=function(X){l("read",X),X=parseInt(X,10);var ie=this._readableState,Ae=X;if(X!==0&&(ie.emittedReadable=!1),X===0&&ie.needReadable&&((ie.highWaterMark!==0?ie.length>=ie.highWaterMark:ie.length>0)||ie.ended))return l("read: emitReadable",ie.length,ie.ended),ie.length===0&&ie.ended?I(this):le(this),null;if(X=K(X,ie),X===0&&ie.ended)return ie.length===0&&I(this),null;var O=ie.needReadable;l("need readable",O),(ie.length===0||ie.length-X<ie.highWaterMark)&&(O=!0,l("length less than watermark",O)),ie.ended||ie.reading?(O=!1,l("reading or ended",O)):O&&(l("do read"),ie.reading=!0,ie.sync=!0,ie.length===0&&(ie.needReadable=!0),this._read(ie.highWaterMark),ie.sync=!1,ie.reading||(X=K(Ae,ie)));var ve;return X>0?ve=L(X,ie):ve=null,ve===null?(ie.needReadable=ie.length<=ie.highWaterMark,X=0):(ie.length-=X,ie.awaitDrain=0),ie.length===0&&(ie.ended||(ie.needReadable=!0),Ae!==X&&ie.ended&&I(this)),ve!==null&&this.emit("data",ve),ve};function he(X,ie){if(l("onEofChunk"),!ie.ended){if(ie.decoder){var Ae=ie.decoder.end();Ae&&Ae.length&&(ie.buffer.push(Ae),ie.length+=ie.objectMode?1:Ae.length)}ie.ended=!0,ie.sync?le(X):(ie.needReadable=!1,ie.emittedReadable||(ie.emittedReadable=!0,me(X)))}}function le(X){var ie=X._readableState;l("emitReadable",ie.needReadable,ie.emittedReadable),ie.needReadable=!1,ie.emittedReadable||(l("emitReadable",ie.flowing),ie.emittedReadable=!0,It.nextTick(me,X))}function me(X){var ie=X._readableState;l("emitReadable_",ie.destroyed,ie.length,ie.ended),!ie.destroyed&&(ie.length||ie.ended)&&(X.emit("readable"),ie.emittedReadable=!1),ie.needReadable=!ie.flowing&&!ie.ended&&ie.length<=ie.highWaterMark,J(X)}function pe(X,ie){ie.readingMore||(ie.readingMore=!0,It.nextTick(be,X,ie))}function be(X,ie){for(;!ie.reading&&!ie.ended&&(ie.length<ie.highWaterMark||ie.flowing&&ie.length===0);){var Ae=ie.length;if(l("maybeReadMore read 0"),X.read(0),Ae===ie.length)break}ie.readingMore=!1}D.prototype._read=function(X){M(this,new b("_read()"))},D.prototype.pipe=function(X,ie){var Ae=this,O=this._readableState;switch(O.pipesCount){case 0:O.pipes=X;break;case 1:O.pipes=[O.pipes,X];break;default:O.pipes.push(X);break}O.pipesCount+=1,l("pipe count=%d opts=%j",O.pipesCount,ie);var ve=(!ie||ie.end!==!1)&&X!==It.stdout&&X!==It.stderr,P=ve?N:Ue;O.endEmitted?It.nextTick(P):Ae.once("end",P),X.on("unpipe",S);function S(Ke,Ze){l("onunpipe"),Ke===Ae&&Ze&&Ze.hasUnpiped===!1&&(Ze.hasUnpiped=!0,xe())}function N(){l("onend"),X.end()}var F=ge(Ae);X.on("drain",F);var oe=!1;function xe(){l("cleanup"),X.removeListener("close",Re),X.removeListener("finish",Ie),X.removeListener("drain",F),X.removeListener("error",Ce),X.removeListener("unpipe",S),Ae.removeListener("end",N),Ae.removeListener("end",Ue),Ae.removeListener("data",fe),oe=!0,O.awaitDrain&&(!X._writableState||X._writableState.needDrain)&&F()}Ae.on("data",fe);function fe(Ke){l("ondata");var Ze=X.write(Ke);l("dest.write",Ze),Ze===!1&&((O.pipesCount===1&&O.pipes===X||O.pipesCount>1&&ue(O.pipes,X)!==-1)&&!oe&&(l("false write response, pause",O.awaitDrain),O.awaitDrain++),Ae.pause())}function Ce(Ke){l("onerror",Ke),Ue(),X.removeListener("error",Ce),e(X,"error")===0&&M(X,Ke)}H(X,"error",Ce);function Re(){X.removeListener("finish",Ie),Ue()}X.once("close",Re);function Ie(){l("onfinish"),X.removeListener("close",Re),Ue()}X.once("finish",Ie);function Ue(){l("unpipe"),Ae.unpipe(X)}return X.emit("pipe",Ae),O.flowing||(l("pipe resume"),Ae.resume()),X};function ge(X){return function(){var Ae=X._readableState;l("pipeOnDrain",Ae.awaitDrain),Ae.awaitDrain&&Ae.awaitDrain--,Ae.awaitDrain===0&&e(X,"data")&&(Ae.flowing=!0,J(X))}}D.prototype.unpipe=function(X){var ie=this._readableState,Ae={hasUnpiped:!1};if(ie.pipesCount===0)return this;if(ie.pipesCount===1)return X&&X!==ie.pipes?this:(X||(X=ie.pipes),ie.pipes=null,ie.pipesCount=0,ie.flowing=!1,X&&X.emit("unpipe",this,Ae),this);if(!X){var O=ie.pipes,ve=ie.pipesCount;ie.pipes=null,ie.pipesCount=0,ie.flowing=!1;for(var P=0;P<ve;P++)O[P].emit("unpipe",this,{hasUnpiped:!1});return this}var S=ue(ie.pipes,X);return S===-1?this:(ie.pipes.splice(S,1),ie.pipesCount-=1,ie.pipesCount===1&&(ie.pipes=ie.pipes[0]),X.emit("unpipe",this,Ae),this)},D.prototype.on=function(X,ie){var Ae=t.prototype.on.call(this,X,ie),O=this._readableState;return X==="data"?(O.readableListening=this.listenerCount("readable")>0,O.flowing!==!1&&this.resume()):X==="readable"&&!O.endEmitted&&!O.readableListening&&(O.readableListening=O.needReadable=!0,O.flowing=!1,O.emittedReadable=!1,l("on readable",O.length,O.reading),O.length?le(this):O.reading||It.nextTick(B,this)),Ae},D.prototype.addListener=D.prototype.on,D.prototype.removeListener=function(X,ie){var Ae=t.prototype.removeListener.call(this,X,ie);return X==="readable"&&It.nextTick(C,this),Ae},D.prototype.removeAllListeners=function(X){var ie=t.prototype.removeAllListeners.apply(this,arguments);return(X==="readable"||X===void 0)&&It.nextTick(C,this),ie};function C(X){var ie=X._readableState;ie.readableListening=X.listenerCount("readable")>0,ie.resumeScheduled&&!ie.paused?ie.flowing=!0:X.listenerCount("data")>0&&X.resume()}function B(X){l("readable nexttick read 0"),X.read(0)}D.prototype.resume=function(){var X=this._readableState;return X.flowing||(l("resume"),X.flowing=!X.readableListening,G(this,X)),X.paused=!1,this};function G(X,ie){ie.resumeScheduled||(ie.resumeScheduled=!0,It.nextTick(ae,X,ie))}function ae(X,ie){l("resume",ie.reading),ie.reading||X.read(0),ie.resumeScheduled=!1,X.emit("resume"),J(X),ie.flowing&&!ie.reading&&X.read(0)}D.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function J(X){var ie=X._readableState;for(l("flow",ie.flowing);ie.flowing&&X.read()!==null;);}D.prototype.wrap=function(X){var ie=this,Ae=this._readableState,O=!1;X.on("end",function(){if(l("wrapped end"),Ae.decoder&&!Ae.ended){var S=Ae.decoder.end();S&&S.length&&ie.push(S)}ie.push(null)}),X.on("data",function(S){if(l("wrapped data"),Ae.decoder&&(S=Ae.decoder.write(S)),!(Ae.objectMode&&S==null)&&!(!Ae.objectMode&&(!S||!S.length))){var N=ie.push(S);N||(O=!0,X.pause())}});for(var ve in X)this[ve]===void 0&&typeof X[ve]=="function"&&(this[ve]=function(N){return function(){return X[N].apply(X,arguments)}}(ve));for(var P=0;P<$.length;P++)X.on($[P],this.emit.bind(this,$[P]));return this._read=function(S){l("wrapped _read",S),O&&(O=!1,X.resume())},this},typeof Symbol=="function"&&(D.prototype[Symbol.asyncIterator]=function(){return A===void 0&&(A=q9()),A(this)}),Object.defineProperty(D.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(D.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(D.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ie){this._readableState&&(this._readableState.flowing=ie)}}),D._fromList=L,Object.defineProperty(D.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function L(X,ie){if(ie.length===0)return null;var Ae;return ie.objectMode?Ae=ie.buffer.shift():!X||X>=ie.length?(ie.decoder?Ae=ie.buffer.join(""):ie.buffer.length===1?Ae=ie.buffer.first():Ae=ie.buffer.concat(ie.length),ie.buffer.clear()):Ae=ie.buffer.consume(X,ie.decoder),Ae}function I(X){var ie=X._readableState;l("endReadable",ie.endEmitted),ie.endEmitted||(ie.ended=!0,It.nextTick(ne,ie,X))}function ne(X,ie){if(l("endReadableNT",X.endEmitted,X.length),!X.endEmitted&&X.length===0&&(X.endEmitted=!0,ie.readable=!1,ie.emit("end"),X.autoDestroy)){var Ae=ie._writableState;(!Ae||Ae.autoDestroy&&Ae.finished)&&ie.destroy()}}typeof Symbol=="function"&&(D.from=function(X,ie){return k===void 0&&(k=W9()),k(D,X,ie)});function ue(X,ie){for(var Ae=0,O=X.length;Ae<O;Ae++)if(X[Ae]===ie)return Ae;return-1}return I5}var R5,BC;function SI(){if(BC)return R5;BC=1,R5=o;var r=Nm().codes,e=r.ERR_METHOD_NOT_IMPLEMENTED,t=r.ERR_MULTIPLE_CALLBACK,n=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=r.ERR_TRANSFORM_WITH_LENGTH_0,s=cm();bd(o,s);function a(h,f){var p=this._transformState;p.transforming=!1;var d=p.writecb;if(d===null)return this.emit("error",new t);p.writechunk=null,p.writecb=null,f!=null&&this.push(f),d(h);var x=this._readableState;x.reading=!1,(x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}function o(h){if(!(this instanceof o))return new o(h);s.call(this,h),this._transformState={afterTransform:a.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.on("prefinish",l)}function l(){var h=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,p){u(h,f,p)}):u(this,null,null)}o.prototype.push=function(h,f){return this._transformState.needTransform=!1,s.prototype.push.call(this,h,f)},o.prototype._transform=function(h,f,p){p(new e("_transform()"))},o.prototype._write=function(h,f,p){var d=this._transformState;if(d.writecb=p,d.writechunk=h,d.writeencoding=f,!d.transforming){var x=this._readableState;(d.needTransform||x.needReadable||x.length<x.highWaterMark)&&this._read(x.highWaterMark)}},o.prototype._read=function(h){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},o.prototype._destroy=function(h,f){s.prototype._destroy.call(this,h,function(p){f(p)})};function u(h,f,p){if(f)return h.emit("error",f);if(p!=null&&h.push(p),h._writableState.length)throw new i;if(h._transformState.transforming)throw new n;return h.push(null)}return R5}var F5,UC;function $9(){if(UC)return F5;UC=1,F5=e;var r=SI();bd(e,r);function e(t){if(!(this instanceof e))return new e(t);r.call(this,t)}return e.prototype._transform=function(t,n,i){i(null,t)},F5}var D5,zC;function G9(){if(zC)return D5;zC=1;var r;function e(p){var d=!1;return function(){d||(d=!0,p.apply(void 0,arguments))}}var t=Nm().codes,n=t.ERR_MISSING_ARGS,i=t.ERR_STREAM_DESTROYED;function s(p){if(p)throw p}function a(p){return p.setHeader&&typeof p.abort=="function"}function o(p,d,x,v){v=e(v);var b=!1;p.on("close",function(){b=!0}),r===void 0&&(r=$N()),r(p,{readable:d,writable:x},function(w){if(w)return v(w);b=!0,v()});var y=!1;return function(w){if(!b&&!y){if(y=!0,a(p))return p.abort();if(typeof p.destroy=="function")return p.destroy();v(w||new i("pipe"))}}}function l(p){p()}function u(p,d){return p.pipe(d)}function h(p){return!p.length||typeof p[p.length-1]!="function"?s:p.pop()}function f(){for(var p=arguments.length,d=new Array(p),x=0;x<p;x++)d[x]=arguments[x];var v=h(d);if(Array.isArray(d[0])&&(d=d[0]),d.length<2)throw new n("streams");var b,y=d.map(function(w,A){var k=A<d.length-1,M=A>0;return o(w,k,M,function($){b||(b=$),$&&y.forEach(l),!k&&(y.forEach(l),v(b))})});return d.reduce(u)}return D5=f,D5}var GN=ia,VN=zN.EventEmitter,V9=bd;V9(ia,VN);ia.Readable=_I();ia.Writable=AI();ia.Duplex=cm();ia.Transform=SI();ia.PassThrough=$9();ia.finished=$N();ia.pipeline=G9();ia.Stream=ia;function ia(){VN.call(this)}ia.prototype.pipe=function(r,e){var t=this;function n(h){r.writable&&r.write(h)===!1&&t.pause&&t.pause()}t.on("data",n);function i(){t.readable&&t.resume&&t.resume()}r.on("drain",i),!r._isStdio&&(!e||e.end!==!1)&&(t.on("end",a),t.on("close",o));var s=!1;function a(){s||(s=!0,r.end())}function o(){s||(s=!0,typeof r.destroy=="function"&&r.destroy())}function l(h){if(u(),VN.listenerCount(this,"error")===0)throw h}t.on("error",l),r.on("error",l);function u(){t.removeListener("data",n),r.removeListener("drain",i),t.removeListener("end",a),t.removeListener("close",o),t.removeListener("error",l),r.removeListener("error",l),t.removeListener("end",u),t.removeListener("close",u),r.removeListener("close",u)}return t.on("end",u),t.on("close",u),r.on("close",u),r.emit("pipe",t),r};(function(r){(function(e){e.parser=function(L,I){return new n(L,I)},e.SAXParser=n,e.SAXStream=h,e.createStream=u,e.MAX_BUFFER_LENGTH=64*1024;var t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(L,I){if(!(this instanceof n))return new n(L,I);var ne=this;s(ne),ne.q=ne.c="",ne.bufferCheckPosition=e.MAX_BUFFER_LENGTH,ne.opt=I||{},ne.opt.lowercase=ne.opt.lowercase||ne.opt.lowercasetags,ne.looseCase=ne.opt.lowercase?"toLowerCase":"toUpperCase",ne.tags=[],ne.closed=ne.closedRoot=ne.sawRoot=!1,ne.tag=ne.error=null,ne.strict=!!L,ne.noscript=!!(L||ne.opt.noscript),ne.state=D.BEGIN,ne.strictEntities=ne.opt.strictEntities,ne.ENTITIES=ne.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),ne.attribList=[],ne.opt.xmlns&&(ne.ns=Object.create(v)),ne.trackPosition=ne.opt.position!==!1,ne.trackPosition&&(ne.position=ne.line=ne.column=0),z(ne,"onready")}Object.create||(Object.create=function(L){function I(){}I.prototype=L;var ne=new I;return ne}),Object.keys||(Object.keys=function(L){var I=[];for(var ne in L)L.hasOwnProperty(ne)&&I.push(ne);return I});function i(L){for(var I=Math.max(e.MAX_BUFFER_LENGTH,10),ne=0,ue=0,X=t.length;ue<X;ue++){var ie=L[t[ue]].length;if(ie>I)switch(t[ue]){case"textNode":V(L);break;case"cdata":R(L,"oncdata",L.cdata),L.cdata="";break;case"script":R(L,"onscript",L.script),L.script="";break;default:K(L,"Max buffer length exceeded: "+t[ue])}ne=Math.max(ne,ie)}var Ae=e.MAX_BUFFER_LENGTH-ne;L.bufferCheckPosition=Ae+L.position}function s(L){for(var I=0,ne=t.length;I<ne;I++)L[t[I]]=""}function a(L){V(L),L.cdata!==""&&(R(L,"oncdata",L.cdata),L.cdata=""),L.script!==""&&(R(L,"onscript",L.script),L.script="")}n.prototype={end:function(){he(this)},write:J,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};var o;try{o=GN.Stream}catch{o=function(){}}var l=e.EVENTS.filter(function(L){return L!=="error"&&L!=="end"});function u(L,I){return new h(L,I)}function h(L,I){if(!(this instanceof h))return new h(L,I);o.apply(this),this._parser=new n(L,I),this.writable=!0,this.readable=!0;var ne=this;this._parser.onend=function(){ne.emit("end")},this._parser.onerror=function(ue){ne.emit("error",ue),ne._parser.error=null},this._decoder=null,l.forEach(function(ue){Object.defineProperty(ne,"on"+ue,{get:function(){return ne._parser["on"+ue]},set:function(X){if(!X)return ne.removeAllListeners(ue),ne._parser["on"+ue]=X,X;ne.on(ue,X)},enumerable:!0,configurable:!1})})}h.prototype=Object.create(o.prototype,{constructor:{value:h}}),h.prototype.write=function(L){if(typeof li=="function"&&typeof li.isBuffer=="function"&&li.isBuffer(L)){if(!this._decoder){var I=xS().StringDecoder;this._decoder=new I("utf8")}L=this._decoder.write(L)}return this._parser.write(L.toString()),this.emit("data",L),!0},h.prototype.end=function(L){return L&&L.length&&this.write(L),this._parser.end(),!0},h.prototype.on=function(L,I){var ne=this;return!ne._parser["on"+L]&&l.indexOf(L)!==-1&&(ne._parser["on"+L]=function(){var ue=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);ue.splice(0,0,L),ne.emit.apply(ne,ue)}),o.prototype.on.call(ne,L,I)};var f="[CDATA[",p="DOCTYPE",d="http://www.w3.org/XML/1998/namespace",x="http://www.w3.org/2000/xmlns/",v={xml:d,xmlns:x},b=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,y=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,w=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,A=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function k(L){return L===" "||L===`
`||L==="\r"||L==="	"}function M(L){return L==='"'||L==="'"}function $(L){return L===">"||k(L)}function H(L,I){return L.test(I)}function q(L,I){return!H(L,I)}var D=0;e.STATE={BEGIN:D++,BEGIN_WHITESPACE:D++,TEXT:D++,TEXT_ENTITY:D++,OPEN_WAKA:D++,SGML_DECL:D++,SGML_DECL_QUOTED:D++,DOCTYPE:D++,DOCTYPE_QUOTED:D++,DOCTYPE_DTD:D++,DOCTYPE_DTD_QUOTED:D++,COMMENT_STARTING:D++,COMMENT:D++,COMMENT_ENDING:D++,COMMENT_ENDED:D++,CDATA:D++,CDATA_ENDING:D++,CDATA_ENDING_2:D++,PROC_INST:D++,PROC_INST_BODY:D++,PROC_INST_ENDING:D++,OPEN_TAG:D++,OPEN_TAG_SLASH:D++,ATTRIB:D++,ATTRIB_NAME:D++,ATTRIB_NAME_SAW_WHITE:D++,ATTRIB_VALUE:D++,ATTRIB_VALUE_QUOTED:D++,ATTRIB_VALUE_CLOSED:D++,ATTRIB_VALUE_UNQUOTED:D++,ATTRIB_VALUE_ENTITY_Q:D++,ATTRIB_VALUE_ENTITY_U:D++,CLOSE_TAG:D++,CLOSE_TAG_SAW_WHITE:D++,SCRIPT:D++,SCRIPT_ENDING:D++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(L){var I=e.ENTITIES[L],ne=typeof I=="number"?String.fromCharCode(I):I;e.ENTITIES[L]=ne});for(var se in e.STATE)e.STATE[e.STATE[se]]=se;D=e.STATE;function z(L,I,ne){L[I]&&L[I](ne)}function R(L,I,ne){L.textNode&&V(L),z(L,I,ne)}function V(L){L.textNode=T(L.opt,L.textNode),L.textNode&&z(L,"ontext",L.textNode),L.textNode=""}function T(L,I){return L.trim&&(I=I.trim()),L.normalize&&(I=I.replace(/\s+/g," ")),I}function K(L,I){return V(L),L.trackPosition&&(I+=`
Line: `+L.line+`
Column: `+L.column+`
Char: `+L.c),I=new Error(I),L.error=I,z(L,"onerror",I),L}function he(L){return L.sawRoot&&!L.closedRoot&&le(L,"Unclosed root tag"),L.state!==D.BEGIN&&L.state!==D.BEGIN_WHITESPACE&&L.state!==D.TEXT&&K(L,"Unexpected end"),V(L),L.c="",L.closed=!0,z(L,"onend"),n.call(L,L.strict,L.opt),L}function le(L,I){if(typeof L!="object"||!(L instanceof n))throw new Error("bad call to strictFail");L.strict&&K(L,I)}function me(L){L.strict||(L.tagName=L.tagName[L.looseCase]());var I=L.tags[L.tags.length-1]||L,ne=L.tag={name:L.tagName,attributes:{}};L.opt.xmlns&&(ne.ns=I.ns),L.attribList.length=0,R(L,"onopentagstart",ne)}function pe(L,I){var ne=L.indexOf(":"),ue=ne<0?["",L]:L.split(":"),X=ue[0],ie=ue[1];return I&&L==="xmlns"&&(X="xmlns",ie=""),{prefix:X,local:ie}}function be(L){if(L.strict||(L.attribName=L.attribName[L.looseCase]()),L.attribList.indexOf(L.attribName)!==-1||L.tag.attributes.hasOwnProperty(L.attribName)){L.attribName=L.attribValue="";return}if(L.opt.xmlns){var I=pe(L.attribName,!0),ne=I.prefix,ue=I.local;if(ne==="xmlns")if(ue==="xml"&&L.attribValue!==d)le(L,"xml: prefix must be bound to "+d+`
Actual: `+L.attribValue);else if(ue==="xmlns"&&L.attribValue!==x)le(L,"xmlns: prefix must be bound to "+x+`
Actual: `+L.attribValue);else{var X=L.tag,ie=L.tags[L.tags.length-1]||L;X.ns===ie.ns&&(X.ns=Object.create(ie.ns)),X.ns[ue]=L.attribValue}L.attribList.push([L.attribName,L.attribValue])}else L.tag.attributes[L.attribName]=L.attribValue,R(L,"onattribute",{name:L.attribName,value:L.attribValue});L.attribName=L.attribValue=""}function ge(L,I){if(L.opt.xmlns){var ne=L.tag,ue=pe(L.tagName);ne.prefix=ue.prefix,ne.local=ue.local,ne.uri=ne.ns[ue.prefix]||"",ne.prefix&&!ne.uri&&(le(L,"Unbound namespace prefix: "+JSON.stringify(L.tagName)),ne.uri=ue.prefix);var X=L.tags[L.tags.length-1]||L;ne.ns&&X.ns!==ne.ns&&Object.keys(ne.ns).forEach(function(fe){R(L,"onopennamespace",{prefix:fe,uri:ne.ns[fe]})});for(var ie=0,Ae=L.attribList.length;ie<Ae;ie++){var O=L.attribList[ie],ve=O[0],P=O[1],S=pe(ve,!0),N=S.prefix,F=S.local,oe=N===""?"":ne.ns[N]||"",xe={name:ve,value:P,prefix:N,local:F,uri:oe};N&&N!=="xmlns"&&!oe&&(le(L,"Unbound namespace prefix: "+JSON.stringify(N)),xe.uri=N),L.tag.attributes[ve]=xe,R(L,"onattribute",xe)}L.attribList.length=0}L.tag.isSelfClosing=!!I,L.sawRoot=!0,L.tags.push(L.tag),R(L,"onopentag",L.tag),I||(!L.noscript&&L.tagName.toLowerCase()==="script"?L.state=D.SCRIPT:L.state=D.TEXT,L.tag=null,L.tagName=""),L.attribName=L.attribValue="",L.attribList.length=0}function C(L){if(!L.tagName){le(L,"Weird empty close tag."),L.textNode+="</>",L.state=D.TEXT;return}if(L.script){if(L.tagName!=="script"){L.script+="</"+L.tagName+">",L.tagName="",L.state=D.SCRIPT;return}R(L,"onscript",L.script),L.script=""}var I=L.tags.length,ne=L.tagName;L.strict||(ne=ne[L.looseCase]());for(var ue=ne;I--;){var X=L.tags[I];if(X.name!==ue)le(L,"Unexpected close tag");else break}if(I<0){le(L,"Unmatched closing tag: "+L.tagName),L.textNode+="</"+L.tagName+">",L.state=D.TEXT;return}L.tagName=ne;for(var ie=L.tags.length;ie-- >I;){var Ae=L.tag=L.tags.pop();L.tagName=L.tag.name,R(L,"onclosetag",L.tagName);var O={};for(var ve in Ae.ns)O[ve]=Ae.ns[ve];var P=L.tags[L.tags.length-1]||L;L.opt.xmlns&&Ae.ns!==P.ns&&Object.keys(Ae.ns).forEach(function(S){var N=Ae.ns[S];R(L,"onclosenamespace",{prefix:S,uri:N})})}I===0&&(L.closedRoot=!0),L.tagName=L.attribValue=L.attribName="",L.attribList.length=0,L.state=D.TEXT}function B(L){var I=L.entity,ne=I.toLowerCase(),ue,X="";return L.ENTITIES[I]?L.ENTITIES[I]:L.ENTITIES[ne]?L.ENTITIES[ne]:(I=ne,I.charAt(0)==="#"&&(I.charAt(1)==="x"?(I=I.slice(2),ue=parseInt(I,16),X=ue.toString(16)):(I=I.slice(1),ue=parseInt(I,10),X=ue.toString(10))),I=I.replace(/^0+/,""),isNaN(ue)||X.toLowerCase()!==I?(le(L,"Invalid character entity"),"&"+L.entity+";"):String.fromCodePoint(ue))}function G(L,I){I==="<"?(L.state=D.OPEN_WAKA,L.startTagPosition=L.position):k(I)||(le(L,"Non-whitespace before first tag."),L.textNode=I,L.state=D.TEXT)}function ae(L,I){var ne="";return I<L.length&&(ne=L.charAt(I)),ne}function J(L){var I=this;if(this.error)throw this.error;if(I.closed)return K(I,"Cannot write after close. Assign an onready handler.");if(L===null)return he(I);typeof L=="object"&&(L=L.toString());for(var ne=0,ue="";ue=ae(L,ne++),I.c=ue,!!ue;)switch(I.trackPosition&&(I.position++,ue===`
`?(I.line++,I.column=0):I.column++),I.state){case D.BEGIN:if(I.state=D.BEGIN_WHITESPACE,ue==="\uFEFF")continue;G(I,ue);continue;case D.BEGIN_WHITESPACE:G(I,ue);continue;case D.TEXT:if(I.sawRoot&&!I.closedRoot){for(var X=ne-1;ue&&ue!=="<"&&ue!=="&";)ue=ae(L,ne++),ue&&I.trackPosition&&(I.position++,ue===`
`?(I.line++,I.column=0):I.column++);I.textNode+=L.substring(X,ne-1)}ue==="<"&&!(I.sawRoot&&I.closedRoot&&!I.strict)?(I.state=D.OPEN_WAKA,I.startTagPosition=I.position):(!k(ue)&&(!I.sawRoot||I.closedRoot)&&le(I,"Text data outside of root node."),ue==="&"?I.state=D.TEXT_ENTITY:I.textNode+=ue);continue;case D.SCRIPT:ue==="<"?I.state=D.SCRIPT_ENDING:I.script+=ue;continue;case D.SCRIPT_ENDING:ue==="/"?I.state=D.CLOSE_TAG:(I.script+="<"+ue,I.state=D.SCRIPT);continue;case D.OPEN_WAKA:if(ue==="!")I.state=D.SGML_DECL,I.sgmlDecl="";else if(!k(ue))if(H(b,ue))I.state=D.OPEN_TAG,I.tagName=ue;else if(ue==="/")I.state=D.CLOSE_TAG,I.tagName="";else if(ue==="?")I.state=D.PROC_INST,I.procInstName=I.procInstBody="";else{if(le(I,"Unencoded <"),I.startTagPosition+1<I.position){var ie=I.position-I.startTagPosition;ue=new Array(ie).join(" ")+ue}I.textNode+="<"+ue,I.state=D.TEXT}continue;case D.SGML_DECL:(I.sgmlDecl+ue).toUpperCase()===f?(R(I,"onopencdata"),I.state=D.CDATA,I.sgmlDecl="",I.cdata=""):I.sgmlDecl+ue==="--"?(I.state=D.COMMENT,I.comment="",I.sgmlDecl=""):(I.sgmlDecl+ue).toUpperCase()===p?(I.state=D.DOCTYPE,(I.doctype||I.sawRoot)&&le(I,"Inappropriately located doctype declaration"),I.doctype="",I.sgmlDecl=""):ue===">"?(R(I,"onsgmldeclaration",I.sgmlDecl),I.sgmlDecl="",I.state=D.TEXT):(M(ue)&&(I.state=D.SGML_DECL_QUOTED),I.sgmlDecl+=ue);continue;case D.SGML_DECL_QUOTED:ue===I.q&&(I.state=D.SGML_DECL,I.q=""),I.sgmlDecl+=ue;continue;case D.DOCTYPE:ue===">"?(I.state=D.TEXT,R(I,"ondoctype",I.doctype),I.doctype=!0):(I.doctype+=ue,ue==="["?I.state=D.DOCTYPE_DTD:M(ue)&&(I.state=D.DOCTYPE_QUOTED,I.q=ue));continue;case D.DOCTYPE_QUOTED:I.doctype+=ue,ue===I.q&&(I.q="",I.state=D.DOCTYPE);continue;case D.DOCTYPE_DTD:I.doctype+=ue,ue==="]"?I.state=D.DOCTYPE:M(ue)&&(I.state=D.DOCTYPE_DTD_QUOTED,I.q=ue);continue;case D.DOCTYPE_DTD_QUOTED:I.doctype+=ue,ue===I.q&&(I.state=D.DOCTYPE_DTD,I.q="");continue;case D.COMMENT:ue==="-"?I.state=D.COMMENT_ENDING:I.comment+=ue;continue;case D.COMMENT_ENDING:ue==="-"?(I.state=D.COMMENT_ENDED,I.comment=T(I.opt,I.comment),I.comment&&R(I,"oncomment",I.comment),I.comment=""):(I.comment+="-"+ue,I.state=D.COMMENT);continue;case D.COMMENT_ENDED:ue!==">"?(le(I,"Malformed comment"),I.comment+="--"+ue,I.state=D.COMMENT):I.state=D.TEXT;continue;case D.CDATA:ue==="]"?I.state=D.CDATA_ENDING:I.cdata+=ue;continue;case D.CDATA_ENDING:ue==="]"?I.state=D.CDATA_ENDING_2:(I.cdata+="]"+ue,I.state=D.CDATA);continue;case D.CDATA_ENDING_2:ue===">"?(I.cdata&&R(I,"oncdata",I.cdata),R(I,"onclosecdata"),I.cdata="",I.state=D.TEXT):ue==="]"?I.cdata+="]":(I.cdata+="]]"+ue,I.state=D.CDATA);continue;case D.PROC_INST:ue==="?"?I.state=D.PROC_INST_ENDING:k(ue)?I.state=D.PROC_INST_BODY:I.procInstName+=ue;continue;case D.PROC_INST_BODY:if(!I.procInstBody&&k(ue))continue;ue==="?"?I.state=D.PROC_INST_ENDING:I.procInstBody+=ue;continue;case D.PROC_INST_ENDING:ue===">"?(R(I,"onprocessinginstruction",{name:I.procInstName,body:I.procInstBody}),I.procInstName=I.procInstBody="",I.state=D.TEXT):(I.procInstBody+="?"+ue,I.state=D.PROC_INST_BODY);continue;case D.OPEN_TAG:H(y,ue)?I.tagName+=ue:(me(I),ue===">"?ge(I):ue==="/"?I.state=D.OPEN_TAG_SLASH:(k(ue)||le(I,"Invalid character in tag name"),I.state=D.ATTRIB));continue;case D.OPEN_TAG_SLASH:ue===">"?(ge(I,!0),C(I)):(le(I,"Forward-slash in opening tag not followed by >"),I.state=D.ATTRIB);continue;case D.ATTRIB:if(k(ue))continue;ue===">"?ge(I):ue==="/"?I.state=D.OPEN_TAG_SLASH:H(b,ue)?(I.attribName=ue,I.attribValue="",I.state=D.ATTRIB_NAME):le(I,"Invalid attribute name");continue;case D.ATTRIB_NAME:ue==="="?I.state=D.ATTRIB_VALUE:ue===">"?(le(I,"Attribute without value"),I.attribValue=I.attribName,be(I),ge(I)):k(ue)?I.state=D.ATTRIB_NAME_SAW_WHITE:H(y,ue)?I.attribName+=ue:le(I,"Invalid attribute name");continue;case D.ATTRIB_NAME_SAW_WHITE:if(ue==="=")I.state=D.ATTRIB_VALUE;else{if(k(ue))continue;le(I,"Attribute without value"),I.tag.attributes[I.attribName]="",I.attribValue="",R(I,"onattribute",{name:I.attribName,value:""}),I.attribName="",ue===">"?ge(I):H(b,ue)?(I.attribName=ue,I.state=D.ATTRIB_NAME):(le(I,"Invalid attribute name"),I.state=D.ATTRIB)}continue;case D.ATTRIB_VALUE:if(k(ue))continue;M(ue)?(I.q=ue,I.state=D.ATTRIB_VALUE_QUOTED):(le(I,"Unquoted attribute value"),I.state=D.ATTRIB_VALUE_UNQUOTED,I.attribValue=ue);continue;case D.ATTRIB_VALUE_QUOTED:if(ue!==I.q){ue==="&"?I.state=D.ATTRIB_VALUE_ENTITY_Q:I.attribValue+=ue;continue}be(I),I.q="",I.state=D.ATTRIB_VALUE_CLOSED;continue;case D.ATTRIB_VALUE_CLOSED:k(ue)?I.state=D.ATTRIB:ue===">"?ge(I):ue==="/"?I.state=D.OPEN_TAG_SLASH:H(b,ue)?(le(I,"No whitespace between attributes"),I.attribName=ue,I.attribValue="",I.state=D.ATTRIB_NAME):le(I,"Invalid attribute name");continue;case D.ATTRIB_VALUE_UNQUOTED:if(!$(ue)){ue==="&"?I.state=D.ATTRIB_VALUE_ENTITY_U:I.attribValue+=ue;continue}be(I),ue===">"?ge(I):I.state=D.ATTRIB;continue;case D.CLOSE_TAG:if(I.tagName)ue===">"?C(I):H(y,ue)?I.tagName+=ue:I.script?(I.script+="</"+I.tagName,I.tagName="",I.state=D.SCRIPT):(k(ue)||le(I,"Invalid tagname in closing tag"),I.state=D.CLOSE_TAG_SAW_WHITE);else{if(k(ue))continue;q(b,ue)?I.script?(I.script+="</"+ue,I.state=D.SCRIPT):le(I,"Invalid tagname in closing tag."):I.tagName=ue}continue;case D.CLOSE_TAG_SAW_WHITE:if(k(ue))continue;ue===">"?C(I):le(I,"Invalid characters in closing tag");continue;case D.TEXT_ENTITY:case D.ATTRIB_VALUE_ENTITY_Q:case D.ATTRIB_VALUE_ENTITY_U:var Ae,O;switch(I.state){case D.TEXT_ENTITY:Ae=D.TEXT,O="textNode";break;case D.ATTRIB_VALUE_ENTITY_Q:Ae=D.ATTRIB_VALUE_QUOTED,O="attribValue";break;case D.ATTRIB_VALUE_ENTITY_U:Ae=D.ATTRIB_VALUE_UNQUOTED,O="attribValue";break}ue===";"?(I[O]+=B(I),I.entity="",I.state=Ae):H(I.entity.length?A:w,ue)?I.entity+=ue:(le(I,"Invalid character in entity name"),I[O]+="&"+I.entity+ue,I.entity="",I.state=Ae);continue;default:throw new Error(I,"Unknown state: "+I.state)}return I.position>=I.bufferCheckPosition&&i(I),I}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var L=String.fromCharCode,I=Math.floor,ne=function(){var ue=16384,X=[],ie,Ae,O=-1,ve=arguments.length;if(!ve)return"";for(var P="";++O<ve;){var S=Number(arguments[O]);if(!isFinite(S)||S<0||S>1114111||I(S)!==S)throw RangeError("Invalid code point: "+S);S<=65535?X.push(S):(S-=65536,ie=(S>>10)+55296,Ae=S%1024+56320,X.push(ie,Ae)),(O+1===ve||X.length>ue)&&(P+=L.apply(null,X),X.length=0)}return P};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ne,configurable:!0,writable:!0}):String.fromCodePoint=ne}()})(r)})(eI);var KN={isArray:function(r){return Array.isArray?Array.isArray(r):Object.prototype.toString.call(r)==="[object Array]"}},K9=KN.isArray,XN={copyOptions:function(r){var e,t={};for(e in r)r.hasOwnProperty(e)&&(t[e]=r[e]);return t},ensureFlagExists:function(r,e){(!(r in e)||typeof e[r]!="boolean")&&(e[r]=!1)},ensureSpacesExists:function(r){(!("spaces"in r)||typeof r.spaces!="number"&&typeof r.spaces!="string")&&(r.spaces=0)},ensureAlwaysArrayExists:function(r){(!("alwaysArray"in r)||typeof r.alwaysArray!="boolean"&&!K9(r.alwaysArray))&&(r.alwaysArray=!1)},ensureKeyExists:function(r,e){(!(r+"Key"in e)||typeof e[r+"Key"]!="string")&&(e[r+"Key"]=e.compact?"_"+r:r)},checkFnExists:function(r,e){return r+"Fn"in e}},X9=eI,er=XN,Gf=KN.isArray,De,bt;function Y9(r){return De=er.copyOptions(r),er.ensureFlagExists("ignoreDeclaration",De),er.ensureFlagExists("ignoreInstruction",De),er.ensureFlagExists("ignoreAttributes",De),er.ensureFlagExists("ignoreText",De),er.ensureFlagExists("ignoreComment",De),er.ensureFlagExists("ignoreCdata",De),er.ensureFlagExists("ignoreDoctype",De),er.ensureFlagExists("compact",De),er.ensureFlagExists("alwaysChildren",De),er.ensureFlagExists("addParent",De),er.ensureFlagExists("trim",De),er.ensureFlagExists("nativeType",De),er.ensureFlagExists("nativeTypeAttributes",De),er.ensureFlagExists("sanitize",De),er.ensureFlagExists("instructionHasAttributes",De),er.ensureFlagExists("captureSpacesBetweenElements",De),er.ensureAlwaysArrayExists(De),er.ensureKeyExists("declaration",De),er.ensureKeyExists("instruction",De),er.ensureKeyExists("attributes",De),er.ensureKeyExists("text",De),er.ensureKeyExists("comment",De),er.ensureKeyExists("cdata",De),er.ensureKeyExists("doctype",De),er.ensureKeyExists("type",De),er.ensureKeyExists("name",De),er.ensureKeyExists("elements",De),er.ensureKeyExists("parent",De),De}function NI(r){var e=Number(r);if(!isNaN(e))return e;var t=r.toLowerCase();return t==="true"?!0:t==="false"?!1:r}function ly(r,e){var t;if(De.compact){if(!bt[De[r+"Key"]]&&(Gf(De.alwaysArray)?De.alwaysArray.indexOf(De[r+"Key"])!==-1:De.alwaysArray)&&(bt[De[r+"Key"]]=[]),bt[De[r+"Key"]]&&!Gf(bt[De[r+"Key"]])&&(bt[De[r+"Key"]]=[bt[De[r+"Key"]]]),r+"Fn"in De&&typeof e=="string"&&(e=De[r+"Fn"](e,bt)),r==="instruction"&&("instructionFn"in De||"instructionNameFn"in De)){for(t in e)if(e.hasOwnProperty(t))if("instructionFn"in De)e[t]=De.instructionFn(e[t],t,bt);else{var n=e[t];delete e[t],e[De.instructionNameFn(t,n,bt)]=n}}Gf(bt[De[r+"Key"]])?bt[De[r+"Key"]].push(e):bt[De[r+"Key"]]=e}else{bt[De.elementsKey]||(bt[De.elementsKey]=[]);var i={};if(i[De.typeKey]=r,r==="instruction"){for(t in e)if(e.hasOwnProperty(t))break;i[De.nameKey]="instructionNameFn"in De?De.instructionNameFn(t,e,bt):t,De.instructionHasAttributes?(i[De.attributesKey]=e[t][De.attributesKey],"instructionFn"in De&&(i[De.attributesKey]=De.instructionFn(i[De.attributesKey],t,bt))):("instructionFn"in De&&(e[t]=De.instructionFn(e[t],t,bt)),i[De.instructionKey]=e[t])}else r+"Fn"in De&&(e=De[r+"Fn"](e,bt)),i[De[r+"Key"]]=e;De.addParent&&(i[De.parentKey]=bt),bt[De.elementsKey].push(i)}}function EI(r){if("attributesFn"in De&&r&&(r=De.attributesFn(r,bt)),(De.trim||"attributeValueFn"in De||"attributeNameFn"in De||De.nativeTypeAttributes)&&r){var e;for(e in r)if(r.hasOwnProperty(e)&&(De.trim&&(r[e]=r[e].trim()),De.nativeTypeAttributes&&(r[e]=NI(r[e])),"attributeValueFn"in De&&(r[e]=De.attributeValueFn(r[e],e,bt)),"attributeNameFn"in De)){var t=r[e];delete r[e],r[De.attributeNameFn(e,r[e],bt)]=t}}return r}function Q9(r){var e={};if(r.body&&(r.name.toLowerCase()==="xml"||De.instructionHasAttributes)){for(var t=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,n;(n=t.exec(r.body))!==null;)e[n[1]]=n[2]||n[3]||n[4];e=EI(e)}if(r.name.toLowerCase()==="xml"){if(De.ignoreDeclaration)return;bt[De.declarationKey]={},Object.keys(e).length&&(bt[De.declarationKey][De.attributesKey]=e),De.addParent&&(bt[De.declarationKey][De.parentKey]=bt)}else{if(De.ignoreInstruction)return;De.trim&&(r.body=r.body.trim());var i={};De.instructionHasAttributes&&Object.keys(e).length?(i[r.name]={},i[r.name][De.attributesKey]=e):i[r.name]=r.body,ly("instruction",i)}}function J9(r,e){var t;if(typeof r=="object"&&(e=r.attributes,r=r.name),e=EI(e),"elementNameFn"in De&&(r=De.elementNameFn(r,bt)),De.compact){if(t={},!De.ignoreAttributes&&e&&Object.keys(e).length){t[De.attributesKey]={};var n;for(n in e)e.hasOwnProperty(n)&&(t[De.attributesKey][n]=e[n])}!(r in bt)&&(Gf(De.alwaysArray)?De.alwaysArray.indexOf(r)!==-1:De.alwaysArray)&&(bt[r]=[]),bt[r]&&!Gf(bt[r])&&(bt[r]=[bt[r]]),Gf(bt[r])?bt[r].push(t):bt[r]=t}else bt[De.elementsKey]||(bt[De.elementsKey]=[]),t={},t[De.typeKey]="element",t[De.nameKey]=r,!De.ignoreAttributes&&e&&Object.keys(e).length&&(t[De.attributesKey]=e),De.alwaysChildren&&(t[De.elementsKey]=[]),bt[De.elementsKey].push(t);t[De.parentKey]=bt,bt=t}function Z9(r){De.ignoreText||!r.trim()&&!De.captureSpacesBetweenElements||(De.trim&&(r=r.trim()),De.nativeType&&(r=NI(r)),De.sanitize&&(r=r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),ly("text",r))}function eU(r){De.ignoreComment||(De.trim&&(r=r.trim()),ly("comment",r))}function tU(r){var e=bt[De.parentKey];De.addParent||delete bt[De.parentKey],bt=e}function rU(r){De.ignoreCdata||(De.trim&&(r=r.trim()),ly("cdata",r))}function nU(r){De.ignoreDoctype||(r=r.replace(/^ /,""),De.trim&&(r=r.trim()),ly("doctype",r))}function iU(r){r.note=r}var kI=function(r,e){var t=X9.parser(!0,{}),n={};if(bt=n,De=Y9(e),t.opt={strictEntities:!0},t.onopentag=J9,t.ontext=Z9,t.oncomment=eU,t.onclosetag=tU,t.onerror=iU,t.oncdata=rU,t.ondoctype=nU,t.onprocessinginstruction=Q9,t.write(r).close(),n[De.elementsKey]){var i=n[De.elementsKey];delete n[De.elementsKey],n[De.elementsKey]=i,delete n.text}return n},HC=XN,sU=kI;function aU(r){var e=HC.copyOptions(r);return HC.ensureSpacesExists(e),e}var oU=function(r,e){var t,n,i,s;return t=aU(e),n=sU(r,t),s="compact"in t&&t.compact?"_parent":"parent","addParent"in t&&t.addParent?i=JSON.stringify(n,function(a,o){return a===s?"_":o},t.spaces):i=JSON.stringify(n,null,t.spaces),i.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},gr=XN,lU=KN.isArray,fi,pi;function cU(r){var e=gr.copyOptions(r);return gr.ensureFlagExists("ignoreDeclaration",e),gr.ensureFlagExists("ignoreInstruction",e),gr.ensureFlagExists("ignoreAttributes",e),gr.ensureFlagExists("ignoreText",e),gr.ensureFlagExists("ignoreComment",e),gr.ensureFlagExists("ignoreCdata",e),gr.ensureFlagExists("ignoreDoctype",e),gr.ensureFlagExists("compact",e),gr.ensureFlagExists("indentText",e),gr.ensureFlagExists("indentCdata",e),gr.ensureFlagExists("indentAttributes",e),gr.ensureFlagExists("indentInstruction",e),gr.ensureFlagExists("fullTagEmptyElement",e),gr.ensureFlagExists("noQuotesForNativeAttributes",e),gr.ensureSpacesExists(e),typeof e.spaces=="number"&&(e.spaces=Array(e.spaces+1).join(" ")),gr.ensureKeyExists("declaration",e),gr.ensureKeyExists("instruction",e),gr.ensureKeyExists("attributes",e),gr.ensureKeyExists("text",e),gr.ensureKeyExists("comment",e),gr.ensureKeyExists("cdata",e),gr.ensureKeyExists("doctype",e),gr.ensureKeyExists("type",e),gr.ensureKeyExists("name",e),gr.ensureKeyExists("elements",e),e}function ko(r,e,t){return(!t&&r.spaces?`
`:"")+Array(e+1).join(r.spaces)}function fb(r,e,t){if(e.ignoreAttributes)return"";"attributesFn"in e&&(r=e.attributesFn(r,pi,fi));var n,i,s,a,o=[];for(n in r)r.hasOwnProperty(n)&&r[n]!==null&&r[n]!==void 0&&(a=e.noQuotesForNativeAttributes&&typeof r[n]!="string"?"":'"',i=""+r[n],i=i.replace(/"/g,"&quot;"),s="attributeNameFn"in e?e.attributeNameFn(n,i,pi,fi):n,o.push(e.spaces&&e.indentAttributes?ko(e,t+1,!1):" "),o.push(s+"="+a+("attributeValueFn"in e?e.attributeValueFn(i,n,pi,fi):i)+a));return r&&Object.keys(r).length&&e.spaces&&e.indentAttributes&&o.push(ko(e,t,!1)),o.join("")}function CI(r,e,t){return fi=r,pi="xml",e.ignoreDeclaration?"":"<?xml"+fb(r[e.attributesKey],e,t)+"?>"}function TI(r,e,t){if(e.ignoreInstruction)return"";var n;for(n in r)if(r.hasOwnProperty(n))break;var i="instructionNameFn"in e?e.instructionNameFn(n,r[n],pi,fi):n;if(typeof r[n]=="object")return fi=r,pi=i,"<?"+i+fb(r[n][e.attributesKey],e,t)+"?>";var s=r[n]?r[n]:"";return"instructionFn"in e&&(s=e.instructionFn(s,n,pi,fi)),"<?"+i+(s?" "+s:"")+"?>"}function jI(r,e){return e.ignoreComment?"":"<!--"+("commentFn"in e?e.commentFn(r,pi,fi):r)+"-->"}function PI(r,e){return e.ignoreCdata?"":"<![CDATA["+("cdataFn"in e?e.cdataFn(r,pi,fi):r.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function LI(r,e){return e.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in e?e.doctypeFn(r,pi,fi):r)+">"}function YN(r,e){return e.ignoreText?"":(r=""+r,r=r.replace(/&amp;/g,"&"),r=r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in e?e.textFn(r,pi,fi):r)}function uU(r,e){var t;if(r.elements&&r.elements.length)for(t=0;t<r.elements.length;++t)switch(r.elements[t][e.typeKey]){case"text":if(e.indentText)return!0;break;case"cdata":if(e.indentCdata)return!0;break;case"instruction":if(e.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function hU(r,e,t){fi=r,pi=r.name;var n=[],i="elementNameFn"in e?e.elementNameFn(r.name,r):r.name;n.push("<"+i),r[e.attributesKey]&&n.push(fb(r[e.attributesKey],e,t));var s=r[e.elementsKey]&&r[e.elementsKey].length||r[e.attributesKey]&&r[e.attributesKey]["xml:space"]==="preserve";return s||("fullTagEmptyElementFn"in e?s=e.fullTagEmptyElementFn(r.name,r):s=e.fullTagEmptyElement),s?(n.push(">"),r[e.elementsKey]&&r[e.elementsKey].length&&(n.push(II(r[e.elementsKey],e,t+1)),fi=r,pi=r.name),n.push(e.spaces&&uU(r,e)?`
`+Array(t+1).join(e.spaces):""),n.push("</"+i+">")):n.push("/>"),n.join("")}function II(r,e,t,n){return r.reduce(function(i,s){var a=ko(e,t,n&&!i);switch(s.type){case"element":return i+a+hU(s,e,t);case"comment":return i+a+jI(s[e.commentKey],e);case"doctype":return i+a+LI(s[e.doctypeKey],e);case"cdata":return i+(e.indentCdata?a:"")+PI(s[e.cdataKey],e);case"text":return i+(e.indentText?a:"")+YN(s[e.textKey],e);case"instruction":var o={};return o[s[e.nameKey]]=s[e.attributesKey]?s:s[e.instructionKey],i+(e.indentInstruction?a:"")+TI(o,e,t)}},"")}function RI(r,e,t){var n;for(n in r)if(r.hasOwnProperty(n))switch(n){case e.parentKey:case e.attributesKey:break;case e.textKey:if(e.indentText||t)return!0;break;case e.cdataKey:if(e.indentCdata||t)return!0;break;case e.instructionKey:if(e.indentInstruction||t)return!0;break;case e.doctypeKey:case e.commentKey:return!0;default:return!0}return!1}function dU(r,e,t,n,i){fi=r,pi=e;var s="elementNameFn"in t?t.elementNameFn(e,r):e;if(typeof r>"u"||r===null||r==="")return"fullTagEmptyElementFn"in t&&t.fullTagEmptyElementFn(e,r)||t.fullTagEmptyElement?"<"+s+"></"+s+">":"<"+s+"/>";var a=[];if(e){if(a.push("<"+s),typeof r!="object")return a.push(">"+YN(r,t)+"</"+s+">"),a.join("");r[t.attributesKey]&&a.push(fb(r[t.attributesKey],t,n));var o=RI(r,t,!0)||r[t.attributesKey]&&r[t.attributesKey]["xml:space"]==="preserve";if(o||("fullTagEmptyElementFn"in t?o=t.fullTagEmptyElementFn(e,r):o=t.fullTagEmptyElement),o)a.push(">");else return a.push("/>"),a.join("")}return a.push(FI(r,t,n+1,!1)),fi=r,pi=e,e&&a.push((i?ko(t,n,!1):"")+"</"+s+">"),a.join("")}function FI(r,e,t,n){var i,s,a,o=[];for(s in r)if(r.hasOwnProperty(s))for(a=lU(r[s])?r[s]:[r[s]],i=0;i<a.length;++i){switch(s){case e.declarationKey:o.push(CI(a[i],e,t));break;case e.instructionKey:o.push((e.indentInstruction?ko(e,t,n):"")+TI(a[i],e,t));break;case e.attributesKey:case e.parentKey:break;case e.textKey:o.push((e.indentText?ko(e,t,n):"")+YN(a[i],e));break;case e.cdataKey:o.push((e.indentCdata?ko(e,t,n):"")+PI(a[i],e));break;case e.doctypeKey:o.push(ko(e,t,n)+LI(a[i],e));break;case e.commentKey:o.push(ko(e,t,n)+jI(a[i],e));break;default:o.push(ko(e,t,n)+dU(a[i],s,e,t,RI(a[i],e)))}n=n&&!o.length}return o.join("")}var DI=function(r,e){e=cU(e);var t=[];return fi=r,pi="_root_",e.compact?t.push(FI(r,e,0,!0)):(r[e.declarationKey]&&t.push(CI(r[e.declarationKey],e,0)),r[e.elementsKey]&&r[e.elementsKey].length&&t.push(II(r[e.elementsKey],e,0,!t.length))),t.join("")},fU=DI,pU=function(r,e){r instanceof li&&(r=r.toString());var t=null;if(typeof r=="string")try{t=JSON.parse(r)}catch{throw new Error("The JSON structure is invalid")}else t=r;return fU(t,e)},mU=kI,gU=oU,yU=DI,vU=pU,MI={xml2js:mU,xml2json:gU,js2xml:yU,json2xml:vU};const QN=r=>{switch(r.type){case void 0:case"element":const e=new wU(r.name,r.attributes),t=r.elements||[];for(const n of t){const i=QN(n);i!==void 0&&e.push(i)}return e;case"text":return r.text;default:return}};class xU extends xt{}class wU extends We{static fromXmlString(e){const t=MI.xml2js(e,{compact:!1});return QN(t)}constructor(e,t){super(e),t&&this.root.push(new xU(t))}push(e){this.root.push(e)}}class bU extends We{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class OI extends We{constructor(e,t){super(e),t&&(this.root=t.root)}}const Zi=r=>{if(isNaN(r))throw new Error(`Invalid value '${r}' specified. Must be an integer.`);return Math.floor(r)},pb=r=>{const e=Zi(r);if(e<0)throw new Error(`Invalid value '${r}' specified. Must be a positive integer.`);return e},BI=(r,e)=>{const t=e*2;if(r.length!==t||isNaN(+`0x${r}`))throw new Error(`Invalid hex value '${r}'. Expected ${t} digit hex value`);return r},qC=r=>BI(r,1),UI=r=>{const e=r.slice(-2),t=r.substring(0,r.length-2);return`${Number(t)}${e}`},zI=r=>{const e=UI(r);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},um=r=>{if(r==="auto")return r;const e=r.charAt(0)==="#"?r.substring(1):r;return BI(e,3)},Yu=r=>typeof r=="string"?UI(r):Zi(r),AU=r=>typeof r=="string"?zI(r):pb(r),Da=r=>typeof r=="string"?zI(r):pb(r),_U=pb,SU=pb,NU=r=>r.toISOString();class Ge extends We{constructor(e,t=!0){super(e),t!==!0&&this.root.push(new rn({val:t}))}}class M5 extends We{constructor(e,t){super(e),this.root.push(new rn({val:AU(t)}))}}class Vf extends We{constructor(e,t){super(e),this.root.push(new rn({val:t}))}}const vg=(r,e)=>new pu({name:r,attributes:{value:{key:"w:val",value:e}}});class JN extends We{constructor(e,t){super(e),this.root.push(new rn({val:t}))}}class Fu extends We{constructor(e,t){super(e),this.root.push(t)}}class pu extends We{constructor({name:e,attributes:t,children:n}){super(e),t&&this.root.push(new oy(t)),n&&this.root.push(...n)}}const kr={START:"start",CENTER:"center",END:"end",BOTH:"both",MEDIUM_KASHIDA:"mediumKashida",DISTRIBUTE:"distribute",NUM_TAB:"numTab",HIGH_KASHIDA:"highKashida",LOW_KASHIDA:"lowKashida",THAI_DISTRIBUTE:"thaiDistribute",LEFT:"left",RIGHT:"right",JUSTIFIED:"both"};class EU extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val"})}}class kU extends We{constructor(e){super("w:jc"),this.root.push(new EU({val:e}))}}class Hr extends We{constructor(e,{color:t,size:n,space:i,style:s}){super(e),this.root.push(new CU({style:s,color:t===void 0?void 0:um(t),size:n===void 0?void 0:_U(n),space:i===void 0?void 0:SU(i)}))}}class CU extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const ZN={SINGLE:"single",DASH_DOT_STROKED:"dashDotStroked",DASHED:"dashed",DASH_SMALL_GAP:"dashSmallGap",DOT_DASH:"dotDash",DOT_DOT_DASH:"dotDotDash",DOTTED:"dotted",DOUBLE:"double",DOUBLE_WAVE:"doubleWave",INSET:"inset",NIL:"nil",NONE:"none",OUTSET:"outset",THICK:"thick",THICK_THIN_LARGE_GAP:"thickThinLargeGap",THICK_THIN_MEDIUM_GAP:"thickThinMediumGap",THICK_THIN_SMALL_GAP:"thickThinSmallGap",THIN_THICK_LARGE_GAP:"thinThickLargeGap",THIN_THICK_MEDIUM_GAP:"thinThickMediumGap",THIN_THICK_SMALL_GAP:"thinThickSmallGap",THIN_THICK_THIN_LARGE_GAP:"thinThickThinLargeGap",THIN_THICK_THIN_MEDIUM_GAP:"thinThickThinMediumGap",THIN_THICK_THIN_SMALL_GAP:"thinThickThinSmallGap",THREE_D_EMBOSS:"threeDEmboss",THREE_D_ENGRAVE:"threeDEngrave",TRIPLE:"triple",WAVE:"wave"};class TU extends ub{constructor(e){super("w:pBdr"),e.top&&this.root.push(new Hr("w:top",e.top)),e.bottom&&this.root.push(new Hr("w:bottom",e.bottom)),e.left&&this.root.push(new Hr("w:left",e.left)),e.right&&this.root.push(new Hr("w:right",e.right))}}class jU extends We{constructor(){super("w:pBdr");const e=new Hr("w:bottom",{color:"auto",space:1,style:ZN.SINGLE,size:6});this.root.push(e)}}class PU extends We{constructor({start:e,end:t,left:n,right:i,hanging:s,firstLine:a}){super("w:ind"),this.root.push(new oy({start:{key:"w:start",value:e===void 0?void 0:Yu(e)},end:{key:"w:end",value:t===void 0?void 0:Yu(t)},left:{key:"w:left",value:n===void 0?void 0:Yu(n)},right:{key:"w:right",value:i===void 0?void 0:Yu(i)},hanging:{key:"w:hanging",value:s===void 0?void 0:Da(s)},firstLine:{key:"w:firstLine",value:a===void 0?void 0:Da(a)}}))}}let LU=class extends We{constructor(){super("w:br")}};const eE={BEGIN:"begin",END:"end",SEPARATE:"separate"};class tE extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class Cv extends We{constructor(e){super("w:fldChar"),this.root.push(new tE({type:eE.BEGIN,dirty:e}))}}class Tv extends We{constructor(e){super("w:fldChar"),this.root.push(new tE({type:eE.SEPARATE,dirty:e}))}}class jv extends We{constructor(e){super("w:fldChar"),this.root.push(new tE({type:eE.END,dirty:e}))}}const IU={DECIMAL:"decimal",UPPER_ROMAN:"upperRoman",LOWER_ROMAN:"lowerRoman",UPPER_LETTER:"upperLetter",LOWER_LETTER:"lowerLetter",ORDINAL:"ordinal",CARDINAL_TEXT:"cardinalText",ORDINAL_TEXT:"ordinalText",HEX:"hex",CHICAGO:"chicago",IDEOGRAPH_DIGITAL:"ideographDigital",JAPANESE_COUNTING:"japaneseCounting",AIUEO:"aiueo",IROHA:"iroha",DECIMAL_FULL_WIDTH:"decimalFullWidth",DECIMAL_HALF_WIDTH:"decimalHalfWidth",JAPANESE_LEGAL:"japaneseLegal",JAPANESE_DIGITAL_TEN_THOUSAND:"japaneseDigitalTenThousand",DECIMAL_ENCLOSED_CIRCLE:"decimalEnclosedCircle",DECIMAL_FULL_WIDTH_2:"decimalFullWidth2",AIUEO_FULL_WIDTH:"aiueoFullWidth",IROHA_FULL_WIDTH:"irohaFullWidth",DECIMAL_ZERO:"decimalZero",BULLET:"bullet",GANADA:"ganada",CHOSUNG:"chosung",DECIMAL_ENCLOSED_FULL_STOP:"decimalEnclosedFullstop",DECIMAL_ENCLOSED_PAREN:"decimalEnclosedParen",DECIMAL_ENCLOSED_CIRCLE_CHINESE:"decimalEnclosedCircleChinese",IDEOGRAPH_ENCLOSED_CIRCLE:"ideographEnclosedCircle",IDEOGRAPH_TRADITIONAL:"ideographTraditional",IDEOGRAPH_ZODIAC:"ideographZodiac",IDEOGRAPH_ZODIAC_TRADITIONAL:"ideographZodiacTraditional",TAIWANESE_COUNTING:"taiwaneseCounting",IDEOGRAPH_LEGAL_TRADITIONAL:"ideographLegalTraditional",TAIWANESE_COUNTING_THOUSAND:"taiwaneseCountingThousand",TAIWANESE_DIGITAL:"taiwaneseDigital",CHINESE_COUNTING:"chineseCounting",CHINESE_LEGAL_SIMPLIFIED:"chineseLegalSimplified",CHINESE_COUNTING_TEN_THOUSAND:"chineseCountingThousand",KOREAN_DIGITAL:"koreanDigital",KOREAN_COUNTING:"koreanCounting",KOREAN_LEGAL:"koreanLegal",KOREAN_DIGITAL_2:"koreanDigital2",VIETNAMESE_COUNTING:"vietnameseCounting",RUSSIAN_LOWER:"russianLower",RUSSIAN_UPPER:"russianUpper",NONE:"none",NUMBER_IN_DASH:"numberInDash",HEBREW_1:"hebrew1",HEBREW_2:"hebrew2",ARABIC_ALPHA:"arabicAlpha",ARABIC_ABJAD:"arabicAbjad",HINDI_VOWELS:"hindiVowels",HINDI_CONSONANTS:"hindiConsonants",HINDI_NUMBERS:"hindiNumbers",HINDI_COUNTING:"hindiCounting",THAI_LETTERS:"thaiLetters",THAI_NUMBERS:"thaiNumbers",THAI_COUNTING:"thaiCounting",BAHT_TEXT:"bahtText",DOLLAR_TEXT:"dollarText"},hm={DEFAULT:"default",PRESERVE:"preserve"};class dm extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{space:"xml:space"})}}class RU extends We{constructor(){super("w:instrText"),this.root.push(new dm({space:hm.PRESERVE})),this.root.push("PAGE")}}class FU extends We{constructor(){super("w:instrText"),this.root.push(new dm({space:hm.PRESERVE})),this.root.push("NUMPAGES")}}class DU extends We{constructor(){super("w:instrText"),this.root.push(new dm({space:hm.PRESERVE})),this.root.push("SECTIONPAGES")}}class MU extends We{constructor(){super("w:instrText"),this.root.push(new dm({space:hm.PRESERVE})),this.root.push("SECTION")}}class OU extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class HI extends We{constructor({fill:e,color:t,type:n}){super("w:shd"),this.root.push(new OU({fill:e===void 0?void 0:um(e),color:t===void 0?void 0:um(t),type:n}))}}class BU extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const UU={DOT:"dot"};class zU extends We{constructor(e){super("w:em"),this.root.push(new rn({val:e}))}}class HU extends zU{constructor(e=UU.DOT){super(e)}}class qU extends We{constructor(e){super("w:spacing"),this.root.push(new rn({val:Yu(e)}))}}class WU extends We{constructor(e){super("w:color"),this.root.push(new rn({val:um(e)}))}}class $U extends We{constructor(e){super("w:highlight"),this.root.push(new rn({val:e}))}}class GU extends We{constructor(e){super("w:highlightCs"),this.root.push(new rn({val:e}))}}const VU=r=>new pu({name:"w:lang",attributes:{value:{key:"w:val",value:r.value},eastAsia:{key:"w:eastAsia",value:r.eastAsia},bidirectional:{key:"w:bidi",value:r.bidirectional}}});class WC extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class O5 extends We{constructor(e,t){if(super("w:rFonts"),typeof e=="string"){const n=e;this.root.push(new WC({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:t}))}else{const n=e;this.root.push(new WC(n))}}}let qI=class extends We{constructor(e){super("w:vertAlign"),this.root.push(new rn({val:e}))}};class KU extends qI{constructor(){super("superscript")}}class XU extends qI{constructor(){super("subscript")}}const WI={SINGLE:"single",WORDS:"words",DOUBLE:"double",THICK:"thick",DOTTED:"dotted",DOTTEDHEAVY:"dottedHeavy",DASH:"dash",DASHEDHEAVY:"dashedHeavy",DASHLONG:"dashLong",DASHLONGHEAVY:"dashLongHeavy",DOTDASH:"dotDash",DASHDOTHEAVY:"dashDotHeavy",DOTDOTDASH:"dotDotDash",DASHDOTDOTHEAVY:"dashDotDotHeavy",WAVE:"wave",WAVYHEAVY:"wavyHeavy",WAVYDOUBLE:"wavyDouble",NONE:"none"};class YU extends We{constructor(e=WI.SINGLE,t){super("w:u"),this.root.push(new rn({val:e,color:t===void 0?void 0:um(t)}))}}class Ad extends ub{constructor(e){var t,n;if(super("w:rPr"),!e)return;e.noProof!==void 0&&this.push(new Ge("w:noProof",e.noProof)),e.bold!==void 0&&this.push(new Ge("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new Ge("w:bCs",(t=e.boldComplexScript)!=null?t:e.bold)),e.italics!==void 0&&this.push(new Ge("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new Ge("w:iCs",(n=e.italicsComplexScript)!=null?n:e.italics)),e.underline&&this.push(new YU(e.underline.type,e.underline.color)),e.effect&&this.push(new Vf("w:effect",e.effect)),e.emphasisMark&&this.push(new HU(e.emphasisMark.type)),e.color&&this.push(new WU(e.color)),e.kern&&this.push(new M5("w:kern",e.kern)),e.position&&this.push(new Vf("w:position",e.position)),e.size!==void 0&&this.push(new M5("w:sz",e.size));const i=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;i&&this.push(new M5("w:szCs",i)),e.rightToLeft!==void 0&&this.push(new Ge("w:rtl",e.rightToLeft)),e.smallCaps!==void 0?this.push(new Ge("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new Ge("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new Ge("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new Ge("w:dstrike",e.doubleStrike)),e.subScript&&this.push(new XU),e.superScript&&this.push(new KU),e.style&&this.push(new Vf("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new O5(e.font)):"name"in e.font?this.push(new O5(e.font.name,e.font.hint)):this.push(new O5(e.font))),e.highlight&&this.push(new $U(e.highlight));const s=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;s&&this.push(new GU(s)),e.characterSpacing&&this.push(new qU(e.characterSpacing)),e.emboss!==void 0&&this.push(new Ge("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new Ge("w:imprint",e.imprint)),e.shading&&this.push(new HI(e.shading)),e.revision&&this.push(new QU(e.revision)),e.border&&this.push(new Hr("w:bdr",e.border)),e.snapToGrid!==void 0&&this.push(new Ge("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new Ge("w:vanish",e.vanish)),e.specVanish&&this.push(new Ge("w:specVanish",e.vanish)),e.scale!==void 0&&this.push(new JN("w:w",e.scale)),e.language&&this.push(VU(e.language)),e.math&&this.push(new Ge("w:oMath",e.math))}push(e){this.root.push(e)}}class QU extends We{constructor(e){super("w:rPrChange"),this.root.push(new BU({id:e.id,author:e.author,date:e.date})),this.addChildElement(new Ad(e))}}class wS extends We{constructor(e){var t;return super("w:t"),typeof e=="string"?(this.root.push(new dm({space:hm.PRESERVE})),this.root.push(e),this):(this.root.push(new dm({space:(t=e.space)!=null?t:hm.DEFAULT})),this.root.push(e.text),this)}}const kf={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class mb extends We{constructor(e){if(super("w:r"),Be(this,"properties"),this.properties=new Ad(e),this.root.push(this.properties),e.break)for(let t=0;t<e.break;t++)this.root.push(new LU);if(e.children)for(const t of e.children){if(typeof t=="string"){switch(t){case kf.CURRENT:this.root.push(new Cv),this.root.push(new RU),this.root.push(new Tv),this.root.push(new jv);break;case kf.TOTAL_PAGES:this.root.push(new Cv),this.root.push(new FU),this.root.push(new Tv),this.root.push(new jv);break;case kf.TOTAL_PAGES_IN_SECTION:this.root.push(new Cv),this.root.push(new DU),this.root.push(new Tv),this.root.push(new jv);break;case kf.CURRENT_SECTION:this.root.push(new Cv),this.root.push(new MU),this.root.push(new Tv),this.root.push(new jv);break;default:this.root.push(new wS(t));break}continue}this.root.push(t)}else e.text&&this.root.push(new wS(e.text))}}class hr extends mb{constructor(e){if(typeof e=="string")return super({}),this.root.push(new wS(e)),this;super(e)}}let JU="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",ZU=(r,e=21)=>(t=e)=>{let n="",i=t;for(;i--;)n+=r[Math.random()*r.length|0];return n},ez=(r=21)=>{let e="",t=r;for(;t--;)e+=JU[Math.random()*64|0];return e};const ya=r=>Math.floor(r*72*20),rE=(r=0)=>{let e=r;return()=>++e},tz=()=>rE(),rz=()=>rE(1),nz=()=>rE(),iz=()=>ez().toLowerCase(),xg=r=>ZU("1234567890abcdef",r)(),sz=()=>`${xg(8)}-${xg(4)}-${xg(4)}-${xg(4)}-${xg(12)}`;class az extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class oz extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class lz extends We{constructor({id:e,initials:t,author:n,date:i=new Date,children:s}){super("w:comment"),this.root.push(new az({id:e,initials:t,author:n,date:i.toISOString()}));for(const a of s)this.root.push(a)}}class cz extends We{constructor({children:e}){super("w:comments"),this.root.push(new oz({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const t of e)this.root.push(new lz(t))}}class uz extends We{constructor(){super("w:pageBreakBefore")}}const bS={AT_LEAST:"atLeast",EXACTLY:"exactly",EXACT:"exact",AUTO:"auto"};class hz extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule"})}}class dz extends We{constructor(e){super("w:spacing"),this.root.push(new hz(e))}}const B5={HEADING_1:"Heading1",HEADING_2:"Heading2",HEADING_3:"Heading3",HEADING_4:"Heading4",HEADING_5:"Heading5",HEADING_6:"Heading6",TITLE:"Title"};let Pv=class extends We{constructor(e){super("w:pStyle"),this.root.push(new rn({val:e}))}};class fz extends We{constructor(e){super("w:tabs");for(const t of e)this.root.push(new mz(t))}}const $C={LEFT:"left",RIGHT:"right",CENTER:"center",BAR:"bar",CLEAR:"clear",DECIMAL:"decimal",END:"end",NUM:"num",START:"start"};class pz extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class mz extends We{constructor({type:e,position:t,leader:n}){super("w:tab"),this.root.push(new pz({val:e,pos:t,leader:n}))}}class GC extends We{constructor(e,t){super("w:numPr"),this.root.push(new gz(t)),this.root.push(new yz(e))}}class gz extends We{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new rn({val:e}))}}class yz extends We{constructor(e){super("w:numId"),this.root.push(new rn({val:typeof e=="string"?`{${e}}`:e}))}}class vz extends We{constructor(){super(...arguments),Be(this,"fileChild",Symbol())}}class xz extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const wz={EXTERNAL:"External"};class bz extends We{constructor(e,t,n,i){super("Relationship"),this.root.push(new xz({id:e,type:t,target:n,targetMode:i}))}}class Az extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class _z extends We{constructor(e,t,n){super("w:hyperlink"),Be(this,"linkId"),this.linkId=t;const i={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},s=new Az(i);this.root.push(s),e.forEach(a=>{this.root.push(a)})}}class Sz extends We{constructor(e){super("w:externalHyperlink"),this.options=e}}class Nz extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class Ez extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{id:"w:id"})}}class kz{constructor(e){Be(this,"bookmarkUniqueNumericId",nz()),Be(this,"start"),Be(this,"children"),Be(this,"end");const t=this.bookmarkUniqueNumericId();this.start=new Cz(e.id,t),this.children=e.children,this.end=new Tz(t)}}class Cz extends We{constructor(e,t){super("w:bookmarkStart");const n=new Nz({name:e,id:t});this.root.push(n)}}class Tz extends We{constructor(e){super("w:bookmarkEnd");const t=new Ez({id:e});this.root.push(t)}}class jz extends We{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new rn({val:e}))}}class Pz extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{verticalAlign:"w:val"})}}class Lz extends We{constructor(e){super("w:vAlign"),this.root.push(new Pz({verticalAlign:e}))}}const Kf={DEFAULT:"default",FIRST:"first",EVEN:"even"};class Iz extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const VC={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class U5 extends We{constructor(e,t){super(e),this.root.push(new Iz({type:t.type||Kf.DEFAULT,id:`rId${t.id}`}))}}class Rz extends We{constructor({space:e,count:t,separate:n,equalWidth:i,children:s}){super("w:cols"),this.root.push(new oy({space:{key:"w:space",value:e===void 0?void 0:Da(e)},count:{key:"w:num",value:t===void 0?void 0:Zi(t)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:i}})),!i&&s&&s.forEach(a=>this.addChildElement(a))}}class Fz extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{type:"w:type",linePitch:"w:linePitch",charSpace:"w:charSpace"})}}class Dz extends We{constructor(e,t,n){super("w:docGrid"),this.root.push(new Fz({type:n,linePitch:Zi(e),charSpace:t?Zi(t):void 0}))}}const Mz=({countBy:r,start:e,restart:t,distance:n})=>new pu({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:r===void 0?void 0:Zi(r)},start:{key:"w:start",value:e===void 0?void 0:Zi(e)},restart:{key:"w:restart",value:t},distance:{key:"w:distance",value:n===void 0?void 0:Da(n)}}});class KC extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class Oz extends ub{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new KC({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new KC({})),e.pageBorderTop&&this.root.push(new Hr("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new Hr("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new Hr("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new Hr("w:right",e.pageBorderRight))}}class Bz extends We{constructor(e,t,n,i,s,a,o){super("w:pgMar"),this.root.push(new oy({top:{key:"w:top",value:Yu(e)},right:{key:"w:right",value:Da(t)},bottom:{key:"w:bottom",value:Yu(n)},left:{key:"w:left",value:Da(i)},header:{key:"w:header",value:Da(s)},footer:{key:"w:footer",value:Da(a)},gutter:{key:"w:gutter",value:Da(o)}}))}}class Uz extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class zz extends We{constructor({start:e,formatType:t,separator:n}){super("w:pgNumType"),this.root.push(new Uz({start:e===void 0?void 0:Zi(e),formatType:t,separator:n}))}}const $I={PORTRAIT:"portrait",LANDSCAPE:"landscape"};class Hz extends We{constructor(e,t,n){super("w:pgSz");const i=n===$I.LANDSCAPE,s=Da(e),a=Da(t);this.root.push(new oy({width:{key:"w:w",value:i?a:s},height:{key:"w:h",value:i?s:a},orientation:{key:"w:orient",value:n}}))}}class qz extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val"})}}class Wz extends We{constructor(e){super("w:textDirection"),this.root.push(new qz({val:e}))}}class $z extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val"})}}class Gz extends We{constructor(e){super("w:type"),this.root.push(new $z({val:e}))}}const Du={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},z5={WIDTH:11906,HEIGHT:16838,ORIENTATION:$I.PORTRAIT};class Vz extends We{constructor({page:{size:{width:e=z5.WIDTH,height:t=z5.HEIGHT,orientation:n=z5.ORIENTATION}={},margin:{top:i=Du.TOP,right:s=Du.RIGHT,bottom:a=Du.BOTTOM,left:o=Du.LEFT,header:l=Du.HEADER,footer:u=Du.FOOTER,gutter:h=Du.GUTTER}={},pageNumbers:f={},borders:p,textDirection:d}={},grid:{linePitch:x=360,charSpace:v,type:b}={},headerWrapperGroup:y={},footerWrapperGroup:w={},lineNumbers:A,titlePage:k,verticalAlign:M,column:$,type:H}={}){super("w:sectPr"),this.addHeaderFooterGroup(VC.HEADER,y),this.addHeaderFooterGroup(VC.FOOTER,w),H&&this.root.push(new Gz(H)),this.root.push(new Hz(e,t,n)),this.root.push(new Bz(i,s,a,o,l,u,h)),p&&this.root.push(new Oz(p)),A&&this.root.push(Mz(A)),this.root.push(new zz(f)),$&&this.root.push(new Rz($)),M&&this.root.push(new Lz(M)),k!==void 0&&this.root.push(new Ge("w:titlePg",k)),d&&this.root.push(new Wz(d)),this.root.push(new Dz(x,v,b))}addHeaderFooterGroup(e,t){t.default&&this.root.push(new U5(e,{type:Kf.DEFAULT,id:t.default.View.ReferenceId})),t.first&&this.root.push(new U5(e,{type:Kf.FIRST,id:t.first.View.ReferenceId})),t.even&&this.root.push(new U5(e,{type:Kf.EVEN,id:t.even.View.ReferenceId}))}}class Kz extends We{constructor(){super("w:body"),Be(this,"sections",[])}addSection(e){const t=this.sections.pop();this.root.push(this.createSectionParagraph(t)),this.sections.push(new Vz(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const t=new wr({}),n=new fm({});return n.push(e),t.addChildElement(n),t}}class cy extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",aink:"xmlns:aink",am3d:"xmlns:am3d",w16cex:"xmlns:w16cex",w16cid:"xmlns:w16cid",w16:"xmlns:w16",w16sdtdh:"xmlns:w16sdtdh",w16se:"xmlns:w16se"})}}class Xz extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class Yz extends We{constructor(e){super("w:background"),this.root.push(new Xz({color:e.color===void 0?void 0:um(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:qC(e.themeShade),themeTint:e.themeTint===void 0?void 0:qC(e.themeTint)}))}}class Qz extends We{constructor(e){super("w:document"),Be(this,"body"),this.root.push(new cy({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex",Ignorable:"w14 w15 wp14"})),this.body=new Kz,e.background&&this.root.push(new Yz(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class Jz extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{xmlns:"xmlns"})}}class Em extends We{constructor(){super("Relationships"),this.root.push(new Jz({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,t,n,i){const s=new bz(`rId${e}`,t,n,i);return this.root.push(s),s}get RelationshipCount(){return this.root.length-1}}class GI{constructor(e){Be(this,"document"),Be(this,"relationships"),this.document=new Qz(e),this.relationships=new Em}get View(){return this.document}get Relationships(){return this.relationships}}class Zz extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val"})}}class eH extends We{constructor(){super("w:wordWrap"),this.root.push(new Zz({val:0}))}}const tH=r=>{var e,t;return new pu({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:r.anchorLock},dropCap:{key:"w:dropCap",value:r.dropCap},width:{key:"w:w",value:r.width},height:{key:"w:h",value:r.height},x:{key:"w:x",value:r.position?r.position.x:void 0},y:{key:"w:y",value:r.position?r.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:r.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:r.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=r.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(t=r.space)==null?void 0:t.vertical},rule:{key:"w:hRule",value:r.rule},alignmentX:{key:"w:xAlign",value:r.alignment?r.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:r.alignment?r.alignment.y:void 0},lines:{key:"w:lines",value:r.lines},wrap:{key:"w:wrap",value:r.wrap}}})};class fm extends ub{constructor(e){var t,n;if(super("w:pPr"),Be(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new Pv(e.heading)),e.bullet&&this.push(new Pv("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new Pv("ListParagraph"))),e.style&&this.push(new Pv(e.style)),e.keepNext!==void 0&&this.push(new Ge("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new Ge("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new uz),e.frame&&this.push(tH(e.frame)),e.widowControl!==void 0&&this.push(new Ge("w:widowControl",e.widowControl)),e.bullet&&this.push(new GC(1,e.bullet.level)),e.numbering&&(this.numberingReferences.push({reference:e.numbering.reference,instance:(t=e.numbering.instance)!=null?t:0}),this.push(new GC(`${e.numbering.reference}-${(n=e.numbering.instance)!=null?n:0}`,e.numbering.level))),e.border&&this.push(new TU(e.border)),e.thematicBreak&&this.push(new jU),e.shading&&this.push(new HI(e.shading)),e.wordWrap&&this.push(new eH),e.overflowPunctuation&&this.push(new Ge("w:overflowPunct",e.overflowPunctuation));const i=[...e.rightTabStop!==void 0?[{type:$C.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:$C.LEFT,position:e.leftTabStop}]:[]];i.length>0&&this.push(new fz(i)),e.bidirectional!==void 0&&this.push(new Ge("w:bidi",e.bidirectional)),e.spacing&&this.push(new dz(e.spacing)),e.indent&&this.push(new PU(e.indent)),e.contextualSpacing!==void 0&&this.push(new Ge("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new kU(e.alignment)),e.outlineLevel!==void 0&&this.push(new jz(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new Ge("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new Ge("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new Ad(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof GI)for(const t of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(t.reference,t.instance);return super.prepForXml(e)}}class wr extends vz{constructor(e){if(super("w:p"),Be(this,"properties"),typeof e=="string")return this.properties=new fm({}),this.root.push(this.properties),this.root.push(new hr(e)),this;if(this.properties=new fm(e),this.root.push(this.properties),e.text&&this.root.push(new hr(e.text)),e.children)for(const t of e.children){if(t instanceof kz){this.root.push(t.start);for(const n of t.children)this.root.push(n);this.root.push(t.end);continue}this.root.push(t)}}prepForXml(e){for(const t of this.root)if(t instanceof Sz){const n=this.root.indexOf(t),i=new _z(t.options.children,iz());e.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",t.options.link,wz.EXTERNAL),this.root[n]=i}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}const rf={style:ZN.NONE,size:0,color:"auto"},nf={style:ZN.SINGLE,size:4,color:"auto"};class rH extends We{constructor(e){super("w:tblBorders"),e.top?this.root.push(new Hr("w:top",e.top)):this.root.push(new Hr("w:top",nf)),e.left?this.root.push(new Hr("w:left",e.left)):this.root.push(new Hr("w:left",nf)),e.bottom?this.root.push(new Hr("w:bottom",e.bottom)):this.root.push(new Hr("w:bottom",nf)),e.right?this.root.push(new Hr("w:right",e.right)):this.root.push(new Hr("w:right",nf)),e.insideHorizontal?this.root.push(new Hr("w:insideH",e.insideHorizontal)):this.root.push(new Hr("w:insideH",nf)),e.insideVertical?this.root.push(new Hr("w:insideV",e.insideVertical)):this.root.push(new Hr("w:insideV",nf))}}Be(rH,"NONE",{top:rf,bottom:rf,left:rf,right:rf,insideHorizontal:rf,insideVertical:rf});class nH extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class iH extends We{constructor(){super("Properties"),this.root.push(new nH({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class sH extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{xmlns:"xmlns"})}}class aH extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class cc extends We{constructor(e,t){super("Default"),this.root.push(new aH({contentType:e,extension:t}))}}class oH extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class Us extends We{constructor(e,t){super("Override"),this.root.push(new oH({contentType:e,partName:t}))}}class lH extends We{constructor(){super("Types"),this.root.push(new sH({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new cc("image/png","png")),this.root.push(new cc("image/jpeg","jpeg")),this.root.push(new cc("image/jpeg","jpg")),this.root.push(new cc("image/bmp","bmp")),this.root.push(new cc("image/gif","gif")),this.root.push(new cc("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new cc("application/xml","xml")),this.root.push(new cc("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new Us("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new Us("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new Us("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new Us("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new Us("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new Us("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new Us("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new Us("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new Us("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new Us("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new Us("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new Us("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class cH extends We{constructor(e){super("cp:coreProperties"),this.root.push(new cy({cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance"})),e.title&&this.root.push(new Fu("dc:title",e.title)),e.subject&&this.root.push(new Fu("dc:subject",e.subject)),e.creator&&this.root.push(new Fu("dc:creator",e.creator)),e.keywords&&this.root.push(new Fu("cp:keywords",e.keywords)),e.description&&this.root.push(new Fu("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new Fu("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new Fu("cp:revision",String(e.revision))),this.root.push(new XC("dcterms:created")),this.root.push(new XC("dcterms:modified"))}}class XC extends We{constructor(e){super(e),this.root.push(new cy({type:"dcterms:W3CDTF"})),this.root.push(NU(new Date))}}class uH extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class hH extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class dH extends We{constructor(e,t){super("property"),this.root.push(new hH({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:t.name})),this.root.push(new fH(t.value))}}class fH extends We{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class pH extends We{constructor(e){super("Properties"),Be(this,"nextId"),Be(this,"properties",[]),this.root.push(new uH({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const t of e)this.addCustomProperty(t)}prepForXml(e){return this.properties.forEach(t=>this.root.push(t)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new dH(this.nextId++,e))}}class mH extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let gH=class extends OI{constructor(e,t){super("w:ftr",t),Be(this,"refId"),this.refId=e,t||this.root.push(new mH({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class yH{constructor(e,t,n){Be(this,"footer"),Be(this,"relationships"),this.media=e,this.footer=new gH(t,n),this.relationships=new Em}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class vH extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class xH extends We{constructor(){super("w:footnoteRef")}}class wH extends mb{constructor(){super({style:"FootnoteReference"}),this.root.push(new xH)}}const YC={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class H5 extends We{constructor(e){super("w:footnote"),this.root.push(new vH({type:e.type,id:e.id}));for(let t=0;t<e.children.length;t++){const n=e.children[t];t===0&&n.addRunToFront(new wH),this.root.push(n)}}}class bH extends We{constructor(){super("w:continuationSeparator")}}class AH extends mb{constructor(){super({}),this.root.push(new bH)}}class _H extends We{constructor(){super("w:separator")}}class SH extends mb{constructor(){super({}),this.root.push(new _H)}}class NH extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class EH extends We{constructor(){super("w:footnotes"),this.root.push(new NH({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new H5({id:-1,type:YC.SEPERATOR,children:[new wr({spacing:{after:0,line:240,lineRule:bS.AUTO},children:[new SH]})]});this.root.push(e);const t=new H5({id:0,type:YC.CONTINUATION_SEPERATOR,children:[new wr({spacing:{after:0,line:240,lineRule:bS.AUTO},children:[new AH]})]});this.root.push(t)}createFootNote(e,t){const n=new H5({id:e,children:t});this.root.push(n)}}class kH{constructor(){Be(this,"footnotess"),Be(this,"relationships"),this.footnotess=new EH,this.relationships=new Em}get View(){return this.footnotess}get Relationships(){return this.relationships}}class CH extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let TH=class extends OI{constructor(e,t){super("w:hdr",t),Be(this,"refId"),this.refId=e,t||this.root.push(new CH({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class jH{constructor(e,t,n){Be(this,"header"),Be(this,"relationships"),this.media=e,this.header=new TH(t,n),this.relationships=new Em}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class PH{constructor(){Be(this,"map"),this.map=new Map}addImage(e,t){this.map.set(e,t)}get Array(){return Array.from(this.map.values())}}const Ko={DECIMAL:"decimal",UPPER_ROMAN:"upperRoman",LOWER_ROMAN:"lowerRoman",UPPER_LETTER:"upperLetter",LOWER_LETTER:"lowerLetter",ORDINAL:"ordinal",CARDINAL_TEXT:"cardinalText",ORDINAL_TEXT:"ordinalText",HEX:"hex",CHICAGO:"chicago",IDEOGRAPH__DIGITAL:"ideographDigital",JAPANESE_COUNTING:"japaneseCounting",AIUEO:"aiueo",IROHA:"iroha",DECIMAL_FULL_WIDTH:"decimalFullWidth",DECIMAL_HALF_WIDTH:"decimalHalfWidth",JAPANESE_LEGAL:"japaneseLegal",JAPANESE_DIGITAL_TEN_THOUSAND:"japaneseDigitalTenThousand",DECIMAL_ENCLOSED_CIRCLE:"decimalEnclosedCircle",DECIMAL_FULL_WIDTH2:"decimalFullWidth2",AIUEO_FULL_WIDTH:"aiueoFullWidth",IROHA_FULL_WIDTH:"irohaFullWidth",DECIMAL_ZERO:"decimalZero",BULLET:"bullet",GANADA:"ganada",CHOSUNG:"chosung",DECIMAL_ENCLOSED_FULLSTOP:"decimalEnclosedFullstop",DECIMAL_ENCLOSED_PARENTHESES:"decimalEnclosedParen",DECIMAL_ENCLOSED_CIRCLE_CHINESE:"decimalEnclosedCircleChinese",IDEOGRAPH_ENCLOSED_CIRCLE:"ideographEnclosedCircle",IDEOGRAPH_TRADITIONAL:"ideographTraditional",IDEOGRAPH_ZODIAC:"ideographZodiac",IDEOGRAPH_ZODIAC_TRADITIONAL:"ideographZodiacTraditional",TAIWANESE_COUNTING:"taiwaneseCounting",IDEOGRAPH_LEGAL_TRADITIONAL:"ideographLegalTraditional",TAIWANESE_COUNTING_THOUSAND:"taiwaneseCountingThousand",TAIWANESE_DIGITAL:"taiwaneseDigital",CHINESE_COUNTING:"chineseCounting",CHINESE_LEGAL_SIMPLIFIED:"chineseLegalSimplified",CHINESE_COUNTING_THOUSAND:"chineseCountingThousand",KOREAN_DIGITAL:"koreanDigital",KOREAN_COUNTING:"koreanCounting",KOREAN_LEGAL:"koreanLegal",KOREAN_DIGITAL2:"koreanDigital2",VIETNAMESE_COUNTING:"vietnameseCounting",RUSSIAN_LOWER:"russianLower",RUSSIAN_UPPER:"russianUpper",NONE:"none",NUMBER_IN_DASH:"numberInDash",HEBREW1:"hebrew1",HEBREW2:"hebrew2",ARABIC_ALPHA:"arabicAlpha",ARABIC_ABJAD:"arabicAbjad",HINDI_VOWELS:"hindiVowels",HINDI_CONSONANTS:"hindiConsonants",HINDI_NUMBERS:"hindiNumbers",HINDI_COUNTING:"hindiCounting",THAI_LETTERS:"thaiLetters",THAI_NUMBERS:"thaiNumbers",THAI_COUNTING:"thaiCounting",BAHT_TEXT:"bahtText",DOLLAR_TEXT:"dollarText",CUSTOM:"custom"};class LH extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class IH extends We{constructor(e){super("w:numFmt"),this.root.push(new rn({val:e}))}}class RH extends We{constructor(e){super("w:lvlText"),this.root.push(new rn({val:e}))}}class FH extends We{constructor(e){super("w:lvlJc"),this.root.push(new rn({val:e}))}}class DH extends We{constructor(e){super("w:suff"),this.root.push(new rn({val:e}))}}class MH extends We{constructor(){super("w:isLgl")}}class OH extends We{constructor({level:e,format:t,text:n,alignment:i=kr.START,start:s=1,style:a,suffix:o,isLegalNumberingStyle:l}){if(super("w:lvl"),Be(this,"paragraphProperties"),Be(this,"runProperties"),this.root.push(new JN("w:start",Zi(s))),t&&this.root.push(new IH(t)),o&&this.root.push(new DH(o)),l&&this.root.push(new MH),n&&this.root.push(new RH(n)),this.root.push(new FH(i)),this.paragraphProperties=new fm(a&&a.paragraph),this.runProperties=new Ad(a&&a.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new LH({ilvl:Zi(e),tentative:1}))}}class BH extends OH{}class UH extends We{constructor(e){super("w:multiLevelType"),this.root.push(new rn({val:e}))}}class zH extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class QC extends We{constructor(e,t){super("w:abstractNum"),Be(this,"id"),this.root.push(new zH({abstractNumId:Zi(e),restartNumberingAfterBreak:0})),this.root.push(new UH("hybridMultilevel")),this.id=e;for(const n of t)this.root.push(new BH(n))}}class HH extends We{constructor(e){super("w:abstractNumId"),this.root.push(new rn({val:e}))}}class qH extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{numId:"w:numId"})}}class JC extends We{constructor(e){if(super("w:num"),Be(this,"numId"),Be(this,"reference"),Be(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new qH({numId:Zi(e.numId)})),this.root.push(new HH(Zi(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const t of e.overrideLevels)this.root.push(new $H(t.num,t.start))}}class WH extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{ilvl:"w:ilvl"})}}class $H extends We{constructor(e,t){super("w:lvlOverride"),this.root.push(new WH({ilvl:e})),t!==void 0&&this.root.push(new VH(t))}}class GH extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val"})}}class VH extends We{constructor(e){super("w:startOverride"),this.root.push(new GH({val:e}))}}class KH extends We{constructor(e){super("w:numbering"),Be(this,"abstractNumberingMap",new Map),Be(this,"concreteNumberingMap",new Map),Be(this,"referenceConfigMap",new Map),Be(this,"abstractNumUniqueNumericId",tz()),Be(this,"concreteNumUniqueNumericId",rz()),this.root.push(new cy({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const t=new QC(this.abstractNumUniqueNumericId(),[{level:0,format:Ko.BULLET,text:"●",alignment:kr.LEFT,style:{paragraph:{indent:{left:ya(.5),hanging:ya(.25)}}}},{level:1,format:Ko.BULLET,text:"○",alignment:kr.LEFT,style:{paragraph:{indent:{left:ya(1),hanging:ya(.25)}}}},{level:2,format:Ko.BULLET,text:"■",alignment:kr.LEFT,style:{paragraph:{indent:{left:2160,hanging:ya(.25)}}}},{level:3,format:Ko.BULLET,text:"●",alignment:kr.LEFT,style:{paragraph:{indent:{left:2880,hanging:ya(.25)}}}},{level:4,format:Ko.BULLET,text:"○",alignment:kr.LEFT,style:{paragraph:{indent:{left:3600,hanging:ya(.25)}}}},{level:5,format:Ko.BULLET,text:"■",alignment:kr.LEFT,style:{paragraph:{indent:{left:4320,hanging:ya(.25)}}}},{level:6,format:Ko.BULLET,text:"●",alignment:kr.LEFT,style:{paragraph:{indent:{left:5040,hanging:ya(.25)}}}},{level:7,format:Ko.BULLET,text:"●",alignment:kr.LEFT,style:{paragraph:{indent:{left:5760,hanging:ya(.25)}}}},{level:8,format:Ko.BULLET,text:"●",alignment:kr.LEFT,style:{paragraph:{indent:{left:6480,hanging:ya(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new JC({numId:1,abstractNumId:t.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",t);for(const n of e.config)this.abstractNumberingMap.set(n.reference,new QC(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(e){for(const t of this.abstractNumberingMap.values())this.root.push(t);for(const t of this.concreteNumberingMap.values())this.root.push(t);return super.prepForXml(e)}createConcreteNumberingInstance(e,t){const n=this.abstractNumberingMap.get(e);if(!n)return;const i=`${e}-${t}`;if(this.concreteNumberingMap.has(i))return;const s=this.referenceConfigMap.get(e),a=s&&s[0].start,o={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:e,instance:t,overrideLevels:[a&&Number.isInteger(a)?{num:0,start:a}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new JC(o))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class XH extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class YH extends We{constructor(e){super("w:compatSetting"),this.root.push(new XH({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class QH extends We{constructor(e){super("w:compat"),e.version&&this.root.push(new YH(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new Ge("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new Ge("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new Ge("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new Ge("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new Ge("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new Ge("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new Ge("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new Ge("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new Ge("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new Ge("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new Ge("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new Ge("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new Ge("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new Ge("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new Ge("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new Ge("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new Ge("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new Ge("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new Ge("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new Ge("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new Ge("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new Ge("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new Ge("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new Ge("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new Ge("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new Ge("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new Ge("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new Ge("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new Ge("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new Ge("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new Ge("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new Ge("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new Ge("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new Ge("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new Ge("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new Ge("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new Ge("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new Ge("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new Ge("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new Ge("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new Ge("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new Ge("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new Ge("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new Ge("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new Ge("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new Ge("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new Ge("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new Ge("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new Ge("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new Ge("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new Ge("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new Ge("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new Ge("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new Ge("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new Ge("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new Ge("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new Ge("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new Ge("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new Ge("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new Ge("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new Ge("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new Ge("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new Ge("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new Ge("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new Ge("w:cachedColBalance",e.cachedColumnBalance))}}class JH extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}let ZH=class extends We{constructor(e){var t,n,i,s;super("w:settings"),this.root.push(new JH({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new Ge("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new Ge("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new Ge("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new Ge("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new JN("w:defaultTabStop",e.defaultTabStop)),this.root.push(new QH(N0(Yt({},(t=e.compatibility)!=null?t:{}),{version:(s=(i=(n=e.compatibility)==null?void 0:n.version)!=null?i:e.compatibilityModeVersion)!=null?s:15})))}};class VI extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{val:"w:val"})}}class eq extends We{constructor(e){super("w:name"),this.root.push(new VI({val:e}))}}class tq extends We{constructor(e){super("w:uiPriority"),this.root.push(new VI({val:Zi(e)}))}}class rq extends xt{constructor(){super(...arguments),Be(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class KI extends We{constructor(e,t){super("w:style"),this.root.push(new rq(e)),t.name&&this.root.push(new eq(t.name)),t.basedOn&&this.root.push(new Vf("w:basedOn",t.basedOn)),t.next&&this.root.push(new Vf("w:next",t.next)),t.link&&this.root.push(new Vf("w:link",t.link)),t.uiPriority!==void 0&&this.root.push(new tq(t.uiPriority)),t.semiHidden!==void 0&&this.root.push(new Ge("w:semiHidden",t.semiHidden)),t.unhideWhenUsed!==void 0&&this.root.push(new Ge("w:unhideWhenUsed",t.unhideWhenUsed)),t.quickFormat!==void 0&&this.root.push(new Ge("w:qFormat",t.quickFormat))}}class gb extends KI{constructor(e){super({type:"paragraph",styleId:e.id},e),Be(this,"paragraphProperties"),Be(this,"runProperties"),this.paragraphProperties=new fm(e.paragraph),this.runProperties=new Ad(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class yb extends KI{constructor(e){super({type:"character",styleId:e.id},Yt({uiPriority:99,unhideWhenUsed:!0},e)),Be(this,"runProperties"),this.runProperties=new Ad(e.run),this.root.push(this.runProperties)}}class Au extends gb{constructor(e){super(Yt({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class nq extends Au{constructor(e){super(Yt({id:"Title",name:"Title"},e))}}class iq extends Au{constructor(e){super(Yt({id:"Heading1",name:"Heading 1"},e))}}class sq extends Au{constructor(e){super(Yt({id:"Heading2",name:"Heading 2"},e))}}class aq extends Au{constructor(e){super(Yt({id:"Heading3",name:"Heading 3"},e))}}class oq extends Au{constructor(e){super(Yt({id:"Heading4",name:"Heading 4"},e))}}class lq extends Au{constructor(e){super(Yt({id:"Heading5",name:"Heading 5"},e))}}class cq extends Au{constructor(e){super(Yt({id:"Heading6",name:"Heading 6"},e))}}class uq extends Au{constructor(e){super(Yt({id:"Strong",name:"Strong"},e))}}class hq extends gb{constructor(e){super(Yt({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class dq extends gb{constructor(e){super(Yt({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:bS.AUTO}},run:{size:20}},e))}}class fq extends yb{constructor(e){super(Yt({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class pq extends yb{constructor(e){super(Yt({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class mq extends yb{constructor(e){super(Yt({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:WI.SINGLE}}},e))}}class AS extends We{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const t of e.importedStyles)this.root.push(t);if(e.paragraphStyles)for(const t of e.paragraphStyles)this.root.push(new gb(t));if(e.characterStyles)for(const t of e.characterStyles)this.root.push(new yb(t))}}class gq extends We{constructor(e){super("w:pPrDefault"),this.root.push(new fm(e))}}class yq extends We{constructor(e){super("w:rPrDefault"),this.root.push(new Ad(e))}}class vq extends We{constructor(e){super("w:docDefaults"),Be(this,"runPropertiesDefaults"),Be(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new yq(e.run),this.paragraphPropertiesDefaults=new gq(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class xq{newInstance(e){const t=MI.xml2js(e,{compact:!1});let n;for(const a of t.elements||[])a.name==="w:styles"&&(n=a);if(n===void 0)throw new Error("can not find styles element");const i=n.elements||[];return new AS({initialStyles:new bU(n.attributes),importedStyles:i.map(a=>QN(a))})}}class ZC{newInstance(e={}){var t;return{initialStyles:new cy({mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",Ignorable:"w14 w15"}),importedStyles:[new vq((t=e.document)!=null?t:{}),new nq(Yt({run:{size:56}},e.title)),new iq(Yt({run:{color:"2E74B5",size:32}},e.heading1)),new sq(Yt({run:{color:"2E74B5",size:26}},e.heading2)),new aq(Yt({run:{color:"1F4D78",size:24}},e.heading3)),new oq(Yt({run:{color:"2E74B5",italics:!0}},e.heading4)),new lq(Yt({run:{color:"2E74B5"}},e.heading5)),new cq(Yt({run:{color:"1F4D78"}},e.heading6)),new uq(Yt({run:{bold:!0}},e.strong)),new hq(e.listParagraph||{}),new mq(e.hyperlink||{}),new fq(e.footnoteReference||{}),new dq(e.footnoteText||{}),new pq(e.footnoteTextChar||{})]}}}const Lv=({id:r,fontKey:e,subsetted:t},n)=>new pu({name:n,attributes:Yt({id:{key:"r:id",value:r}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...t?[new Ge("w:subsetted",t)]:[]]}),wq=({name:r,altName:e,panose1:t,charset:n,family:i,notTrueType:s,pitch:a,sig:o,embedRegular:l,embedBold:u,embedItalic:h,embedBoldItalic:f})=>new pu({name:"w:font",attributes:{name:{key:"w:name",value:r}},children:[...e?[vg("w:altName",e)]:[],...t?[vg("w:panose1",t)]:[],...n?[vg("w:charset",n)]:[],...i?[vg("w:family",i)]:[],...s?[new Ge("w:notTrueType",s)]:[],...a?[vg("w:pitch",a)]:[],...o?[new pu({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:o.usb0},usb1:{key:"w:usb1",value:o.usb1},usb2:{key:"w:usb2",value:o.usb2},usb3:{key:"w:usb3",value:o.usb3},csb0:{key:"w:csb0",value:o.csb0},csb1:{key:"w:csb1",value:o.csb1}}})]:[],...l?[Lv(l,"w:embedRegular")]:[],...u?[Lv(u,"w:embedBold")]:[],...h?[Lv(h,"w:embedItalic")]:[],...f?[Lv(f,"w:embedBoldItalic")]:[]]}),bq=({name:r,index:e,fontKey:t,characterSet:n})=>wq({name:r,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:t,id:`rId${e}`}}),Aq=r=>new pu({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:r.map((e,t)=>bq({name:e.name,index:t+1,fontKey:e.fontKey}))});class _q{constructor(e){Be(this,"fontTable"),Be(this,"relationships"),Be(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(t=>N0(Yt({},t),{fontKey:sz()})),this.fontTable=Aq(this.fontOptionsWithKey),this.relationships=new Em;for(let t=0;t<e.length;t++)this.relationships.createRelationship(t+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[t].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}let Sq=class{constructor(e){Be(this,"currentRelationshipId",1),Be(this,"documentWrapper"),Be(this,"headers",[]),Be(this,"footers",[]),Be(this,"coreProperties"),Be(this,"numbering"),Be(this,"media"),Be(this,"fileRelationships"),Be(this,"footnotesWrapper"),Be(this,"settings"),Be(this,"contentTypes"),Be(this,"customProperties"),Be(this,"appProperties"),Be(this,"styles"),Be(this,"comments"),Be(this,"fontWrapper");var t,n,i,s,a,o,l,u;if(this.coreProperties=new cH(N0(Yt({},e),{creator:(t=e.creator)!=null?t:"Un-named",revision:(n=e.revision)!=null?n:1,lastModifiedBy:(i=e.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new KH(e.numbering?e.numbering:{config:[]}),this.comments=new cz((s=e.comments)!=null?s:{children:[]}),this.fileRelationships=new Em,this.customProperties=new pH((a=e.customProperties)!=null?a:[]),this.appProperties=new iH,this.footnotesWrapper=new kH,this.contentTypes=new lH,this.documentWrapper=new GI({background:e.background}),this.settings=new ZH({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(o=e.features)==null?void 0:o.trackRevisions,updateFields:(l=e.features)==null?void 0:l.updateFields,defaultTabStop:e.defaultTabStop}),this.media=new PH,e.externalStyles){const h=new xq;this.styles=h.newInstance(e.externalStyles)}else if(e.styles){const f=new ZC().newInstance(e.styles.default);this.styles=new AS(Yt(Yt({},f),e.styles))}else{const h=new ZC;this.styles=new AS(h.newInstance())}this.addDefaultRelationships();for(const h of e.sections)this.addSection(h);if(e.footnotes)for(const h in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(h),e.footnotes[h].children);this.fontWrapper=new _q((u=e.fonts)!=null?u:[])}addSection({headers:e={},footers:t={},children:n,properties:i}){this.documentWrapper.View.Body.addSection(N0(Yt({},i),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:t.default?this.createFooter(t.default):void 0,first:t.first?this.createFooter(t.first):void 0,even:t.even?this.createFooter(t.even):void 0}}));for(const s of n)this.documentWrapper.View.add(s)}createHeader(e){const t=new jH(this.media,this.currentRelationshipId++);for(const n of e.options.children)t.add(n);return this.addHeaderToDocument(t),t}createFooter(e){const t=new yH(this.media,this.currentRelationshipId++);for(const n of e.options.children)t.add(n);return this.addFooterToDocument(t),t}addHeaderToDocument(e,t=Kf.DEFAULT){this.headers.push({header:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,t=Kf.DEFAULT){this.footers.push({footer:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}};class Nq{constructor(e={children:[]}){Be(this,"options"),this.options=e}}class Eq{constructor(e={children:[]}){Be(this,"options"),this.options=e}}function Iv(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var XI={exports:{}};(function(r,e){(function(t){r.exports=t()})(function(){return function t(n,i,s){function a(u,h){if(!i[u]){if(!n[u]){var f=typeof Iv=="function"&&Iv;if(!h&&f)return f(u,!0);if(o)return o(u,!0);var p=new Error("Cannot find module '"+u+"'");throw p.code="MODULE_NOT_FOUND",p}var d=i[u]={exports:{}};n[u][0].call(d.exports,function(x){var v=n[u][1][x];return a(v||x)},d,d.exports,t,n,i,s)}return i[u].exports}for(var o=typeof Iv=="function"&&Iv,l=0;l<s.length;l++)a(s[l]);return a}({1:[function(t,n,i){var s=t("./utils"),a=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var u,h,f,p,d,x,v,b=[],y=0,w=l.length,A=w,k=s.getTypeOf(l)!=="string";y<l.length;)A=w-y,f=k?(u=l[y++],h=y<w?l[y++]:0,y<w?l[y++]:0):(u=l.charCodeAt(y++),h=y<w?l.charCodeAt(y++):0,y<w?l.charCodeAt(y++):0),p=u>>2,d=(3&u)<<4|h>>4,x=1<A?(15&h)<<2|f>>6:64,v=2<A?63&f:64,b.push(o.charAt(p)+o.charAt(d)+o.charAt(x)+o.charAt(v));return b.join("")},i.decode=function(l){var u,h,f,p,d,x,v=0,b=0,y="data:";if(l.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var w,A=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&A--,l.charAt(l.length-2)===o.charAt(64)&&A--,A%1!=0)throw new Error("Invalid base64 input, bad content length.");for(w=a.uint8array?new Uint8Array(0|A):new Array(0|A);v<l.length;)u=o.indexOf(l.charAt(v++))<<2|(p=o.indexOf(l.charAt(v++)))>>4,h=(15&p)<<4|(d=o.indexOf(l.charAt(v++)))>>2,f=(3&d)<<6|(x=o.indexOf(l.charAt(v++))),w[b++]=u,d!==64&&(w[b++]=h),x!==64&&(w[b++]=f);return w}},{"./support":30,"./utils":32}],2:[function(t,n,i){var s=t("./external"),a=t("./stream/DataWorker"),o=t("./stream/Crc32Probe"),l=t("./stream/DataLengthProbe");function u(h,f,p,d,x){this.compressedSize=h,this.uncompressedSize=f,this.crc32=p,this.compression=d,this.compressedContent=x}u.prototype={getContentWorker:function(){var h=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),f=this;return h.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(h,f,p){return h.pipe(new o).pipe(new l("uncompressedSize")).pipe(f.compressWorker(p)).pipe(new l("compressedSize")).withStreamInfo("compression",f)},n.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,i){var s=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,i){var s=t("./utils"),a=function(){for(var o,l=[],u=0;u<256;u++){o=u;for(var h=0;h<8;h++)o=1&o?3988292384^o>>>1:o>>>1;l[u]=o}return l}();n.exports=function(o,l){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?function(u,h,f,p){var d=a,x=p+f;u^=-1;for(var v=p;v<x;v++)u=u>>>8^d[255&(u^h[v])];return-1^u}(0|l,o,o.length,0):function(u,h,f,p){var d=a,x=p+f;u^=-1;for(var v=p;v<x;v++)u=u>>>8^d[255&(u^h.charCodeAt(v))];return-1^u}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(t,n,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,n,i){var s=null;s=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:s}},{lie:37}],7:[function(t,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=t("pako"),o=t("./utils"),l=t("./stream/GenericWorker"),u=s?"uint8array":"array";function h(f,p){l.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=p,this.meta={}}i.magic="\b\0",o.inherits(h,l),h.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,f.data),!1)},h.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(p){f.push({data:p,meta:f.meta})}},i.compressWorker=function(f){return new h("Deflate",f)},i.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,i){function s(d,x){var v,b="";for(v=0;v<x;v++)b+=String.fromCharCode(255&d),d>>>=8;return b}function a(d,x,v,b,y,w){var A,k,M=d.file,$=d.compression,H=w!==u.utf8encode,q=o.transformTo("string",w(M.name)),D=o.transformTo("string",u.utf8encode(M.name)),se=M.comment,z=o.transformTo("string",w(se)),R=o.transformTo("string",u.utf8encode(se)),V=D.length!==M.name.length,T=R.length!==se.length,K="",he="",le="",me=M.dir,pe=M.date,be={crc32:0,compressedSize:0,uncompressedSize:0};x&&!v||(be.crc32=d.crc32,be.compressedSize=d.compressedSize,be.uncompressedSize=d.uncompressedSize);var ge=0;x&&(ge|=8),H||!V&&!T||(ge|=2048);var C=0,B=0;me&&(C|=16),y==="UNIX"?(B=798,C|=function(ae,J){var L=ae;return ae||(L=J?16893:33204),(65535&L)<<16}(M.unixPermissions,me)):(B=20,C|=function(ae){return 63&(ae||0)}(M.dosPermissions)),A=pe.getUTCHours(),A<<=6,A|=pe.getUTCMinutes(),A<<=5,A|=pe.getUTCSeconds()/2,k=pe.getUTCFullYear()-1980,k<<=4,k|=pe.getUTCMonth()+1,k<<=5,k|=pe.getUTCDate(),V&&(he=s(1,1)+s(h(q),4)+D,K+="up"+s(he.length,2)+he),T&&(le=s(1,1)+s(h(z),4)+R,K+="uc"+s(le.length,2)+le);var G="";return G+=`
\0`,G+=s(ge,2),G+=$.magic,G+=s(A,2),G+=s(k,2),G+=s(be.crc32,4),G+=s(be.compressedSize,4),G+=s(be.uncompressedSize,4),G+=s(q.length,2),G+=s(K.length,2),{fileRecord:f.LOCAL_FILE_HEADER+G+q+K,dirRecord:f.CENTRAL_FILE_HEADER+s(B,2)+G+s(z.length,2)+"\0\0\0\0"+s(C,4)+s(b,4)+q+K+z}}var o=t("../utils"),l=t("../stream/GenericWorker"),u=t("../utf8"),h=t("../crc32"),f=t("../signature");function p(d,x,v,b){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=x,this.zipPlatform=v,this.encodeFileName=b,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(p,l),p.prototype.push=function(d){var x=d.meta.percent||0,v=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,l.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:v?(x+100*(v-b-1))/v:100}}))},p.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var x=this.streamFiles&&!d.file.dir;if(x){var v=a(d,x,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},p.prototype.closedSource=function(d){this.accumulate=!1;var x=this.streamFiles&&!d.file.dir,v=a(d,x,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),x)this.push({data:function(b){return f.DATA_DESCRIPTOR+s(b.crc32,4)+s(b.compressedSize,4)+s(b.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},p.prototype.flush=function(){for(var d=this.bytesWritten,x=0;x<this.dirRecords.length;x++)this.push({data:this.dirRecords[x],meta:{percent:100}});var v=this.bytesWritten-d,b=function(y,w,A,k,M){var $=o.transformTo("string",M(k));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(y,2)+s(y,2)+s(w,4)+s(A,4)+s($.length,2)+$}(this.dirRecords.length,v,d,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},p.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},p.prototype.registerPrevious=function(d){this._sources.push(d);var x=this;return d.on("data",function(v){x.processChunk(v)}),d.on("end",function(){x.closedSource(x.previous.streamInfo),x._sources.length?x.prepareNextSource():x.end()}),d.on("error",function(v){x.error(v)}),this},p.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},p.prototype.error=function(d){var x=this._sources;if(!l.prototype.error.call(this,d))return!1;for(var v=0;v<x.length;v++)try{x[v].error(d)}catch{}return!0},p.prototype.lock=function(){l.prototype.lock.call(this);for(var d=this._sources,x=0;x<d.length;x++)d[x].lock()},n.exports=p},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,i){var s=t("../compressions"),a=t("./ZipFileWorker");i.generateWorker=function(o,l,u){var h=new a(l.streamFiles,u,l.platform,l.encodeFileName),f=0;try{o.forEach(function(p,d){f++;var x=function(w,A){var k=w||A,M=s[k];if(!M)throw new Error(k+" is not a valid compression method !");return M}(d.options.compression,l.compression),v=d.options.compressionOptions||l.compressionOptions||{},b=d.dir,y=d.date;d._compressWorker(x,v).withStreamInfo("file",{name:p,dir:b,date:y,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(h)}),h.entriesCount=f}catch(p){h.error(p)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=t("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,i){var s=t("./utils"),a=t("./external"),o=t("./utf8"),l=t("./zipEntries"),u=t("./stream/Crc32Probe"),h=t("./nodejsUtils");function f(p){return new a.Promise(function(d,x){var v=p.decompressed.getContentWorker().pipe(new u);v.on("error",function(b){x(b)}).on("end",function(){v.streamInfo.crc32!==p.decompressed.crc32?x(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}n.exports=function(p,d){var x=this;return d=s.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),h.isNode&&h.isStream(p)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",p,!0,d.optimizedBinaryString,d.base64).then(function(v){var b=new l(d);return b.load(v),b}).then(function(v){var b=[a.Promise.resolve(v)],y=v.files;if(d.checkCRC32)for(var w=0;w<y.length;w++)b.push(f(y[w]));return a.Promise.all(b)}).then(function(v){for(var b=v.shift(),y=b.files,w=0;w<y.length;w++){var A=y[w],k=A.fileNameStr,M=s.resolve(A.fileNameStr);x.file(M,A.decompressed,{binary:!0,optimizedBinaryString:!0,date:A.date,dir:A.dir,comment:A.fileCommentStr.length?A.fileCommentStr:null,unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions,createFolders:d.createFolders}),A.dir||(x.file(M).unsafeOriginalName=k)}return b.zipComment.length&&(x.comment=b.zipComment),x})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,i){var s=t("../utils"),a=t("../stream/GenericWorker");function o(l,u){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(u)}s.inherits(o,a),o.prototype._bindStream=function(l){var u=this;(this._stream=l).pause(),l.on("data",function(h){u.push({data:h,meta:{percent:0}})}).on("error",function(h){u.isPaused?this.generatedError=h:u.error(h)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,i){var s=t("readable-stream").Readable;function a(o,l,u){s.call(this,l),this._helper=o;var h=this;o.on("data",function(f,p){h.push(f)||h._helper.pause(),u&&u(p)}).on("error",function(f){h.emit("error",f)}).on("end",function(){h.push(null)})}t("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},n.exports=a},{"../utils":32,"readable-stream":16}],14:[function(t,n,i){n.exports={isNode:typeof li<"u",newBufferFrom:function(s,a){if(li.from&&li.from!==Uint8Array.from)return li.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new li(s,a)},allocBuffer:function(s){if(li.alloc)return li.alloc(s);var a=new li(s);return a.fill(0),a},isBuffer:function(s){return li.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,n,i){function s(M,$,H){var q,D=o.getTypeOf($),se=o.extend(H||{},h);se.date=se.date||new Date,se.compression!==null&&(se.compression=se.compression.toUpperCase()),typeof se.unixPermissions=="string"&&(se.unixPermissions=parseInt(se.unixPermissions,8)),se.unixPermissions&&16384&se.unixPermissions&&(se.dir=!0),se.dosPermissions&&16&se.dosPermissions&&(se.dir=!0),se.dir&&(M=y(M)),se.createFolders&&(q=b(M))&&w.call(this,q,!0);var z=D==="string"&&se.binary===!1&&se.base64===!1;H&&H.binary!==void 0||(se.binary=!z),($ instanceof f&&$.uncompressedSize===0||se.dir||!$||$.length===0)&&(se.base64=!1,se.binary=!0,$="",se.compression="STORE",D="string");var R=null;R=$ instanceof f||$ instanceof l?$:x.isNode&&x.isStream($)?new v(M,$):o.prepareContent(M,$,se.binary,se.optimizedBinaryString,se.base64);var V=new p(M,R,se);this.files[M]=V}var a=t("./utf8"),o=t("./utils"),l=t("./stream/GenericWorker"),u=t("./stream/StreamHelper"),h=t("./defaults"),f=t("./compressedObject"),p=t("./zipObject"),d=t("./generate"),x=t("./nodejsUtils"),v=t("./nodejs/NodejsStreamInputAdapter"),b=function(M){M.slice(-1)==="/"&&(M=M.substring(0,M.length-1));var $=M.lastIndexOf("/");return 0<$?M.substring(0,$):""},y=function(M){return M.slice(-1)!=="/"&&(M+="/"),M},w=function(M,$){return $=$!==void 0?$:h.createFolders,M=y(M),this.files[M]||s.call(this,M,null,{dir:!0,createFolders:$}),this.files[M]};function A(M){return Object.prototype.toString.call(M)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(M){var $,H,q;for($ in this.files)q=this.files[$],(H=$.slice(this.root.length,$.length))&&$.slice(0,this.root.length)===this.root&&M(H,q)},filter:function(M){var $=[];return this.forEach(function(H,q){M(H,q)&&$.push(q)}),$},file:function(M,$,H){if(arguments.length!==1)return M=this.root+M,s.call(this,M,$,H),this;if(A(M)){var q=M;return this.filter(function(se,z){return!z.dir&&q.test(se)})}var D=this.files[this.root+M];return D&&!D.dir?D:null},folder:function(M){if(!M)return this;if(A(M))return this.filter(function(D,se){return se.dir&&M.test(D)});var $=this.root+M,H=w.call(this,$),q=this.clone();return q.root=H.name,q},remove:function(M){M=this.root+M;var $=this.files[M];if($||(M.slice(-1)!=="/"&&(M+="/"),$=this.files[M]),$&&!$.dir)delete this.files[M];else for(var H=this.filter(function(D,se){return se.name.slice(0,M.length)===M}),q=0;q<H.length;q++)delete this.files[H[q].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(M){var $,H={};try{if((H=o.extend(M||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=H.type.toLowerCase(),H.compression=H.compression.toUpperCase(),H.type==="binarystring"&&(H.type="string"),!H.type)throw new Error("No output type specified.");o.checkSupport(H.type),H.platform!=="darwin"&&H.platform!=="freebsd"&&H.platform!=="linux"&&H.platform!=="sunos"||(H.platform="UNIX"),H.platform==="win32"&&(H.platform="DOS");var q=H.comment||this.comment||"";$=d.generateWorker(this,H,q)}catch(D){($=new l("error")).error(D)}return new u($,H.type||"string",H.mimeType)},generateAsync:function(M,$){return this.generateInternalStream(M).accumulate($)},generateNodeStream:function(M,$){return(M=M||{}).type||(M.type="nodebuffer"),this.generateInternalStream(M).toNodejsStream($)}};n.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,i){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,i){var s=t("./DataReader");function a(o){s.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}t("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),u=o.charCodeAt(1),h=o.charCodeAt(2),f=o.charCodeAt(3),p=this.length-4;0<=p;--p)if(this.data[p]===l&&this.data[p+1]===u&&this.data[p+2]===h&&this.data[p+3]===f)return p-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),u=o.charCodeAt(1),h=o.charCodeAt(2),f=o.charCodeAt(3),p=this.readData(4);return l===p[0]&&u===p[1]&&h===p[2]&&f===p[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./DataReader":18}],18:[function(t,n,i){var s=t("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,u=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)u=(u<<8)+this.byteAt(l);return this.index+=o,u},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=a},{"../utils":32}],19:[function(t,n,i){var s=t("./Uint8ArrayReader");function a(o){s.call(this,o)}t("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,i){var s=t("./DataReader");function a(o){s.call(this,o)}t("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./DataReader":18}],21:[function(t,n,i){var s=t("./ArrayReader");function a(o){s.call(this,o)}t("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},n.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,i){var s=t("../utils"),a=t("../support"),o=t("./ArrayReader"),l=t("./StringReader"),u=t("./NodeBufferReader"),h=t("./Uint8ArrayReader");n.exports=function(f){var p=s.getTypeOf(f);return s.checkSupport(p),p!=="string"||a.uint8array?p==="nodebuffer"?new u(f):a.uint8array?new h(s.transformTo("uint8array",f)):new o(s.transformTo("array",f)):new l(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,i){var s=t("./GenericWorker"),a=t("../utils");function o(l){s.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,s),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,i){var s=t("./GenericWorker"),a=t("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(o,s),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,i){var s=t("../utils"),a=t("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(o,a),o.prototype.processChunk=function(l){if(l){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+l.data.length}a.prototype.processChunk.call(this,l)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,i){var s=t("../utils"),a=t("./GenericWorker");function o(l){a.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(h){u.dataIsReady=!0,u.data=h,u.max=h&&h.length||0,u.type=s.getTypeOf(h),u.isPaused||u._tickAndRepeat()},function(h){u.error(h)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,u);break;case"uint8array":l=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":l=this.data.slice(this.index,u)}return this.index=u,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},n.exports=s},{}],29:[function(t,n,i){var s=t("../utils"),a=t("./ConvertWorker"),o=t("./GenericWorker"),l=t("../base64"),u=t("../support"),h=t("../external"),f=null;if(u.nodestream)try{f=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function p(x,v){return new h.Promise(function(b,y){var w=[],A=x._internalType,k=x._outputType,M=x._mimeType;x.on("data",function($,H){w.push($),v&&v(H)}).on("error",function($){w=[],y($)}).on("end",function(){try{var $=function(H,q,D){switch(H){case"blob":return s.newBlob(s.transformTo("arraybuffer",q),D);case"base64":return l.encode(q);default:return s.transformTo(H,q)}}(k,function(H,q){var D,se=0,z=null,R=0;for(D=0;D<q.length;D++)R+=q[D].length;switch(H){case"string":return q.join("");case"array":return Array.prototype.concat.apply([],q);case"uint8array":for(z=new Uint8Array(R),D=0;D<q.length;D++)z.set(q[D],se),se+=q[D].length;return z;case"nodebuffer":return li.concat(q);default:throw new Error("concat : unsupported type '"+H+"'")}}(A,w),M);b($)}catch(H){y(H)}w=[]}).resume()})}function d(x,v,b){var y=v;switch(v){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=v,this._mimeType=b,s.checkSupport(y),this._worker=x.pipe(new a(y)),x.lock()}catch(w){this._worker=new o("error"),this._worker.error(w)}}d.prototype={accumulate:function(x){return p(this,x)},on:function(x,v){var b=this;return x==="data"?this._worker.on(x,function(y){v.call(b,y.data,y.meta)}):this._worker.on(x,function(){s.delay(v,arguments,b)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(x){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},x)}},n.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof li<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,i){for(var s=t("./utils"),a=t("./support"),o=t("./nodejsUtils"),l=t("./stream/GenericWorker"),u=new Array(256),h=0;h<256;h++)u[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;u[254]=u[254]=1;function f(){l.call(this,"utf-8 decode"),this.leftOver=null}function p(){l.call(this,"utf-8 encode")}i.utf8encode=function(d){return a.nodebuffer?o.newBufferFrom(d,"utf-8"):function(x){var v,b,y,w,A,k=x.length,M=0;for(w=0;w<k;w++)(64512&(b=x.charCodeAt(w)))==55296&&w+1<k&&(64512&(y=x.charCodeAt(w+1)))==56320&&(b=65536+(b-55296<<10)+(y-56320),w++),M+=b<128?1:b<2048?2:b<65536?3:4;for(v=a.uint8array?new Uint8Array(M):new Array(M),w=A=0;A<M;w++)(64512&(b=x.charCodeAt(w)))==55296&&w+1<k&&(64512&(y=x.charCodeAt(w+1)))==56320&&(b=65536+(b-55296<<10)+(y-56320),w++),b<128?v[A++]=b:(b<2048?v[A++]=192|b>>>6:(b<65536?v[A++]=224|b>>>12:(v[A++]=240|b>>>18,v[A++]=128|b>>>12&63),v[A++]=128|b>>>6&63),v[A++]=128|63&b);return v}(d)},i.utf8decode=function(d){return a.nodebuffer?s.transformTo("nodebuffer",d).toString("utf-8"):function(x){var v,b,y,w,A=x.length,k=new Array(2*A);for(v=b=0;v<A;)if((y=x[v++])<128)k[b++]=y;else if(4<(w=u[y]))k[b++]=65533,v+=w-1;else{for(y&=w===2?31:w===3?15:7;1<w&&v<A;)y=y<<6|63&x[v++],w--;1<w?k[b++]=65533:y<65536?k[b++]=y:(y-=65536,k[b++]=55296|y>>10&1023,k[b++]=56320|1023&y)}return k.length!==b&&(k.subarray?k=k.subarray(0,b):k.length=b),s.applyFromCharCode(k)}(d=s.transformTo(a.uint8array?"uint8array":"array",d))},s.inherits(f,l),f.prototype.processChunk=function(d){var x=s.transformTo(a.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var v=x;(x=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),x.set(v,this.leftOver.length)}else x=this.leftOver.concat(x);this.leftOver=null}var b=function(w,A){var k;for((A=A||w.length)>w.length&&(A=w.length),k=A-1;0<=k&&(192&w[k])==128;)k--;return k<0||k===0?A:k+u[w[k]]>A?k:A}(x),y=x;b!==x.length&&(a.uint8array?(y=x.subarray(0,b),this.leftOver=x.subarray(b,x.length)):(y=x.slice(0,b),this.leftOver=x.slice(b,x.length))),this.push({data:i.utf8decode(y),meta:d.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=f,s.inherits(p,l),p.prototype.processChunk=function(d){this.push({data:i.utf8encode(d.data),meta:d.meta})},i.Utf8EncodeWorker=p},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,i){var s=t("./support"),a=t("./base64"),o=t("./nodejsUtils"),l=t("./external");function u(v){return v}function h(v,b){for(var y=0;y<v.length;++y)b[y]=255&v.charCodeAt(y);return b}t("setimmediate"),i.newBlob=function(v,b){i.checkSupport("blob");try{return new Blob([v],{type:b})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(v),y.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(v,b,y){var w=[],A=0,k=v.length;if(k<=y)return String.fromCharCode.apply(null,v);for(;A<k;)b==="array"||b==="nodebuffer"?w.push(String.fromCharCode.apply(null,v.slice(A,Math.min(A+y,k)))):w.push(String.fromCharCode.apply(null,v.subarray(A,Math.min(A+y,k)))),A+=y;return w.join("")},stringifyByChar:function(v){for(var b="",y=0;y<v.length;y++)b+=String.fromCharCode(v[y]);return b},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function p(v){var b=65536,y=i.getTypeOf(v),w=!0;if(y==="uint8array"?w=f.applyCanBeUsed.uint8array:y==="nodebuffer"&&(w=f.applyCanBeUsed.nodebuffer),w)for(;1<b;)try{return f.stringifyByChunk(v,y,b)}catch{b=Math.floor(b/2)}return f.stringifyByChar(v)}function d(v,b){for(var y=0;y<v.length;y++)b[y]=v[y];return b}i.applyFromCharCode=p;var x={};x.string={string:u,array:function(v){return h(v,new Array(v.length))},arraybuffer:function(v){return x.string.uint8array(v).buffer},uint8array:function(v){return h(v,new Uint8Array(v.length))},nodebuffer:function(v){return h(v,o.allocBuffer(v.length))}},x.array={string:p,array:u,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return o.newBufferFrom(v)}},x.arraybuffer={string:function(v){return p(new Uint8Array(v))},array:function(v){return d(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:u,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return o.newBufferFrom(new Uint8Array(v))}},x.uint8array={string:p,array:function(v){return d(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:u,nodebuffer:function(v){return o.newBufferFrom(v)}},x.nodebuffer={string:p,array:function(v){return d(v,new Array(v.length))},arraybuffer:function(v){return x.nodebuffer.uint8array(v).buffer},uint8array:function(v){return d(v,new Uint8Array(v.length))},nodebuffer:u},i.transformTo=function(v,b){if(b=b||"",!v)return b;i.checkSupport(v);var y=i.getTypeOf(b);return x[y][v](b)},i.resolve=function(v){for(var b=v.split("/"),y=[],w=0;w<b.length;w++){var A=b[w];A==="."||A===""&&w!==0&&w!==b.length-1||(A===".."?y.pop():y.push(A))}return y.join("/")},i.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(v)?"nodebuffer":s.uint8array&&v instanceof Uint8Array?"uint8array":s.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(v){if(!s[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(v){var b,y,w="";for(y=0;y<(v||"").length;y++)w+="\\x"+((b=v.charCodeAt(y))<16?"0":"")+b.toString(16).toUpperCase();return w},i.delay=function(v,b,y){setImmediate(function(){v.apply(y||null,b||[])})},i.inherits=function(v,b){function y(){}y.prototype=b.prototype,v.prototype=new y},i.extend=function(){var v,b,y={};for(v=0;v<arguments.length;v++)for(b in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],b)&&y[b]===void 0&&(y[b]=arguments[v][b]);return y},i.prepareContent=function(v,b,y,w,A){return l.Promise.resolve(b).then(function(k){return s.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new l.Promise(function(M,$){var H=new FileReader;H.onload=function(q){M(q.target.result)},H.onerror=function(q){$(q.target.error)},H.readAsArrayBuffer(k)}):k}).then(function(k){var M=i.getTypeOf(k);return M?(M==="arraybuffer"?k=i.transformTo("uint8array",k):M==="string"&&(A?k=a.decode(k):y&&w!==!0&&(k=function($){return h($,s.uint8array?new Uint8Array($.length):new Array($.length))}(k))),k):l.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,i){var s=t("./reader/readerFor"),a=t("./utils"),o=t("./signature"),l=t("./zipEntry"),u=t("./support");function h(f){this.files=[],this.loadOptions=f}h.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var p=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(p)+", expected "+a.pretty(f)+")")}},isSignature:function(f,p){var d=this.reader.index;this.reader.setIndex(f);var x=this.reader.readString(4)===p;return this.reader.setIndex(d),x},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),p=u.uint8array?"uint8array":"array",d=a.transformTo(p,f);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,p,d,x=this.zip64EndOfCentralSize-44;0<x;)f=this.reader.readInt(2),p=this.reader.readInt(4),d=this.reader.readData(p),this.zip64ExtensibleData[f]={id:f,length:p,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,p;for(f=0;f<this.files.length;f++)p=this.files[f],this.reader.setIndex(p.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),p.readLocalPart(this.reader),p.handleUTF8(),p.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(f=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var p=f;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var x=p-d;if(0<x)this.isSignature(p,o.CENTRAL_FILE_HEADER)||(this.reader.zero=x);else if(x<0)throw new Error("Corrupted zip: missing "+Math.abs(x)+" bytes.")},prepareReader:function(f){this.reader=s(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,i){var s=t("./reader/readerFor"),a=t("./utils"),o=t("./compressedObject"),l=t("./crc32"),u=t("./utf8"),h=t("./compressions"),f=t("./support");function p(d,x){this.options=d,this.loadOptions=x}p.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var x,v;if(d.skip(22),this.fileNameLength=d.readInt(2),v=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((x=function(b){for(var y in h)if(Object.prototype.hasOwnProperty.call(h,y)&&h[y].magic===b)return h[y];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,x,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var x=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(x),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var x,v,b,y=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<y;)x=d.readInt(2),v=d.readInt(2),b=d.readData(v),this.extraFields[x]={id:x,length:v,value:b};d.setIndex(y)},handleUTF8:function(){var d=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var x=this.findExtraFieldUnicodePath();if(x!==null)this.fileNameStr=x;else{var v=a.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var y=a.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var x=s(d.value);return x.readInt(1)!==1||l(this.fileName)!==x.readInt(4)?null:u.utf8decode(x.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var x=s(d.value);return x.readInt(1)!==1||l(this.fileComment)!==x.readInt(4)?null:u.utf8decode(x.readData(d.length-5))}return null}},n.exports=p},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,i){function s(x,v,b){this.name=x,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=v,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var a=t("./stream/StreamHelper"),o=t("./stream/DataWorker"),l=t("./utf8"),u=t("./compressedObject"),h=t("./stream/GenericWorker");s.prototype={internalStream:function(x){var v=null,b="string";try{if(!x)throw new Error("No output type specified.");var y=(b=x.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),v=this._decompressWorker();var w=!this._dataBinary;w&&!y&&(v=v.pipe(new l.Utf8EncodeWorker)),!w&&y&&(v=v.pipe(new l.Utf8DecodeWorker))}catch(A){(v=new h("error")).error(A)}return new a(v,b,"")},async:function(x,v){return this.internalStream(x).accumulate(v)},nodeStream:function(x,v){return this.internalStream(x||"nodebuffer").toNodejsStream(v)},_compressWorker:function(x,v){if(this._data instanceof u&&this._data.compression.magic===x.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new l.Utf8EncodeWorker)),u.createWorkerFrom(b,x,v)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof h?this._data:new o(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],p=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<f.length;d++)s.prototype[f[d]]=p;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,i){(function(s){var a,o,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var u=0,h=new l(x),f=s.document.createTextNode("");h.observe(f,{characterData:!0}),a=function(){f.data=u=++u%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var v=s.document.createElement("script");v.onreadystatechange=function(){x(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},s.document.documentElement.appendChild(v)}:function(){setTimeout(x,0)};else{var p=new s.MessageChannel;p.port1.onmessage=x,a=function(){p.port2.postMessage(0)}}var d=[];function x(){var v,b;o=!0;for(var y=d.length;y;){for(b=d,d=[],v=-1;++v<y;)b[v]();y=d.length}o=!1}n.exports=function(v){d.push(v)!==1||o||a()}}).call(this,typeof jo<"u"?jo:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,i){var s=t("immediate");function a(){}var o={},l=["REJECTED"],u=["FULFILLED"],h=["PENDING"];function f(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,y!==a&&v(this,y)}function p(y,w,A){this.promise=y,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}function d(y,w,A){s(function(){var k;try{k=w(A)}catch(M){return o.reject(y,M)}k===y?o.reject(y,new TypeError("Cannot resolve promise with itself")):o.resolve(y,k)})}function x(y){var w=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof w=="function")return function(){w.apply(y,arguments)}}function v(y,w){var A=!1;function k(H){A||(A=!0,o.reject(y,H))}function M(H){A||(A=!0,o.resolve(y,H))}var $=b(function(){w(M,k)});$.status==="error"&&k($.value)}function b(y,w){var A={};try{A.value=y(w),A.status="success"}catch(k){A.status="error",A.value=k}return A}(n.exports=f).prototype.finally=function(y){if(typeof y!="function")return this;var w=this.constructor;return this.then(function(A){return w.resolve(y()).then(function(){return A})},function(A){return w.resolve(y()).then(function(){throw A})})},f.prototype.catch=function(y){return this.then(null,y)},f.prototype.then=function(y,w){if(typeof y!="function"&&this.state===u||typeof w!="function"&&this.state===l)return this;var A=new this.constructor(a);return this.state!==h?d(A,this.state===u?y:w,this.outcome):this.queue.push(new p(A,y,w)),A},p.prototype.callFulfilled=function(y){o.resolve(this.promise,y)},p.prototype.otherCallFulfilled=function(y){d(this.promise,this.onFulfilled,y)},p.prototype.callRejected=function(y){o.reject(this.promise,y)},p.prototype.otherCallRejected=function(y){d(this.promise,this.onRejected,y)},o.resolve=function(y,w){var A=b(x,w);if(A.status==="error")return o.reject(y,A.value);var k=A.value;if(k)v(y,k);else{y.state=u,y.outcome=w;for(var M=-1,$=y.queue.length;++M<$;)y.queue[M].callFulfilled(w)}return y},o.reject=function(y,w){y.state=l,y.outcome=w;for(var A=-1,k=y.queue.length;++A<k;)y.queue[A].callRejected(w);return y},f.resolve=function(y){return y instanceof this?y:o.resolve(new this(a),y)},f.reject=function(y){var w=new this(a);return o.reject(w,y)},f.all=function(y){var w=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=y.length,k=!1;if(!A)return this.resolve([]);for(var M=new Array(A),$=0,H=-1,q=new this(a);++H<A;)D(y[H],H);return q;function D(se,z){w.resolve(se).then(function(R){M[z]=R,++$!==A||k||(k=!0,o.resolve(q,M))},function(R){k||(k=!0,o.reject(q,R))})}},f.race=function(y){var w=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=y.length,k=!1;if(!A)return this.resolve([]);for(var M=-1,$=new this(a);++M<A;)H=y[M],w.resolve(H).then(function(q){k||(k=!0,o.resolve($,q))},function(q){k||(k=!0,o.reject($,q))});var H;return $}},{immediate:36}],38:[function(t,n,i){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,i){var s=t("./zlib/deflate"),a=t("./utils/common"),o=t("./utils/strings"),l=t("./zlib/messages"),u=t("./zlib/zstream"),h=Object.prototype.toString,f=0,p=-1,d=0,x=8;function v(y){if(!(this instanceof v))return new v(y);this.options=a.assign({level:p,method:x,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},y||{});var w=this.options;w.raw&&0<w.windowBits?w.windowBits=-w.windowBits:w.gzip&&0<w.windowBits&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var A=s.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(A!==f)throw new Error(l[A]);if(w.header&&s.deflateSetHeader(this.strm,w.header),w.dictionary){var k;if(k=typeof w.dictionary=="string"?o.string2buf(w.dictionary):h.call(w.dictionary)==="[object ArrayBuffer]"?new Uint8Array(w.dictionary):w.dictionary,(A=s.deflateSetDictionary(this.strm,k))!==f)throw new Error(l[A]);this._dict_set=!0}}function b(y,w){var A=new v(w);if(A.push(y,!0),A.err)throw A.msg||l[A.err];return A.result}v.prototype.push=function(y,w){var A,k,M=this.strm,$=this.options.chunkSize;if(this.ended)return!1;k=w===~~w?w:w===!0?4:0,typeof y=="string"?M.input=o.string2buf(y):h.call(y)==="[object ArrayBuffer]"?M.input=new Uint8Array(y):M.input=y,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new a.Buf8($),M.next_out=0,M.avail_out=$),(A=s.deflate(M,k))!==1&&A!==f)return this.onEnd(A),!(this.ended=!0);M.avail_out!==0&&(M.avail_in!==0||k!==4&&k!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(M.output,M.next_out))):this.onData(a.shrinkBuf(M.output,M.next_out)))}while((0<M.avail_in||M.avail_out===0)&&A!==1);return k===4?(A=s.deflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===f):k!==2||(this.onEnd(f),!(M.avail_out=0))},v.prototype.onData=function(y){this.chunks.push(y)},v.prototype.onEnd=function(y){y===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Deflate=v,i.deflate=b,i.deflateRaw=function(y,w){return(w=w||{}).raw=!0,b(y,w)},i.gzip=function(y,w){return(w=w||{}).gzip=!0,b(y,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,i){var s=t("./zlib/inflate"),a=t("./utils/common"),o=t("./utils/strings"),l=t("./zlib/constants"),u=t("./zlib/messages"),h=t("./zlib/zstream"),f=t("./zlib/gzheader"),p=Object.prototype.toString;function d(v){if(!(this instanceof d))return new d(v);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},v||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||v&&v.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var y=s.inflateInit2(this.strm,b.windowBits);if(y!==l.Z_OK)throw new Error(u[y]);this.header=new f,s.inflateGetHeader(this.strm,this.header)}function x(v,b){var y=new d(b);if(y.push(v,!0),y.err)throw y.msg||u[y.err];return y.result}d.prototype.push=function(v,b){var y,w,A,k,M,$,H=this.strm,q=this.options.chunkSize,D=this.options.dictionary,se=!1;if(this.ended)return!1;w=b===~~b?b:b===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof v=="string"?H.input=o.binstring2buf(v):p.call(v)==="[object ArrayBuffer]"?H.input=new Uint8Array(v):H.input=v,H.next_in=0,H.avail_in=H.input.length;do{if(H.avail_out===0&&(H.output=new a.Buf8(q),H.next_out=0,H.avail_out=q),(y=s.inflate(H,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&D&&($=typeof D=="string"?o.string2buf(D):p.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,y=s.inflateSetDictionary(this.strm,$)),y===l.Z_BUF_ERROR&&se===!0&&(y=l.Z_OK,se=!1),y!==l.Z_STREAM_END&&y!==l.Z_OK)return this.onEnd(y),!(this.ended=!0);H.next_out&&(H.avail_out!==0&&y!==l.Z_STREAM_END&&(H.avail_in!==0||w!==l.Z_FINISH&&w!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(A=o.utf8border(H.output,H.next_out),k=H.next_out-A,M=o.buf2string(H.output,A),H.next_out=k,H.avail_out=q-k,k&&a.arraySet(H.output,H.output,A,k,0),this.onData(M)):this.onData(a.shrinkBuf(H.output,H.next_out)))),H.avail_in===0&&H.avail_out===0&&(se=!0)}while((0<H.avail_in||H.avail_out===0)&&y!==l.Z_STREAM_END);return y===l.Z_STREAM_END&&(w=l.Z_FINISH),w===l.Z_FINISH?(y=s.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===l.Z_OK):w!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(H.avail_out=0))},d.prototype.onData=function(v){this.chunks.push(v)},d.prototype.onEnd=function(v){v===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Inflate=d,i.inflate=x,i.inflateRaw=function(v,b){return(b=b||{}).raw=!0,x(v,b)},i.ungzip=x},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var h=u.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var f in h)h.hasOwnProperty(f)&&(l[f]=h[f])}}return l},i.shrinkBuf=function(l,u){return l.length===u?l:l.subarray?l.subarray(0,u):(l.length=u,l)};var a={arraySet:function(l,u,h,f,p){if(u.subarray&&l.subarray)l.set(u.subarray(h,h+f),p);else for(var d=0;d<f;d++)l[p+d]=u[h+d]},flattenChunks:function(l){var u,h,f,p,d,x;for(u=f=0,h=l.length;u<h;u++)f+=l[u].length;for(x=new Uint8Array(f),u=p=0,h=l.length;u<h;u++)d=l[u],x.set(d,p),p+=d.length;return x}},o={arraySet:function(l,u,h,f,p){for(var d=0;d<f;d++)l[p+d]=u[h+d]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(t,n,i){var s=t("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new s.Buf8(256),u=0;u<256;u++)l[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function h(f,p){if(p<65537&&(f.subarray&&o||!f.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(f,p));for(var d="",x=0;x<p;x++)d+=String.fromCharCode(f[x]);return d}l[254]=l[254]=1,i.string2buf=function(f){var p,d,x,v,b,y=f.length,w=0;for(v=0;v<y;v++)(64512&(d=f.charCodeAt(v)))==55296&&v+1<y&&(64512&(x=f.charCodeAt(v+1)))==56320&&(d=65536+(d-55296<<10)+(x-56320),v++),w+=d<128?1:d<2048?2:d<65536?3:4;for(p=new s.Buf8(w),v=b=0;b<w;v++)(64512&(d=f.charCodeAt(v)))==55296&&v+1<y&&(64512&(x=f.charCodeAt(v+1)))==56320&&(d=65536+(d-55296<<10)+(x-56320),v++),d<128?p[b++]=d:(d<2048?p[b++]=192|d>>>6:(d<65536?p[b++]=224|d>>>12:(p[b++]=240|d>>>18,p[b++]=128|d>>>12&63),p[b++]=128|d>>>6&63),p[b++]=128|63&d);return p},i.buf2binstring=function(f){return h(f,f.length)},i.binstring2buf=function(f){for(var p=new s.Buf8(f.length),d=0,x=p.length;d<x;d++)p[d]=f.charCodeAt(d);return p},i.buf2string=function(f,p){var d,x,v,b,y=p||f.length,w=new Array(2*y);for(d=x=0;d<y;)if((v=f[d++])<128)w[x++]=v;else if(4<(b=l[v]))w[x++]=65533,d+=b-1;else{for(v&=b===2?31:b===3?15:7;1<b&&d<y;)v=v<<6|63&f[d++],b--;1<b?w[x++]=65533:v<65536?w[x++]=v:(v-=65536,w[x++]=55296|v>>10&1023,w[x++]=56320|1023&v)}return h(w,x)},i.utf8border=function(f,p){var d;for((p=p||f.length)>f.length&&(p=f.length),d=p-1;0<=d&&(192&f[d])==128;)d--;return d<0||d===0?p:d+l[f[d]]>p?d:p}},{"./common":41}],43:[function(t,n,i){n.exports=function(s,a,o,l){for(var u=65535&s|0,h=s>>>16&65535|0,f=0;o!==0;){for(o-=f=2e3<o?2e3:o;h=h+(u=u+a[l++]|0)|0,--f;);u%=65521,h%=65521}return u|h<<16|0}},{}],44:[function(t,n,i){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,i){var s=function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var u=0;u<8;u++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o}();n.exports=function(a,o,l,u){var h=s,f=u+l;a^=-1;for(var p=u;p<f;p++)a=a>>>8^h[255&(a^o[p])];return-1^a}},{}],46:[function(t,n,i){var s,a=t("../utils/common"),o=t("./trees"),l=t("./adler32"),u=t("./crc32"),h=t("./messages"),f=0,p=4,d=0,x=-2,v=-1,b=4,y=2,w=8,A=9,k=286,M=30,$=19,H=2*k+1,q=15,D=3,se=258,z=se+D+1,R=42,V=113,T=1,K=2,he=3,le=4;function me(O,ve){return O.msg=h[ve],ve}function pe(O){return(O<<1)-(4<O?9:0)}function be(O){for(var ve=O.length;0<=--ve;)O[ve]=0}function ge(O){var ve=O.state,P=ve.pending;P>O.avail_out&&(P=O.avail_out),P!==0&&(a.arraySet(O.output,ve.pending_buf,ve.pending_out,P,O.next_out),O.next_out+=P,ve.pending_out+=P,O.total_out+=P,O.avail_out-=P,ve.pending-=P,ve.pending===0&&(ve.pending_out=0))}function C(O,ve){o._tr_flush_block(O,0<=O.block_start?O.block_start:-1,O.strstart-O.block_start,ve),O.block_start=O.strstart,ge(O.strm)}function B(O,ve){O.pending_buf[O.pending++]=ve}function G(O,ve){O.pending_buf[O.pending++]=ve>>>8&255,O.pending_buf[O.pending++]=255&ve}function ae(O,ve){var P,S,N=O.max_chain_length,F=O.strstart,oe=O.prev_length,xe=O.nice_match,fe=O.strstart>O.w_size-z?O.strstart-(O.w_size-z):0,Ce=O.window,Re=O.w_mask,Ie=O.prev,Ue=O.strstart+se,Ke=Ce[F+oe-1],Ze=Ce[F+oe];O.prev_length>=O.good_match&&(N>>=2),xe>O.lookahead&&(xe=O.lookahead);do if(Ce[(P=ve)+oe]===Ze&&Ce[P+oe-1]===Ke&&Ce[P]===Ce[F]&&Ce[++P]===Ce[F+1]){F+=2,P++;do;while(Ce[++F]===Ce[++P]&&Ce[++F]===Ce[++P]&&Ce[++F]===Ce[++P]&&Ce[++F]===Ce[++P]&&Ce[++F]===Ce[++P]&&Ce[++F]===Ce[++P]&&Ce[++F]===Ce[++P]&&Ce[++F]===Ce[++P]&&F<Ue);if(S=se-(Ue-F),F=Ue-se,oe<S){if(O.match_start=ve,xe<=(oe=S))break;Ke=Ce[F+oe-1],Ze=Ce[F+oe]}}while((ve=Ie[ve&Re])>fe&&--N!=0);return oe<=O.lookahead?oe:O.lookahead}function J(O){var ve,P,S,N,F,oe,xe,fe,Ce,Re,Ie=O.w_size;do{if(N=O.window_size-O.lookahead-O.strstart,O.strstart>=Ie+(Ie-z)){for(a.arraySet(O.window,O.window,Ie,Ie,0),O.match_start-=Ie,O.strstart-=Ie,O.block_start-=Ie,ve=P=O.hash_size;S=O.head[--ve],O.head[ve]=Ie<=S?S-Ie:0,--P;);for(ve=P=Ie;S=O.prev[--ve],O.prev[ve]=Ie<=S?S-Ie:0,--P;);N+=Ie}if(O.strm.avail_in===0)break;if(oe=O.strm,xe=O.window,fe=O.strstart+O.lookahead,Ce=N,Re=void 0,Re=oe.avail_in,Ce<Re&&(Re=Ce),P=Re===0?0:(oe.avail_in-=Re,a.arraySet(xe,oe.input,oe.next_in,Re,fe),oe.state.wrap===1?oe.adler=l(oe.adler,xe,Re,fe):oe.state.wrap===2&&(oe.adler=u(oe.adler,xe,Re,fe)),oe.next_in+=Re,oe.total_in+=Re,Re),O.lookahead+=P,O.lookahead+O.insert>=D)for(F=O.strstart-O.insert,O.ins_h=O.window[F],O.ins_h=(O.ins_h<<O.hash_shift^O.window[F+1])&O.hash_mask;O.insert&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[F+D-1])&O.hash_mask,O.prev[F&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=F,F++,O.insert--,!(O.lookahead+O.insert<D)););}while(O.lookahead<z&&O.strm.avail_in!==0)}function L(O,ve){for(var P,S;;){if(O.lookahead<z){if(J(O),O.lookahead<z&&ve===f)return T;if(O.lookahead===0)break}if(P=0,O.lookahead>=D&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+D-1])&O.hash_mask,P=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),P!==0&&O.strstart-P<=O.w_size-z&&(O.match_length=ae(O,P)),O.match_length>=D)if(S=o._tr_tally(O,O.strstart-O.match_start,O.match_length-D),O.lookahead-=O.match_length,O.match_length<=O.max_lazy_match&&O.lookahead>=D){for(O.match_length--;O.strstart++,O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+D-1])&O.hash_mask,P=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart,--O.match_length!=0;);O.strstart++}else O.strstart+=O.match_length,O.match_length=0,O.ins_h=O.window[O.strstart],O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+1])&O.hash_mask;else S=o._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++;if(S&&(C(O,!1),O.strm.avail_out===0))return T}return O.insert=O.strstart<D-1?O.strstart:D-1,ve===p?(C(O,!0),O.strm.avail_out===0?he:le):O.last_lit&&(C(O,!1),O.strm.avail_out===0)?T:K}function I(O,ve){for(var P,S,N;;){if(O.lookahead<z){if(J(O),O.lookahead<z&&ve===f)return T;if(O.lookahead===0)break}if(P=0,O.lookahead>=D&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+D-1])&O.hash_mask,P=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),O.prev_length=O.match_length,O.prev_match=O.match_start,O.match_length=D-1,P!==0&&O.prev_length<O.max_lazy_match&&O.strstart-P<=O.w_size-z&&(O.match_length=ae(O,P),O.match_length<=5&&(O.strategy===1||O.match_length===D&&4096<O.strstart-O.match_start)&&(O.match_length=D-1)),O.prev_length>=D&&O.match_length<=O.prev_length){for(N=O.strstart+O.lookahead-D,S=o._tr_tally(O,O.strstart-1-O.prev_match,O.prev_length-D),O.lookahead-=O.prev_length-1,O.prev_length-=2;++O.strstart<=N&&(O.ins_h=(O.ins_h<<O.hash_shift^O.window[O.strstart+D-1])&O.hash_mask,P=O.prev[O.strstart&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=O.strstart),--O.prev_length!=0;);if(O.match_available=0,O.match_length=D-1,O.strstart++,S&&(C(O,!1),O.strm.avail_out===0))return T}else if(O.match_available){if((S=o._tr_tally(O,0,O.window[O.strstart-1]))&&C(O,!1),O.strstart++,O.lookahead--,O.strm.avail_out===0)return T}else O.match_available=1,O.strstart++,O.lookahead--}return O.match_available&&(S=o._tr_tally(O,0,O.window[O.strstart-1]),O.match_available=0),O.insert=O.strstart<D-1?O.strstart:D-1,ve===p?(C(O,!0),O.strm.avail_out===0?he:le):O.last_lit&&(C(O,!1),O.strm.avail_out===0)?T:K}function ne(O,ve,P,S,N){this.good_length=O,this.max_lazy=ve,this.nice_length=P,this.max_chain=S,this.func=N}function ue(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*H),this.dyn_dtree=new a.Buf16(2*(2*M+1)),this.bl_tree=new a.Buf16(2*(2*$+1)),be(this.dyn_ltree),be(this.dyn_dtree),be(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(q+1),this.heap=new a.Buf16(2*k+1),be(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*k+1),be(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function X(O){var ve;return O&&O.state?(O.total_in=O.total_out=0,O.data_type=y,(ve=O.state).pending=0,ve.pending_out=0,ve.wrap<0&&(ve.wrap=-ve.wrap),ve.status=ve.wrap?R:V,O.adler=ve.wrap===2?0:1,ve.last_flush=f,o._tr_init(ve),d):me(O,x)}function ie(O){var ve=X(O);return ve===d&&function(P){P.window_size=2*P.w_size,be(P.head),P.max_lazy_match=s[P.level].max_lazy,P.good_match=s[P.level].good_length,P.nice_match=s[P.level].nice_length,P.max_chain_length=s[P.level].max_chain,P.strstart=0,P.block_start=0,P.lookahead=0,P.insert=0,P.match_length=P.prev_length=D-1,P.match_available=0,P.ins_h=0}(O.state),ve}function Ae(O,ve,P,S,N,F){if(!O)return x;var oe=1;if(ve===v&&(ve=6),S<0?(oe=0,S=-S):15<S&&(oe=2,S-=16),N<1||A<N||P!==w||S<8||15<S||ve<0||9<ve||F<0||b<F)return me(O,x);S===8&&(S=9);var xe=new ue;return(O.state=xe).strm=O,xe.wrap=oe,xe.gzhead=null,xe.w_bits=S,xe.w_size=1<<xe.w_bits,xe.w_mask=xe.w_size-1,xe.hash_bits=N+7,xe.hash_size=1<<xe.hash_bits,xe.hash_mask=xe.hash_size-1,xe.hash_shift=~~((xe.hash_bits+D-1)/D),xe.window=new a.Buf8(2*xe.w_size),xe.head=new a.Buf16(xe.hash_size),xe.prev=new a.Buf16(xe.w_size),xe.lit_bufsize=1<<N+6,xe.pending_buf_size=4*xe.lit_bufsize,xe.pending_buf=new a.Buf8(xe.pending_buf_size),xe.d_buf=1*xe.lit_bufsize,xe.l_buf=3*xe.lit_bufsize,xe.level=ve,xe.strategy=F,xe.method=P,ie(O)}s=[new ne(0,0,0,0,function(O,ve){var P=65535;for(P>O.pending_buf_size-5&&(P=O.pending_buf_size-5);;){if(O.lookahead<=1){if(J(O),O.lookahead===0&&ve===f)return T;if(O.lookahead===0)break}O.strstart+=O.lookahead,O.lookahead=0;var S=O.block_start+P;if((O.strstart===0||O.strstart>=S)&&(O.lookahead=O.strstart-S,O.strstart=S,C(O,!1),O.strm.avail_out===0)||O.strstart-O.block_start>=O.w_size-z&&(C(O,!1),O.strm.avail_out===0))return T}return O.insert=0,ve===p?(C(O,!0),O.strm.avail_out===0?he:le):(O.strstart>O.block_start&&(C(O,!1),O.strm.avail_out),T)}),new ne(4,4,8,4,L),new ne(4,5,16,8,L),new ne(4,6,32,32,L),new ne(4,4,16,16,I),new ne(8,16,32,32,I),new ne(8,16,128,128,I),new ne(8,32,128,256,I),new ne(32,128,258,1024,I),new ne(32,258,258,4096,I)],i.deflateInit=function(O,ve){return Ae(O,ve,w,15,8,0)},i.deflateInit2=Ae,i.deflateReset=ie,i.deflateResetKeep=X,i.deflateSetHeader=function(O,ve){return O&&O.state?O.state.wrap!==2?x:(O.state.gzhead=ve,d):x},i.deflate=function(O,ve){var P,S,N,F;if(!O||!O.state||5<ve||ve<0)return O?me(O,x):x;if(S=O.state,!O.output||!O.input&&O.avail_in!==0||S.status===666&&ve!==p)return me(O,O.avail_out===0?-5:x);if(S.strm=O,P=S.last_flush,S.last_flush=ve,S.status===R)if(S.wrap===2)O.adler=0,B(S,31),B(S,139),B(S,8),S.gzhead?(B(S,(S.gzhead.text?1:0)+(S.gzhead.hcrc?2:0)+(S.gzhead.extra?4:0)+(S.gzhead.name?8:0)+(S.gzhead.comment?16:0)),B(S,255&S.gzhead.time),B(S,S.gzhead.time>>8&255),B(S,S.gzhead.time>>16&255),B(S,S.gzhead.time>>24&255),B(S,S.level===9?2:2<=S.strategy||S.level<2?4:0),B(S,255&S.gzhead.os),S.gzhead.extra&&S.gzhead.extra.length&&(B(S,255&S.gzhead.extra.length),B(S,S.gzhead.extra.length>>8&255)),S.gzhead.hcrc&&(O.adler=u(O.adler,S.pending_buf,S.pending,0)),S.gzindex=0,S.status=69):(B(S,0),B(S,0),B(S,0),B(S,0),B(S,0),B(S,S.level===9?2:2<=S.strategy||S.level<2?4:0),B(S,3),S.status=V);else{var oe=w+(S.w_bits-8<<4)<<8;oe|=(2<=S.strategy||S.level<2?0:S.level<6?1:S.level===6?2:3)<<6,S.strstart!==0&&(oe|=32),oe+=31-oe%31,S.status=V,G(S,oe),S.strstart!==0&&(G(S,O.adler>>>16),G(S,65535&O.adler)),O.adler=1}if(S.status===69)if(S.gzhead.extra){for(N=S.pending;S.gzindex<(65535&S.gzhead.extra.length)&&(S.pending!==S.pending_buf_size||(S.gzhead.hcrc&&S.pending>N&&(O.adler=u(O.adler,S.pending_buf,S.pending-N,N)),ge(O),N=S.pending,S.pending!==S.pending_buf_size));)B(S,255&S.gzhead.extra[S.gzindex]),S.gzindex++;S.gzhead.hcrc&&S.pending>N&&(O.adler=u(O.adler,S.pending_buf,S.pending-N,N)),S.gzindex===S.gzhead.extra.length&&(S.gzindex=0,S.status=73)}else S.status=73;if(S.status===73)if(S.gzhead.name){N=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>N&&(O.adler=u(O.adler,S.pending_buf,S.pending-N,N)),ge(O),N=S.pending,S.pending===S.pending_buf_size)){F=1;break}F=S.gzindex<S.gzhead.name.length?255&S.gzhead.name.charCodeAt(S.gzindex++):0,B(S,F)}while(F!==0);S.gzhead.hcrc&&S.pending>N&&(O.adler=u(O.adler,S.pending_buf,S.pending-N,N)),F===0&&(S.gzindex=0,S.status=91)}else S.status=91;if(S.status===91)if(S.gzhead.comment){N=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>N&&(O.adler=u(O.adler,S.pending_buf,S.pending-N,N)),ge(O),N=S.pending,S.pending===S.pending_buf_size)){F=1;break}F=S.gzindex<S.gzhead.comment.length?255&S.gzhead.comment.charCodeAt(S.gzindex++):0,B(S,F)}while(F!==0);S.gzhead.hcrc&&S.pending>N&&(O.adler=u(O.adler,S.pending_buf,S.pending-N,N)),F===0&&(S.status=103)}else S.status=103;if(S.status===103&&(S.gzhead.hcrc?(S.pending+2>S.pending_buf_size&&ge(O),S.pending+2<=S.pending_buf_size&&(B(S,255&O.adler),B(S,O.adler>>8&255),O.adler=0,S.status=V)):S.status=V),S.pending!==0){if(ge(O),O.avail_out===0)return S.last_flush=-1,d}else if(O.avail_in===0&&pe(ve)<=pe(P)&&ve!==p)return me(O,-5);if(S.status===666&&O.avail_in!==0)return me(O,-5);if(O.avail_in!==0||S.lookahead!==0||ve!==f&&S.status!==666){var xe=S.strategy===2?function(fe,Ce){for(var Re;;){if(fe.lookahead===0&&(J(fe),fe.lookahead===0)){if(Ce===f)return T;break}if(fe.match_length=0,Re=o._tr_tally(fe,0,fe.window[fe.strstart]),fe.lookahead--,fe.strstart++,Re&&(C(fe,!1),fe.strm.avail_out===0))return T}return fe.insert=0,Ce===p?(C(fe,!0),fe.strm.avail_out===0?he:le):fe.last_lit&&(C(fe,!1),fe.strm.avail_out===0)?T:K}(S,ve):S.strategy===3?function(fe,Ce){for(var Re,Ie,Ue,Ke,Ze=fe.window;;){if(fe.lookahead<=se){if(J(fe),fe.lookahead<=se&&Ce===f)return T;if(fe.lookahead===0)break}if(fe.match_length=0,fe.lookahead>=D&&0<fe.strstart&&(Ie=Ze[Ue=fe.strstart-1])===Ze[++Ue]&&Ie===Ze[++Ue]&&Ie===Ze[++Ue]){Ke=fe.strstart+se;do;while(Ie===Ze[++Ue]&&Ie===Ze[++Ue]&&Ie===Ze[++Ue]&&Ie===Ze[++Ue]&&Ie===Ze[++Ue]&&Ie===Ze[++Ue]&&Ie===Ze[++Ue]&&Ie===Ze[++Ue]&&Ue<Ke);fe.match_length=se-(Ke-Ue),fe.match_length>fe.lookahead&&(fe.match_length=fe.lookahead)}if(fe.match_length>=D?(Re=o._tr_tally(fe,1,fe.match_length-D),fe.lookahead-=fe.match_length,fe.strstart+=fe.match_length,fe.match_length=0):(Re=o._tr_tally(fe,0,fe.window[fe.strstart]),fe.lookahead--,fe.strstart++),Re&&(C(fe,!1),fe.strm.avail_out===0))return T}return fe.insert=0,Ce===p?(C(fe,!0),fe.strm.avail_out===0?he:le):fe.last_lit&&(C(fe,!1),fe.strm.avail_out===0)?T:K}(S,ve):s[S.level].func(S,ve);if(xe!==he&&xe!==le||(S.status=666),xe===T||xe===he)return O.avail_out===0&&(S.last_flush=-1),d;if(xe===K&&(ve===1?o._tr_align(S):ve!==5&&(o._tr_stored_block(S,0,0,!1),ve===3&&(be(S.head),S.lookahead===0&&(S.strstart=0,S.block_start=0,S.insert=0))),ge(O),O.avail_out===0))return S.last_flush=-1,d}return ve!==p?d:S.wrap<=0?1:(S.wrap===2?(B(S,255&O.adler),B(S,O.adler>>8&255),B(S,O.adler>>16&255),B(S,O.adler>>24&255),B(S,255&O.total_in),B(S,O.total_in>>8&255),B(S,O.total_in>>16&255),B(S,O.total_in>>24&255)):(G(S,O.adler>>>16),G(S,65535&O.adler)),ge(O),0<S.wrap&&(S.wrap=-S.wrap),S.pending!==0?d:1)},i.deflateEnd=function(O){var ve;return O&&O.state?(ve=O.state.status)!==R&&ve!==69&&ve!==73&&ve!==91&&ve!==103&&ve!==V&&ve!==666?me(O,x):(O.state=null,ve===V?me(O,-3):d):x},i.deflateSetDictionary=function(O,ve){var P,S,N,F,oe,xe,fe,Ce,Re=ve.length;if(!O||!O.state||(F=(P=O.state).wrap)===2||F===1&&P.status!==R||P.lookahead)return x;for(F===1&&(O.adler=l(O.adler,ve,Re,0)),P.wrap=0,Re>=P.w_size&&(F===0&&(be(P.head),P.strstart=0,P.block_start=0,P.insert=0),Ce=new a.Buf8(P.w_size),a.arraySet(Ce,ve,Re-P.w_size,P.w_size,0),ve=Ce,Re=P.w_size),oe=O.avail_in,xe=O.next_in,fe=O.input,O.avail_in=Re,O.next_in=0,O.input=ve,J(P);P.lookahead>=D;){for(S=P.strstart,N=P.lookahead-(D-1);P.ins_h=(P.ins_h<<P.hash_shift^P.window[S+D-1])&P.hash_mask,P.prev[S&P.w_mask]=P.head[P.ins_h],P.head[P.ins_h]=S,S++,--N;);P.strstart=S,P.lookahead=D-1,J(P)}return P.strstart+=P.lookahead,P.block_start=P.strstart,P.insert=P.lookahead,P.lookahead=0,P.match_length=P.prev_length=D-1,P.match_available=0,O.next_in=xe,O.input=fe,O.avail_in=oe,P.wrap=F,d},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,i){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,i){n.exports=function(s,a){var o,l,u,h,f,p,d,x,v,b,y,w,A,k,M,$,H,q,D,se,z,R,V,T,K;o=s.state,l=s.next_in,T=s.input,u=l+(s.avail_in-5),h=s.next_out,K=s.output,f=h-(a-s.avail_out),p=h+(s.avail_out-257),d=o.dmax,x=o.wsize,v=o.whave,b=o.wnext,y=o.window,w=o.hold,A=o.bits,k=o.lencode,M=o.distcode,$=(1<<o.lenbits)-1,H=(1<<o.distbits)-1;e:do{A<15&&(w+=T[l++]<<A,A+=8,w+=T[l++]<<A,A+=8),q=k[w&$];t:for(;;){if(w>>>=D=q>>>24,A-=D,(D=q>>>16&255)===0)K[h++]=65535&q;else{if(!(16&D)){if(!(64&D)){q=k[(65535&q)+(w&(1<<D)-1)];continue t}if(32&D){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}se=65535&q,(D&=15)&&(A<D&&(w+=T[l++]<<A,A+=8),se+=w&(1<<D)-1,w>>>=D,A-=D),A<15&&(w+=T[l++]<<A,A+=8,w+=T[l++]<<A,A+=8),q=M[w&H];r:for(;;){if(w>>>=D=q>>>24,A-=D,!(16&(D=q>>>16&255))){if(!(64&D)){q=M[(65535&q)+(w&(1<<D)-1)];continue r}s.msg="invalid distance code",o.mode=30;break e}if(z=65535&q,A<(D&=15)&&(w+=T[l++]<<A,(A+=8)<D&&(w+=T[l++]<<A,A+=8)),d<(z+=w&(1<<D)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(w>>>=D,A-=D,(D=h-f)<z){if(v<(D=z-D)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(V=y,(R=0)===b){if(R+=x-D,D<se){for(se-=D;K[h++]=y[R++],--D;);R=h-z,V=K}}else if(b<D){if(R+=x+b-D,(D-=b)<se){for(se-=D;K[h++]=y[R++],--D;);if(R=0,b<se){for(se-=D=b;K[h++]=y[R++],--D;);R=h-z,V=K}}}else if(R+=b-D,D<se){for(se-=D;K[h++]=y[R++],--D;);R=h-z,V=K}for(;2<se;)K[h++]=V[R++],K[h++]=V[R++],K[h++]=V[R++],se-=3;se&&(K[h++]=V[R++],1<se&&(K[h++]=V[R++]))}else{for(R=h-z;K[h++]=K[R++],K[h++]=K[R++],K[h++]=K[R++],2<(se-=3););se&&(K[h++]=K[R++],1<se&&(K[h++]=K[R++]))}break}}break}}while(l<u&&h<p);l-=se=A>>3,w&=(1<<(A-=se<<3))-1,s.next_in=l,s.next_out=h,s.avail_in=l<u?u-l+5:5-(l-u),s.avail_out=h<p?p-h+257:257-(h-p),o.hold=w,o.bits=A}},{}],49:[function(t,n,i){var s=t("../utils/common"),a=t("./adler32"),o=t("./crc32"),l=t("./inffast"),u=t("./inftrees"),h=1,f=2,p=0,d=-2,x=1,v=852,b=592;function y(R){return(R>>>24&255)+(R>>>8&65280)+((65280&R)<<8)+((255&R)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function A(R){var V;return R&&R.state?(V=R.state,R.total_in=R.total_out=V.total=0,R.msg="",V.wrap&&(R.adler=1&V.wrap),V.mode=x,V.last=0,V.havedict=0,V.dmax=32768,V.head=null,V.hold=0,V.bits=0,V.lencode=V.lendyn=new s.Buf32(v),V.distcode=V.distdyn=new s.Buf32(b),V.sane=1,V.back=-1,p):d}function k(R){var V;return R&&R.state?((V=R.state).wsize=0,V.whave=0,V.wnext=0,A(R)):d}function M(R,V){var T,K;return R&&R.state?(K=R.state,V<0?(T=0,V=-V):(T=1+(V>>4),V<48&&(V&=15)),V&&(V<8||15<V)?d:(K.window!==null&&K.wbits!==V&&(K.window=null),K.wrap=T,K.wbits=V,k(R))):d}function $(R,V){var T,K;return R?(K=new w,(R.state=K).window=null,(T=M(R,V))!==p&&(R.state=null),T):d}var H,q,D=!0;function se(R){if(D){var V;for(H=new s.Buf32(512),q=new s.Buf32(32),V=0;V<144;)R.lens[V++]=8;for(;V<256;)R.lens[V++]=9;for(;V<280;)R.lens[V++]=7;for(;V<288;)R.lens[V++]=8;for(u(h,R.lens,0,288,H,0,R.work,{bits:9}),V=0;V<32;)R.lens[V++]=5;u(f,R.lens,0,32,q,0,R.work,{bits:5}),D=!1}R.lencode=H,R.lenbits=9,R.distcode=q,R.distbits=5}function z(R,V,T,K){var he,le=R.state;return le.window===null&&(le.wsize=1<<le.wbits,le.wnext=0,le.whave=0,le.window=new s.Buf8(le.wsize)),K>=le.wsize?(s.arraySet(le.window,V,T-le.wsize,le.wsize,0),le.wnext=0,le.whave=le.wsize):(K<(he=le.wsize-le.wnext)&&(he=K),s.arraySet(le.window,V,T-K,he,le.wnext),(K-=he)?(s.arraySet(le.window,V,T-K,K,0),le.wnext=K,le.whave=le.wsize):(le.wnext+=he,le.wnext===le.wsize&&(le.wnext=0),le.whave<le.wsize&&(le.whave+=he))),0}i.inflateReset=k,i.inflateReset2=M,i.inflateResetKeep=A,i.inflateInit=function(R){return $(R,15)},i.inflateInit2=$,i.inflate=function(R,V){var T,K,he,le,me,pe,be,ge,C,B,G,ae,J,L,I,ne,ue,X,ie,Ae,O,ve,P,S,N=0,F=new s.Buf8(4),oe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!R||!R.state||!R.output||!R.input&&R.avail_in!==0)return d;(T=R.state).mode===12&&(T.mode=13),me=R.next_out,he=R.output,be=R.avail_out,le=R.next_in,K=R.input,pe=R.avail_in,ge=T.hold,C=T.bits,B=pe,G=be,ve=p;e:for(;;)switch(T.mode){case x:if(T.wrap===0){T.mode=13;break}for(;C<16;){if(pe===0)break e;pe--,ge+=K[le++]<<C,C+=8}if(2&T.wrap&&ge===35615){F[T.check=0]=255&ge,F[1]=ge>>>8&255,T.check=o(T.check,F,2,0),C=ge=0,T.mode=2;break}if(T.flags=0,T.head&&(T.head.done=!1),!(1&T.wrap)||(((255&ge)<<8)+(ge>>8))%31){R.msg="incorrect header check",T.mode=30;break}if((15&ge)!=8){R.msg="unknown compression method",T.mode=30;break}if(C-=4,O=8+(15&(ge>>>=4)),T.wbits===0)T.wbits=O;else if(O>T.wbits){R.msg="invalid window size",T.mode=30;break}T.dmax=1<<O,R.adler=T.check=1,T.mode=512&ge?10:12,C=ge=0;break;case 2:for(;C<16;){if(pe===0)break e;pe--,ge+=K[le++]<<C,C+=8}if(T.flags=ge,(255&T.flags)!=8){R.msg="unknown compression method",T.mode=30;break}if(57344&T.flags){R.msg="unknown header flags set",T.mode=30;break}T.head&&(T.head.text=ge>>8&1),512&T.flags&&(F[0]=255&ge,F[1]=ge>>>8&255,T.check=o(T.check,F,2,0)),C=ge=0,T.mode=3;case 3:for(;C<32;){if(pe===0)break e;pe--,ge+=K[le++]<<C,C+=8}T.head&&(T.head.time=ge),512&T.flags&&(F[0]=255&ge,F[1]=ge>>>8&255,F[2]=ge>>>16&255,F[3]=ge>>>24&255,T.check=o(T.check,F,4,0)),C=ge=0,T.mode=4;case 4:for(;C<16;){if(pe===0)break e;pe--,ge+=K[le++]<<C,C+=8}T.head&&(T.head.xflags=255&ge,T.head.os=ge>>8),512&T.flags&&(F[0]=255&ge,F[1]=ge>>>8&255,T.check=o(T.check,F,2,0)),C=ge=0,T.mode=5;case 5:if(1024&T.flags){for(;C<16;){if(pe===0)break e;pe--,ge+=K[le++]<<C,C+=8}T.length=ge,T.head&&(T.head.extra_len=ge),512&T.flags&&(F[0]=255&ge,F[1]=ge>>>8&255,T.check=o(T.check,F,2,0)),C=ge=0}else T.head&&(T.head.extra=null);T.mode=6;case 6:if(1024&T.flags&&(pe<(ae=T.length)&&(ae=pe),ae&&(T.head&&(O=T.head.extra_len-T.length,T.head.extra||(T.head.extra=new Array(T.head.extra_len)),s.arraySet(T.head.extra,K,le,ae,O)),512&T.flags&&(T.check=o(T.check,K,ae,le)),pe-=ae,le+=ae,T.length-=ae),T.length))break e;T.length=0,T.mode=7;case 7:if(2048&T.flags){if(pe===0)break e;for(ae=0;O=K[le+ae++],T.head&&O&&T.length<65536&&(T.head.name+=String.fromCharCode(O)),O&&ae<pe;);if(512&T.flags&&(T.check=o(T.check,K,ae,le)),pe-=ae,le+=ae,O)break e}else T.head&&(T.head.name=null);T.length=0,T.mode=8;case 8:if(4096&T.flags){if(pe===0)break e;for(ae=0;O=K[le+ae++],T.head&&O&&T.length<65536&&(T.head.comment+=String.fromCharCode(O)),O&&ae<pe;);if(512&T.flags&&(T.check=o(T.check,K,ae,le)),pe-=ae,le+=ae,O)break e}else T.head&&(T.head.comment=null);T.mode=9;case 9:if(512&T.flags){for(;C<16;){if(pe===0)break e;pe--,ge+=K[le++]<<C,C+=8}if(ge!==(65535&T.check)){R.msg="header crc mismatch",T.mode=30;break}C=ge=0}T.head&&(T.head.hcrc=T.flags>>9&1,T.head.done=!0),R.adler=T.check=0,T.mode=12;break;case 10:for(;C<32;){if(pe===0)break e;pe--,ge+=K[le++]<<C,C+=8}R.adler=T.check=y(ge),C=ge=0,T.mode=11;case 11:if(T.havedict===0)return R.next_out=me,R.avail_out=be,R.next_in=le,R.avail_in=pe,T.hold=ge,T.bits=C,2;R.adler=T.check=1,T.mode=12;case 12:if(V===5||V===6)break e;case 13:if(T.last){ge>>>=7&C,C-=7&C,T.mode=27;break}for(;C<3;){if(pe===0)break e;pe--,ge+=K[le++]<<C,C+=8}switch(T.last=1&ge,C-=1,3&(ge>>>=1)){case 0:T.mode=14;break;case 1:if(se(T),T.mode=20,V!==6)break;ge>>>=2,C-=2;break e;case 2:T.mode=17;break;case 3:R.msg="invalid block type",T.mode=30}ge>>>=2,C-=2;break;case 14:for(ge>>>=7&C,C-=7&C;C<32;){if(pe===0)break e;pe--,ge+=K[le++]<<C,C+=8}if((65535&ge)!=(ge>>>16^65535)){R.msg="invalid stored block lengths",T.mode=30;break}if(T.length=65535&ge,C=ge=0,T.mode=15,V===6)break e;case 15:T.mode=16;case 16:if(ae=T.length){if(pe<ae&&(ae=pe),be<ae&&(ae=be),ae===0)break e;s.arraySet(he,K,le,ae,me),pe-=ae,le+=ae,be-=ae,me+=ae,T.length-=ae;break}T.mode=12;break;case 17:for(;C<14;){if(pe===0)break e;pe--,ge+=K[le++]<<C,C+=8}if(T.nlen=257+(31&ge),ge>>>=5,C-=5,T.ndist=1+(31&ge),ge>>>=5,C-=5,T.ncode=4+(15&ge),ge>>>=4,C-=4,286<T.nlen||30<T.ndist){R.msg="too many length or distance symbols",T.mode=30;break}T.have=0,T.mode=18;case 18:for(;T.have<T.ncode;){for(;C<3;){if(pe===0)break e;pe--,ge+=K[le++]<<C,C+=8}T.lens[oe[T.have++]]=7&ge,ge>>>=3,C-=3}for(;T.have<19;)T.lens[oe[T.have++]]=0;if(T.lencode=T.lendyn,T.lenbits=7,P={bits:T.lenbits},ve=u(0,T.lens,0,19,T.lencode,0,T.work,P),T.lenbits=P.bits,ve){R.msg="invalid code lengths set",T.mode=30;break}T.have=0,T.mode=19;case 19:for(;T.have<T.nlen+T.ndist;){for(;ne=(N=T.lencode[ge&(1<<T.lenbits)-1])>>>16&255,ue=65535&N,!((I=N>>>24)<=C);){if(pe===0)break e;pe--,ge+=K[le++]<<C,C+=8}if(ue<16)ge>>>=I,C-=I,T.lens[T.have++]=ue;else{if(ue===16){for(S=I+2;C<S;){if(pe===0)break e;pe--,ge+=K[le++]<<C,C+=8}if(ge>>>=I,C-=I,T.have===0){R.msg="invalid bit length repeat",T.mode=30;break}O=T.lens[T.have-1],ae=3+(3&ge),ge>>>=2,C-=2}else if(ue===17){for(S=I+3;C<S;){if(pe===0)break e;pe--,ge+=K[le++]<<C,C+=8}C-=I,O=0,ae=3+(7&(ge>>>=I)),ge>>>=3,C-=3}else{for(S=I+7;C<S;){if(pe===0)break e;pe--,ge+=K[le++]<<C,C+=8}C-=I,O=0,ae=11+(127&(ge>>>=I)),ge>>>=7,C-=7}if(T.have+ae>T.nlen+T.ndist){R.msg="invalid bit length repeat",T.mode=30;break}for(;ae--;)T.lens[T.have++]=O}}if(T.mode===30)break;if(T.lens[256]===0){R.msg="invalid code -- missing end-of-block",T.mode=30;break}if(T.lenbits=9,P={bits:T.lenbits},ve=u(h,T.lens,0,T.nlen,T.lencode,0,T.work,P),T.lenbits=P.bits,ve){R.msg="invalid literal/lengths set",T.mode=30;break}if(T.distbits=6,T.distcode=T.distdyn,P={bits:T.distbits},ve=u(f,T.lens,T.nlen,T.ndist,T.distcode,0,T.work,P),T.distbits=P.bits,ve){R.msg="invalid distances set",T.mode=30;break}if(T.mode=20,V===6)break e;case 20:T.mode=21;case 21:if(6<=pe&&258<=be){R.next_out=me,R.avail_out=be,R.next_in=le,R.avail_in=pe,T.hold=ge,T.bits=C,l(R,G),me=R.next_out,he=R.output,be=R.avail_out,le=R.next_in,K=R.input,pe=R.avail_in,ge=T.hold,C=T.bits,T.mode===12&&(T.back=-1);break}for(T.back=0;ne=(N=T.lencode[ge&(1<<T.lenbits)-1])>>>16&255,ue=65535&N,!((I=N>>>24)<=C);){if(pe===0)break e;pe--,ge+=K[le++]<<C,C+=8}if(ne&&!(240&ne)){for(X=I,ie=ne,Ae=ue;ne=(N=T.lencode[Ae+((ge&(1<<X+ie)-1)>>X)])>>>16&255,ue=65535&N,!(X+(I=N>>>24)<=C);){if(pe===0)break e;pe--,ge+=K[le++]<<C,C+=8}ge>>>=X,C-=X,T.back+=X}if(ge>>>=I,C-=I,T.back+=I,T.length=ue,ne===0){T.mode=26;break}if(32&ne){T.back=-1,T.mode=12;break}if(64&ne){R.msg="invalid literal/length code",T.mode=30;break}T.extra=15&ne,T.mode=22;case 22:if(T.extra){for(S=T.extra;C<S;){if(pe===0)break e;pe--,ge+=K[le++]<<C,C+=8}T.length+=ge&(1<<T.extra)-1,ge>>>=T.extra,C-=T.extra,T.back+=T.extra}T.was=T.length,T.mode=23;case 23:for(;ne=(N=T.distcode[ge&(1<<T.distbits)-1])>>>16&255,ue=65535&N,!((I=N>>>24)<=C);){if(pe===0)break e;pe--,ge+=K[le++]<<C,C+=8}if(!(240&ne)){for(X=I,ie=ne,Ae=ue;ne=(N=T.distcode[Ae+((ge&(1<<X+ie)-1)>>X)])>>>16&255,ue=65535&N,!(X+(I=N>>>24)<=C);){if(pe===0)break e;pe--,ge+=K[le++]<<C,C+=8}ge>>>=X,C-=X,T.back+=X}if(ge>>>=I,C-=I,T.back+=I,64&ne){R.msg="invalid distance code",T.mode=30;break}T.offset=ue,T.extra=15&ne,T.mode=24;case 24:if(T.extra){for(S=T.extra;C<S;){if(pe===0)break e;pe--,ge+=K[le++]<<C,C+=8}T.offset+=ge&(1<<T.extra)-1,ge>>>=T.extra,C-=T.extra,T.back+=T.extra}if(T.offset>T.dmax){R.msg="invalid distance too far back",T.mode=30;break}T.mode=25;case 25:if(be===0)break e;if(ae=G-be,T.offset>ae){if((ae=T.offset-ae)>T.whave&&T.sane){R.msg="invalid distance too far back",T.mode=30;break}J=ae>T.wnext?(ae-=T.wnext,T.wsize-ae):T.wnext-ae,ae>T.length&&(ae=T.length),L=T.window}else L=he,J=me-T.offset,ae=T.length;for(be<ae&&(ae=be),be-=ae,T.length-=ae;he[me++]=L[J++],--ae;);T.length===0&&(T.mode=21);break;case 26:if(be===0)break e;he[me++]=T.length,be--,T.mode=21;break;case 27:if(T.wrap){for(;C<32;){if(pe===0)break e;pe--,ge|=K[le++]<<C,C+=8}if(G-=be,R.total_out+=G,T.total+=G,G&&(R.adler=T.check=T.flags?o(T.check,he,G,me-G):a(T.check,he,G,me-G)),G=be,(T.flags?ge:y(ge))!==T.check){R.msg="incorrect data check",T.mode=30;break}C=ge=0}T.mode=28;case 28:if(T.wrap&&T.flags){for(;C<32;){if(pe===0)break e;pe--,ge+=K[le++]<<C,C+=8}if(ge!==(4294967295&T.total)){R.msg="incorrect length check",T.mode=30;break}C=ge=0}T.mode=29;case 29:ve=1;break e;case 30:ve=-3;break e;case 31:return-4;case 32:default:return d}return R.next_out=me,R.avail_out=be,R.next_in=le,R.avail_in=pe,T.hold=ge,T.bits=C,(T.wsize||G!==R.avail_out&&T.mode<30&&(T.mode<27||V!==4))&&z(R,R.output,R.next_out,G-R.avail_out)?(T.mode=31,-4):(B-=R.avail_in,G-=R.avail_out,R.total_in+=B,R.total_out+=G,T.total+=G,T.wrap&&G&&(R.adler=T.check=T.flags?o(T.check,he,G,R.next_out-G):a(T.check,he,G,R.next_out-G)),R.data_type=T.bits+(T.last?64:0)+(T.mode===12?128:0)+(T.mode===20||T.mode===15?256:0),(B==0&&G===0||V===4)&&ve===p&&(ve=-5),ve)},i.inflateEnd=function(R){if(!R||!R.state)return d;var V=R.state;return V.window&&(V.window=null),R.state=null,p},i.inflateGetHeader=function(R,V){var T;return R&&R.state&&2&(T=R.state).wrap?((T.head=V).done=!1,p):d},i.inflateSetDictionary=function(R,V){var T,K=V.length;return R&&R.state?(T=R.state).wrap!==0&&T.mode!==11?d:T.mode===11&&a(1,V,K,0)!==T.check?-3:z(R,V,K,K)?(T.mode=31,-4):(T.havedict=1,p):d},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,i){var s=t("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(h,f,p,d,x,v,b,y){var w,A,k,M,$,H,q,D,se,z=y.bits,R=0,V=0,T=0,K=0,he=0,le=0,me=0,pe=0,be=0,ge=0,C=null,B=0,G=new s.Buf16(16),ae=new s.Buf16(16),J=null,L=0;for(R=0;R<=15;R++)G[R]=0;for(V=0;V<d;V++)G[f[p+V]]++;for(he=z,K=15;1<=K&&G[K]===0;K--);if(K<he&&(he=K),K===0)return x[v++]=20971520,x[v++]=20971520,y.bits=1,0;for(T=1;T<K&&G[T]===0;T++);for(he<T&&(he=T),R=pe=1;R<=15;R++)if(pe<<=1,(pe-=G[R])<0)return-1;if(0<pe&&(h===0||K!==1))return-1;for(ae[1]=0,R=1;R<15;R++)ae[R+1]=ae[R]+G[R];for(V=0;V<d;V++)f[p+V]!==0&&(b[ae[f[p+V]]++]=V);if(H=h===0?(C=J=b,19):h===1?(C=a,B-=257,J=o,L-=257,256):(C=l,J=u,-1),R=T,$=v,me=V=ge=0,k=-1,M=(be=1<<(le=he))-1,h===1&&852<be||h===2&&592<be)return 1;for(;;){for(q=R-me,se=b[V]<H?(D=0,b[V]):b[V]>H?(D=J[L+b[V]],C[B+b[V]]):(D=96,0),w=1<<R-me,T=A=1<<le;x[$+(ge>>me)+(A-=w)]=q<<24|D<<16|se|0,A!==0;);for(w=1<<R-1;ge&w;)w>>=1;if(w!==0?(ge&=w-1,ge+=w):ge=0,V++,--G[R]==0){if(R===K)break;R=f[p+b[V]]}if(he<R&&(ge&M)!==k){for(me===0&&(me=he),$+=T,pe=1<<(le=R-me);le+me<K&&!((pe-=G[le+me])<=0);)le++,pe<<=1;if(be+=1<<le,h===1&&852<be||h===2&&592<be)return 1;x[k=ge&M]=he<<24|le<<16|$-v|0}}return ge!==0&&(x[$+ge]=R-me<<24|64<<16|0),y.bits=he,0}},{"../utils/common":41}],51:[function(t,n,i){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,i){var s=t("../utils/common"),a=0,o=1;function l(N){for(var F=N.length;0<=--F;)N[F]=0}var u=0,h=29,f=256,p=f+1+h,d=30,x=19,v=2*p+1,b=15,y=16,w=7,A=256,k=16,M=17,$=18,H=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],q=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],se=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(p+2));l(z);var R=new Array(2*d);l(R);var V=new Array(512);l(V);var T=new Array(256);l(T);var K=new Array(h);l(K);var he,le,me,pe=new Array(d);function be(N,F,oe,xe,fe){this.static_tree=N,this.extra_bits=F,this.extra_base=oe,this.elems=xe,this.max_length=fe,this.has_stree=N&&N.length}function ge(N,F){this.dyn_tree=N,this.max_code=0,this.stat_desc=F}function C(N){return N<256?V[N]:V[256+(N>>>7)]}function B(N,F){N.pending_buf[N.pending++]=255&F,N.pending_buf[N.pending++]=F>>>8&255}function G(N,F,oe){N.bi_valid>y-oe?(N.bi_buf|=F<<N.bi_valid&65535,B(N,N.bi_buf),N.bi_buf=F>>y-N.bi_valid,N.bi_valid+=oe-y):(N.bi_buf|=F<<N.bi_valid&65535,N.bi_valid+=oe)}function ae(N,F,oe){G(N,oe[2*F],oe[2*F+1])}function J(N,F){for(var oe=0;oe|=1&N,N>>>=1,oe<<=1,0<--F;);return oe>>>1}function L(N,F,oe){var xe,fe,Ce=new Array(b+1),Re=0;for(xe=1;xe<=b;xe++)Ce[xe]=Re=Re+oe[xe-1]<<1;for(fe=0;fe<=F;fe++){var Ie=N[2*fe+1];Ie!==0&&(N[2*fe]=J(Ce[Ie]++,Ie))}}function I(N){var F;for(F=0;F<p;F++)N.dyn_ltree[2*F]=0;for(F=0;F<d;F++)N.dyn_dtree[2*F]=0;for(F=0;F<x;F++)N.bl_tree[2*F]=0;N.dyn_ltree[2*A]=1,N.opt_len=N.static_len=0,N.last_lit=N.matches=0}function ne(N){8<N.bi_valid?B(N,N.bi_buf):0<N.bi_valid&&(N.pending_buf[N.pending++]=N.bi_buf),N.bi_buf=0,N.bi_valid=0}function ue(N,F,oe,xe){var fe=2*F,Ce=2*oe;return N[fe]<N[Ce]||N[fe]===N[Ce]&&xe[F]<=xe[oe]}function X(N,F,oe){for(var xe=N.heap[oe],fe=oe<<1;fe<=N.heap_len&&(fe<N.heap_len&&ue(F,N.heap[fe+1],N.heap[fe],N.depth)&&fe++,!ue(F,xe,N.heap[fe],N.depth));)N.heap[oe]=N.heap[fe],oe=fe,fe<<=1;N.heap[oe]=xe}function ie(N,F,oe){var xe,fe,Ce,Re,Ie=0;if(N.last_lit!==0)for(;xe=N.pending_buf[N.d_buf+2*Ie]<<8|N.pending_buf[N.d_buf+2*Ie+1],fe=N.pending_buf[N.l_buf+Ie],Ie++,xe===0?ae(N,fe,F):(ae(N,(Ce=T[fe])+f+1,F),(Re=H[Ce])!==0&&G(N,fe-=K[Ce],Re),ae(N,Ce=C(--xe),oe),(Re=q[Ce])!==0&&G(N,xe-=pe[Ce],Re)),Ie<N.last_lit;);ae(N,A,F)}function Ae(N,F){var oe,xe,fe,Ce=F.dyn_tree,Re=F.stat_desc.static_tree,Ie=F.stat_desc.has_stree,Ue=F.stat_desc.elems,Ke=-1;for(N.heap_len=0,N.heap_max=v,oe=0;oe<Ue;oe++)Ce[2*oe]!==0?(N.heap[++N.heap_len]=Ke=oe,N.depth[oe]=0):Ce[2*oe+1]=0;for(;N.heap_len<2;)Ce[2*(fe=N.heap[++N.heap_len]=Ke<2?++Ke:0)]=1,N.depth[fe]=0,N.opt_len--,Ie&&(N.static_len-=Re[2*fe+1]);for(F.max_code=Ke,oe=N.heap_len>>1;1<=oe;oe--)X(N,Ce,oe);for(fe=Ue;oe=N.heap[1],N.heap[1]=N.heap[N.heap_len--],X(N,Ce,1),xe=N.heap[1],N.heap[--N.heap_max]=oe,N.heap[--N.heap_max]=xe,Ce[2*fe]=Ce[2*oe]+Ce[2*xe],N.depth[fe]=(N.depth[oe]>=N.depth[xe]?N.depth[oe]:N.depth[xe])+1,Ce[2*oe+1]=Ce[2*xe+1]=fe,N.heap[1]=fe++,X(N,Ce,1),2<=N.heap_len;);N.heap[--N.heap_max]=N.heap[1],function(Ze,lt){var wt,Xe,Mr,ft,Gn,Vt,Ut=lt.dyn_tree,ts=lt.max_code,$t=lt.stat_desc.static_tree,Do=lt.stat_desc.has_stree,Sr=lt.stat_desc.extra_bits,Ii=lt.stat_desc.extra_base,gi=lt.stat_desc.max_length,cr=0;for(ft=0;ft<=b;ft++)Ze.bl_count[ft]=0;for(Ut[2*Ze.heap[Ze.heap_max]+1]=0,wt=Ze.heap_max+1;wt<v;wt++)gi<(ft=Ut[2*Ut[2*(Xe=Ze.heap[wt])+1]+1]+1)&&(ft=gi,cr++),Ut[2*Xe+1]=ft,ts<Xe||(Ze.bl_count[ft]++,Gn=0,Ii<=Xe&&(Gn=Sr[Xe-Ii]),Vt=Ut[2*Xe],Ze.opt_len+=Vt*(ft+Gn),Do&&(Ze.static_len+=Vt*($t[2*Xe+1]+Gn)));if(cr!==0){do{for(ft=gi-1;Ze.bl_count[ft]===0;)ft--;Ze.bl_count[ft]--,Ze.bl_count[ft+1]+=2,Ze.bl_count[gi]--,cr-=2}while(0<cr);for(ft=gi;ft!==0;ft--)for(Xe=Ze.bl_count[ft];Xe!==0;)ts<(Mr=Ze.heap[--wt])||(Ut[2*Mr+1]!==ft&&(Ze.opt_len+=(ft-Ut[2*Mr+1])*Ut[2*Mr],Ut[2*Mr+1]=ft),Xe--)}}(N,F),L(Ce,Ke,N.bl_count)}function O(N,F,oe){var xe,fe,Ce=-1,Re=F[1],Ie=0,Ue=7,Ke=4;for(Re===0&&(Ue=138,Ke=3),F[2*(oe+1)+1]=65535,xe=0;xe<=oe;xe++)fe=Re,Re=F[2*(xe+1)+1],++Ie<Ue&&fe===Re||(Ie<Ke?N.bl_tree[2*fe]+=Ie:fe!==0?(fe!==Ce&&N.bl_tree[2*fe]++,N.bl_tree[2*k]++):Ie<=10?N.bl_tree[2*M]++:N.bl_tree[2*$]++,Ce=fe,Ke=(Ie=0)===Re?(Ue=138,3):fe===Re?(Ue=6,3):(Ue=7,4))}function ve(N,F,oe){var xe,fe,Ce=-1,Re=F[1],Ie=0,Ue=7,Ke=4;for(Re===0&&(Ue=138,Ke=3),xe=0;xe<=oe;xe++)if(fe=Re,Re=F[2*(xe+1)+1],!(++Ie<Ue&&fe===Re)){if(Ie<Ke)for(;ae(N,fe,N.bl_tree),--Ie!=0;);else fe!==0?(fe!==Ce&&(ae(N,fe,N.bl_tree),Ie--),ae(N,k,N.bl_tree),G(N,Ie-3,2)):Ie<=10?(ae(N,M,N.bl_tree),G(N,Ie-3,3)):(ae(N,$,N.bl_tree),G(N,Ie-11,7));Ce=fe,Ke=(Ie=0)===Re?(Ue=138,3):fe===Re?(Ue=6,3):(Ue=7,4)}}l(pe);var P=!1;function S(N,F,oe,xe){G(N,(u<<1)+(xe?1:0),3),function(fe,Ce,Re,Ie){ne(fe),B(fe,Re),B(fe,~Re),s.arraySet(fe.pending_buf,fe.window,Ce,Re,fe.pending),fe.pending+=Re}(N,F,oe)}i._tr_init=function(N){P||(function(){var F,oe,xe,fe,Ce,Re=new Array(b+1);for(fe=xe=0;fe<h-1;fe++)for(K[fe]=xe,F=0;F<1<<H[fe];F++)T[xe++]=fe;for(T[xe-1]=fe,fe=Ce=0;fe<16;fe++)for(pe[fe]=Ce,F=0;F<1<<q[fe];F++)V[Ce++]=fe;for(Ce>>=7;fe<d;fe++)for(pe[fe]=Ce<<7,F=0;F<1<<q[fe]-7;F++)V[256+Ce++]=fe;for(oe=0;oe<=b;oe++)Re[oe]=0;for(F=0;F<=143;)z[2*F+1]=8,F++,Re[8]++;for(;F<=255;)z[2*F+1]=9,F++,Re[9]++;for(;F<=279;)z[2*F+1]=7,F++,Re[7]++;for(;F<=287;)z[2*F+1]=8,F++,Re[8]++;for(L(z,p+1,Re),F=0;F<d;F++)R[2*F+1]=5,R[2*F]=J(F,5);he=new be(z,H,f+1,p,b),le=new be(R,q,0,d,b),me=new be(new Array(0),D,0,x,w)}(),P=!0),N.l_desc=new ge(N.dyn_ltree,he),N.d_desc=new ge(N.dyn_dtree,le),N.bl_desc=new ge(N.bl_tree,me),N.bi_buf=0,N.bi_valid=0,I(N)},i._tr_stored_block=S,i._tr_flush_block=function(N,F,oe,xe){var fe,Ce,Re=0;0<N.level?(N.strm.data_type===2&&(N.strm.data_type=function(Ie){var Ue,Ke=4093624447;for(Ue=0;Ue<=31;Ue++,Ke>>>=1)if(1&Ke&&Ie.dyn_ltree[2*Ue]!==0)return a;if(Ie.dyn_ltree[18]!==0||Ie.dyn_ltree[20]!==0||Ie.dyn_ltree[26]!==0)return o;for(Ue=32;Ue<f;Ue++)if(Ie.dyn_ltree[2*Ue]!==0)return o;return a}(N)),Ae(N,N.l_desc),Ae(N,N.d_desc),Re=function(Ie){var Ue;for(O(Ie,Ie.dyn_ltree,Ie.l_desc.max_code),O(Ie,Ie.dyn_dtree,Ie.d_desc.max_code),Ae(Ie,Ie.bl_desc),Ue=x-1;3<=Ue&&Ie.bl_tree[2*se[Ue]+1]===0;Ue--);return Ie.opt_len+=3*(Ue+1)+5+5+4,Ue}(N),fe=N.opt_len+3+7>>>3,(Ce=N.static_len+3+7>>>3)<=fe&&(fe=Ce)):fe=Ce=oe+5,oe+4<=fe&&F!==-1?S(N,F,oe,xe):N.strategy===4||Ce===fe?(G(N,2+(xe?1:0),3),ie(N,z,R)):(G(N,4+(xe?1:0),3),function(Ie,Ue,Ke,Ze){var lt;for(G(Ie,Ue-257,5),G(Ie,Ke-1,5),G(Ie,Ze-4,4),lt=0;lt<Ze;lt++)G(Ie,Ie.bl_tree[2*se[lt]+1],3);ve(Ie,Ie.dyn_ltree,Ue-1),ve(Ie,Ie.dyn_dtree,Ke-1)}(N,N.l_desc.max_code+1,N.d_desc.max_code+1,Re+1),ie(N,N.dyn_ltree,N.dyn_dtree)),I(N),xe&&ne(N)},i._tr_tally=function(N,F,oe){return N.pending_buf[N.d_buf+2*N.last_lit]=F>>>8&255,N.pending_buf[N.d_buf+2*N.last_lit+1]=255&F,N.pending_buf[N.l_buf+N.last_lit]=255&oe,N.last_lit++,F===0?N.dyn_ltree[2*oe]++:(N.matches++,F--,N.dyn_ltree[2*(T[oe]+f+1)]++,N.dyn_dtree[2*C(F)]++),N.last_lit===N.lit_bufsize-1},i._tr_align=function(N){G(N,2,3),ae(N,A,z),function(F){F.bi_valid===16?(B(F,F.bi_buf),F.bi_buf=0,F.bi_valid=0):8<=F.bi_valid&&(F.pending_buf[F.pending++]=255&F.bi_buf,F.bi_buf>>=8,F.bi_valid-=8)}(N)}},{"../utils/common":41}],53:[function(t,n,i){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,i){(function(s){(function(a,o){if(!a.setImmediate){var l,u,h,f,p=1,d={},x=!1,v=a.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(a);b=b&&b.setTimeout?b:a,l={}.toString.call(a.process)==="[object process]"?function(k){It.nextTick(function(){w(k)})}:function(){if(a.postMessage&&!a.importScripts){var k=!0,M=a.onmessage;return a.onmessage=function(){k=!1},a.postMessage("","*"),a.onmessage=M,k}}()?(f="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",A,!1):a.attachEvent("onmessage",A),function(k){a.postMessage(f+k,"*")}):a.MessageChannel?((h=new MessageChannel).port1.onmessage=function(k){w(k.data)},function(k){h.port2.postMessage(k)}):v&&"onreadystatechange"in v.createElement("script")?(u=v.documentElement,function(k){var M=v.createElement("script");M.onreadystatechange=function(){w(k),M.onreadystatechange=null,u.removeChild(M),M=null},u.appendChild(M)}):function(k){setTimeout(w,0,k)},b.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var M=new Array(arguments.length-1),$=0;$<M.length;$++)M[$]=arguments[$+1];var H={callback:k,args:M};return d[p]=H,l(p),p++},b.clearImmediate=y}function y(k){delete d[k]}function w(k){if(x)setTimeout(w,0,k);else{var M=d[k];if(M){x=!0;try{(function($){var H=$.callback,q=$.args;switch(q.length){case 0:H();break;case 1:H(q[0]);break;case 2:H(q[0],q[1]);break;case 3:H(q[0],q[1],q[2]);break;default:H.apply(o,q)}})(M)}finally{y(k),x=!1}}}}function A(k){k.source===a&&typeof k.data=="string"&&k.data.indexOf(f)===0&&w(+k.data.slice(f.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof jo<"u"?jo:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(XI);var kq=XI.exports;const Cq=Z8(kq);var fw={exports:{}},Tq={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function jq(r){return r&&r.replace?r.replace(/([&"<>'])/g,function(e,t){return Tq[t]}):r}var Pq=jq,_S=Pq,eT=GN.Stream,Lq="    ";function Iq(r,e){typeof e!="object"&&(e={indent:e});var t=e.stream?new eT:null,n="",i=!1,s=e.indent?e.indent===!0?Lq:e.indent:"",a=!0;function o(p){a?It.nextTick(p):p()}function l(p,d){if(d!==void 0&&(n+=d),p&&!i&&(t=t||new eT,i=!0),p&&i){var x=n;o(function(){t.emit("data",x)}),n=""}}function u(p,d){nE(l,pw(p,s,s?1:0),d)}function h(){if(t){var p=n;o(function(){t.emit("data",p),t.emit("end"),t.readable=!1,t.emit("close")})}}function f(p){var d=p.encoding||"UTF-8",x={version:"1.0",encoding:d};p.standalone&&(x.standalone=p.standalone),u({"?xml":{_attr:x}}),n=n.replace("/>","?>")}return o(function(){a=!1}),e.declaration&&f(e.declaration),r&&r.forEach?r.forEach(function(p,d){var x;d+1===r.length&&(x=h),u(p,x)}):u(r,h),t?(t.readable=!0,t):n}function Rq(){var r=Array.prototype.slice.call(arguments),e={_elem:pw(r)};return e.push=function(t){if(!this.append)throw new Error("not assigned to a parent!");var n=this,i=this._elem.indent;nE(this.append,pw(t,i,this._elem.icount+(i?1:0)),function(){n.append(!0)})},e.close=function(t){t!==void 0&&this.push(t),this.end&&this.end()},e}function Fq(r,e){return new Array(e||0).join(r||"")}function pw(r,e,t){t=t||0;var n=Fq(e,t),i,s=r,a=!1;if(typeof r=="object"){var o=Object.keys(r);if(i=o[0],s=r[i],s&&s._elem)return s._elem.name=i,s._elem.icount=t,s._elem.indent=e,s._elem.indents=n,s._elem.interrupt=s,s._elem}var l=[],u=[],h;function f(p){var d=Object.keys(p);d.forEach(function(x){l.push(Dq(x,p[x]))})}switch(typeof s){case"object":if(s===null)break;s._attr&&f(s._attr),s._cdata&&u.push(("<![CDATA["+s._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),s.forEach&&(h=!1,u.push(""),s.forEach(function(p){if(typeof p=="object"){var d=Object.keys(p)[0];d=="_attr"?f(p._attr):u.push(pw(p,e,t+1))}else u.pop(),h=!0,u.push(_S(p))}),h||u.push(""));break;default:u.push(_S(s))}return{name:i,interrupt:a,attributes:l,content:u,icount:t,indents:n,indent:e}}function nE(r,e,t){if(typeof e!="object")return r(!1,e);var n=e.interrupt?1:e.content.length;function i(){for(;e.content.length;){var a=e.content.shift();if(a!==void 0){if(s(a))return;nE(r,a)}}r(!1,(n>1?e.indents:"")+(e.name?"</"+e.name+">":"")+(e.indent&&!t?`
`:"")),t&&t()}function s(a){return a.interrupt?(a.interrupt.append=r,a.interrupt.end=i,a.interrupt=!1,r(!0),!0):!1}if(r(!1,e.indents+(e.name?"<"+e.name:"")+(e.attributes.length?" "+e.attributes.join(" "):"")+(n?e.name?">":"":e.name?"/>":"")+(e.indent&&n>1?`
`:"")),!n)return r(!1,e.indent?`
`:"");s(e)||i()}function Dq(r,e){return r+'="'+_S(e)+'"'}fw.exports=Iq;fw.exports.element=fw.exports.Element=Rq;var Mq=fw.exports;const Vr=Z8(Mq),tT=0,rT=32,Oq=32,Bq=(r,e)=>{const t=e.replace(/-/g,"");if(t.length!==Oq)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const i=t.replace(/(..)/g,"$1 ").trim().split(" ").map(l=>parseInt(l,16));i.reverse();const a=r.slice(tT,rT).map((l,u)=>l^i[u%i.length]);return li.concat([r.slice(0,tT),a,r.slice(rT)])};class Uq{format(e,t={stack:[]}){const n=e.prepForXml(t);if(n)return n;throw Error("XMLComponent did not format correctly")}}class zq{replace(e,t,n){let i=e;return t.forEach((s,a)=>{i=i.replace(new RegExp(`{${s.fileName}}`,"g"),(n+a).toString())}),i}getMediaData(e,t){return t.Array.filter(n=>e.search(`{${n.fileName}}`)>0)}}class Hq{replace(e,t){let n=e;for(const i of t)n=n.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return n}}class qq{constructor(){Be(this,"formatter"),Be(this,"imageReplacer"),Be(this,"numberingReplacer"),this.formatter=new Uq,this.imageReplacer=new zq,this.numberingReplacer=new Hq}compile(e,t){const n=new Cq,i=this.xmlifyFile(e,t),s=new Map(Object.entries(i));for(const[,a]of s)if(Array.isArray(a))for(const o of a)n.file(o.path,o.data);else n.file(a.path,a.data);for(const{stream:a,fileName:o}of e.Media.Array)n.file(`word/media/${o}`,a);for(const{data:a,name:o,fontKey:l}of e.FontTable.fontOptionsWithKey){const[u]=o.split(".");n.file(`word/fonts/${u}.odttf`,Bq(a,l))}return n}xmlifyFile(e,t){const n=e.Document.Relationships.RelationshipCount+1,i=Vr(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),s=this.imageReplacer.getMediaData(i,e.Media);return{Relationships:{data:(s.forEach((a,o)=>{e.Document.Relationships.createRelationship(n+o,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${a.fileName}`)}),Vr(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const a=this.imageReplacer.replace(i,s,n);return this.numberingReplacer.replace(a,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const a=Vr(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(a,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Vr(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Vr(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Vr(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((a,o)=>{const l=Vr(this.formatter.format(a.View,{viewWrapper:a,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(l,e.Media).forEach((h,f)=>{a.Relationships.createRelationship(f,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),{data:Vr(this.formatter.format(a.Relationships,{viewWrapper:a,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${o+1}.xml.rels`}}),FooterRelationships:e.Footers.map((a,o)=>{const l=Vr(this.formatter.format(a.View,{viewWrapper:a,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(l,e.Media).forEach((h,f)=>{a.Relationships.createRelationship(f,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),{data:Vr(this.formatter.format(a.Relationships,{viewWrapper:a,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${o+1}.xml.rels`}}),Headers:e.Headers.map((a,o)=>{const l=Vr(this.formatter.format(a.View,{viewWrapper:a,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),u=this.imageReplacer.getMediaData(l,e.Media),h=this.imageReplacer.replace(l,u,0);return{data:this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering),path:`word/header${o+1}.xml`}}),Footers:e.Footers.map((a,o)=>{const l=Vr(this.formatter.format(a.View,{viewWrapper:a,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),u=this.imageReplacer.getMediaData(l,e.Media),h=this.imageReplacer.replace(l,u,0);return{data:this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering),path:`word/footer${o+1}.xml`}}),ContentTypes:{data:Vr(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Vr(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Vr(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Vr(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Vr(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Vr(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:Vr(this.formatter.format(e.Comments,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/comments.xml"},FontTable:{data:Vr(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:Vr(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const Wq={NONE:"",WITH_2_BLANKS:"  ",WITH_4_BLANKS:"    ",WITH_TAB:"	"},wg=r=>r===!0?Wq.WITH_2_BLANKS:r===!1?void 0:r;class YI{static toString(e,t){return Nv(this,null,function*(){return yield this.compiler.compile(e,wg(t)).generateAsync({type:"string",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBuffer(e,t){return Nv(this,null,function*(){return yield this.compiler.compile(e,wg(t)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBase64String(e,t){return Nv(this,null,function*(){return yield this.compiler.compile(e,wg(t)).generateAsync({type:"base64",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toBlob(e,t){return Nv(this,null,function*(){return yield this.compiler.compile(e,wg(t)).generateAsync({type:"blob",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toStream(e,t){const n=new GN.Stream;return this.compiler.compile(e,wg(t)).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(s=>{n.emit("data",s),n.emit("end")}),n}}Be(YI,"compiler",new qq);var QI={exports:{}};(function(r,e){(function(t,n){n()})(OR,function(){function t(u,h){return typeof h>"u"?h={autoBom:!1}:typeof h!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),h={autoBom:!h}),h.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function n(u,h,f){var p=new XMLHttpRequest;p.open("GET",u),p.responseType="blob",p.onload=function(){l(p.response,h,f)},p.onerror=function(){console.error("could not download file")},p.send()}function i(u){var h=new XMLHttpRequest;h.open("HEAD",u,!1);try{h.send()}catch{}return 200<=h.status&&299>=h.status}function s(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var h=document.createEvent("MouseEvents");h.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(h)}}var a=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof globalThis=="object"&&globalThis.global===globalThis?globalThis:void 0,o=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=a.saveAs||(typeof window!="object"||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(u,h,f){var p=a.URL||a.webkitURL,d=document.createElement("a");h=h||u.name||"download",d.download=h,d.rel="noopener",typeof u=="string"?(d.href=u,d.origin===location.origin?s(d):i(d.href)?n(u,h,f):s(d,d.target="_blank")):(d.href=p.createObjectURL(u),setTimeout(function(){p.revokeObjectURL(d.href)},4e4),setTimeout(function(){s(d)},0))}:"msSaveOrOpenBlob"in navigator?function(u,h,f){if(h=h||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(t(u,f),h);else if(i(u))n(u,h,f);else{var p=document.createElement("a");p.href=u,p.target="_blank",setTimeout(function(){s(p)})}}:function(u,h,f,p){if(p=p||open("","_blank"),p&&(p.document.title=p.document.body.innerText="downloading..."),typeof u=="string")return n(u,h,f);var d=u.type==="application/octet-stream",x=/constructor/i.test(a.HTMLElement)||a.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||d&&x||o)&&typeof FileReader<"u"){var b=new FileReader;b.onloadend=function(){var A=b.result;A=v?A:A.replace(/^data:[^;]*;/,"data:attachment/file;"),p?p.location.href=A:location=A,p=null},b.readAsDataURL(u)}else{var y=a.URL||a.webkitURL,w=y.createObjectURL(u);p?p.location=w:location.href=w,p=null,setTimeout(function(){y.revokeObjectURL(w)},4e4)}});a.saveAs=l.saveAs=l,r.exports=l})})(QI);var $q=QI.exports;const Gq=async(r,e,t,n={format:"txt"})=>{try{switch(n.format){case"txt":await Vq(r,e,t,n);break;case"pdf":await Kq(r,e,t,n);break;case"docx":await eW(r,e,t,n);break;default:throw new Error("Unsupported export format")}}catch(i){throw console.error("Export failed:",i),new Error("Failed to export proposal. Please try again.")}},Vq=async(r,e,t,n)=>{let i="";n.includeMetadata&&n.companyProfile&&(i+=tW(n.companyProfile,r,t),i+=`
${"=".repeat(80)}

`),i+=e,n.includeMetadata&&n.companyProfile&&(i+=`

`+rW(n.companyProfile));const s=new Blob([i],{type:"text/plain"});nW(s,`${iE(r)}.txt`)},Kq=async(r,e,t,n)=>{const i=new yt({orientation:"portrait",unit:"mm",format:"a4"}),s=i.internal.pageSize.getWidth(),a=i.internal.pageSize.getHeight(),o=20,l=s-o*2,u=6;let h=o,f=1;const p=()=>{iT(i,f,n.companyProfile),i.addPage(),f++,h=o,n.includeMetadata&&n.companyProfile&&(nT(i,n.companyProfile,!1),h=40)};n.includeMetadata&&n.companyProfile&&(h=nT(i,n.companyProfile,!0),h+=10),h=Xq(i,r,t,h,s,o),h+=15;const d=e.split(`
`);let x=!1;for(let v=0;v<d.length;v++){const b=d[v];if(h>a-50&&p(),b.trim()===""){h+=u/2,x=!1;continue}b.startsWith("# ")?(x=!1,h=q5(i,b.substring(2),h,1,s,o)):b.startsWith("## ")?(x=!1,h=q5(i,b.substring(3),h,2,s,o)):b.startsWith("### ")?(x=!1,h=q5(i,b.substring(4),h,3,s,o)):b.startsWith("- ")||b.startsWith("• ")?(x||(h+=2,x=!0),h=Qq(i,b.substring(2),h,o,l)):/^\d+\.\s/.test(b)?(x||(h+=2,x=!0),h=Jq(i,b,h,o,l)):b.includes("**")?(x=!1,h=Zq(i,b,h,o,l)):(x=!1,h=Yq(i,b,h,o,l)),h>a-50&&p()}iT(i,f,n.companyProfile),i.save(`${iE(r)}.pdf`)},nT=(r,e,t)=>{var i,s,a,o;let n=15;return t?(r.setFillColor(59,130,246),r.rect(20,n,25,15,"F"),r.setTextColor(255,255,255),r.setFontSize(10),r.setFont("helvetica","bold"),r.text("LOGO",32.5,n+9,{align:"center"}),r.setTextColor(59,130,246),r.setFontSize(18),r.setFont("helvetica","bold"),r.text(e.name,50,n+10),n+=20,r.setTextColor(107,114,128),r.setFontSize(9),r.setFont("helvetica","normal"),(i=e.address)!=null&&i.street&&(r.text(e.address.street,20,n),n+=4),(s=e.address)!=null&&s.city&&(r.text(`${e.address.city}, ${e.address.state} ${e.address.zipCode}`,20,n),n+=4),(a=e.contact)!=null&&a.phone&&(r.text(`Phone: ${e.contact.phone}`,20,n),n+=4),(o=e.contact)!=null&&o.email&&(r.text(`Email: ${e.contact.email}`,20,n),n+=4),n+=5):(r.setTextColor(59,130,246),r.setFontSize(12),r.setFont("helvetica","bold"),r.text(e.name,20,n+5),n+=15),r.setDrawColor(59,130,246),r.setLineWidth(.5),r.line(20,n,190,n),n+5},Xq=(r,e,t,n,i,s)=>{r.setFillColor(248,250,252),r.rect(s,n,i-s*2,25,"F"),r.setTextColor(30,64,175),r.setFontSize(20),r.setFont("helvetica","bold");const a=r.splitTextToSize(e,i-s*2-10);return r.text(a,s+5,n+8),r.setTextColor(55,65,81),r.setFontSize(12),r.setFont("helvetica","normal"),r.text(`Prepared for: ${t}`,s+5,n+16),r.setFontSize(10),r.text(`Date: ${new Date().toLocaleDateString()}`,s+5,n+21),n+25},q5=(r,e,t,n,i,s)=>{const a=n===1?16:n===2?14:12,o=n===1?8:n===2?6:4;t+=o,r.setTextColor(30,64,175),r.setFontSize(a),r.setFont("helvetica","bold");const l=r.splitTextToSize(e,i-s*2);return r.text(l,s,t),t+=l.length*(a*.35)+o,n===1&&(r.setDrawColor(30,64,175),r.setLineWidth(.3),r.line(s,t-2,s+60,t-2)),t},Yq=(r,e,t,n,i)=>{r.setTextColor(0,0,0),r.setFontSize(11),r.setFont("helvetica","normal");const s=r.splitTextToSize(e,i);return r.text(s,n,t),t+s.length*5+3},Qq=(r,e,t,n,i)=>{r.setTextColor(0,0,0),r.setFontSize(11),r.setFont("helvetica","normal"),r.text("•",n+5,t);const s=r.splitTextToSize(e,i-15);return r.text(s,n+10,t),t+s.length*5+2},Jq=(r,e,t,n,i)=>{r.setTextColor(0,0,0),r.setFontSize(11),r.setFont("helvetica","normal");const s=r.splitTextToSize(e,i-10);return r.text(s,n+5,t),t+s.length*5+2},Zq=(r,e,t,n,i)=>{r.setTextColor(0,0,0),r.setFontSize(11);const s=e.split("**");let a=n;for(let o=0;o<s.length;o++)if(o%2===0?r.setFont("helvetica","normal"):r.setFont("helvetica","bold"),s[o]){const l=r.getTextWidth(s[o]);a+l>n+i&&(t+=5,a=n),r.text(s[o],a,t),a+=l}return t+8},iT=(r,e,t)=>{var a,o,l;const n=r.internal.pageSize.getWidth(),i=r.internal.pageSize.getHeight(),s=20;if(r.setDrawColor(229,231,235),r.setLineWidth(.3),r.line(s,i-25,n-s,i-25),t){r.setFontSize(8),r.setTextColor(107,114,128);let u=t.name;(a=t.contact)!=null&&a.phone&&(u+=` | Phone: ${t.contact.phone}`),(o=t.contact)!=null&&o.email&&(u+=` | Email: ${t.contact.email}`),(l=t.contact)!=null&&l.website&&(u+=` | Web: ${t.contact.website}`),r.text(u,n/2,i-15,{align:"center"})}r.setFontSize(10),r.setTextColor(107,114,128),r.text(`Page ${e}`,n-s,i-10,{align:"right"})},eW=async(r,e,t,n)=>{var p,d,x,v,b,y,w;const i=n.companyProfile,s=[];i&&n.includeMetadata&&s.push(new wr({children:[new hr({text:i.name,bold:!0,size:28,color:"3B82F6"})],alignment:kr.LEFT,spacing:{after:100}}));const a=[];if(i&&n.includeMetadata){let A=i.name;(p=i.contact)!=null&&p.phone&&(A+=` | Phone: ${i.contact.phone}`),(d=i.contact)!=null&&d.email&&(A+=` | Email: ${i.contact.email}`),(x=i.contact)!=null&&x.website&&(A+=` | Web: ${i.contact.website}`),a.push(new wr({children:[new hr({text:A,size:16,color:"6B7280"})],alignment:kr.CENTER,spacing:{before:100}}),new wr({children:[new hr({text:"Page ",size:16,color:"6B7280"}),new hr({children:[kf.CURRENT],size:16,color:"6B7280"})],alignment:kr.CENTER}))}else a.push(new wr({children:[new hr({text:"Page ",size:16,color:"6B7280"}),new hr({children:[kf.CURRENT],size:16,color:"6B7280"})],alignment:kr.CENTER}));const o=[];i&&n.includeMetadata&&(o.push(new wr({children:[new hr({text:"[COMPANY LOGO]",size:20,color:"3B82F6",bold:!0})],alignment:kr.LEFT,spacing:{after:200}})),o.push(new wr({children:[new hr({text:i.name,bold:!0,size:32,color:"1E40AF"})],alignment:kr.LEFT,spacing:{after:100}})),(v=i.address)!=null&&v.street&&o.push(new wr({children:[new hr({text:i.address.street,size:20,color:"6B7280"})],alignment:kr.LEFT})),(b=i.address)!=null&&b.city&&o.push(new wr({children:[new hr({text:`${i.address.city}, ${i.address.state} ${i.address.zipCode}`,size:20,color:"6B7280"})],alignment:kr.LEFT})),(y=i.contact)!=null&&y.phone&&o.push(new wr({children:[new hr({text:`Phone: ${i.contact.phone}`,size:20,color:"6B7280"})],alignment:kr.LEFT})),(w=i.contact)!=null&&w.email&&o.push(new wr({children:[new hr({text:`Email: ${i.contact.email}`,size:20,color:"6B7280"})],alignment:kr.LEFT,spacing:{after:400}})),o.push(new wr({children:[new hr({text:"________________________________________________________________________________________________",size:16,color:"3B82F6"})],spacing:{after:300}}))),o.push(new wr({children:[new hr({text:r,bold:!0,size:36,color:"1E40AF"})],alignment:kr.CENTER,spacing:{before:200,after:200}})),o.push(new wr({children:[new hr({text:`Prepared for: ${t}`,size:24,color:"374151",bold:!0})],alignment:kr.CENTER,spacing:{after:100}})),o.push(new wr({children:[new hr({text:`Date: ${new Date().toLocaleDateString()}`,size:20,color:"6B7280"})],alignment:kr.CENTER,spacing:{after:600}}));const l=e.split(`
`);for(const A of l){if(A.trim()===""){o.push(new wr({children:[new hr({text:""})]}));continue}if(A.startsWith("# "))o.push(new wr({children:[new hr({text:A.substring(2),bold:!0,size:32,color:"1E40AF"})],heading:B5.HEADING_1,spacing:{before:400,after:200}}));else if(A.startsWith("## "))o.push(new wr({children:[new hr({text:A.substring(3),bold:!0,size:28,color:"1E40AF"})],heading:B5.HEADING_2,spacing:{before:300,after:150}}));else if(A.startsWith("### "))o.push(new wr({children:[new hr({text:A.substring(4),bold:!0,size:24,color:"1E40AF"})],heading:B5.HEADING_3,spacing:{before:200,after:100}}));else if(A.startsWith("- ")||A.startsWith("• "))o.push(new wr({children:[new hr({text:`• ${A.substring(2)}`,size:22})],indent:{left:720},spacing:{after:100}}));else if(/^\d+\.\s/.test(A))o.push(new wr({children:[new hr({text:A,size:22})],indent:{left:720},spacing:{after:100}}));else if(A.includes("**")){const k=A.split("**"),M=[];for(let $=0;$<k.length;$++)$%2===0?k[$]&&M.push(new hr({text:k[$],size:22})):k[$]&&M.push(new hr({text:k[$],bold:!0,size:22}));o.push(new wr({children:M,spacing:{after:100}}))}else o.push(new wr({children:[new hr({text:A,size:22})],spacing:{after:100}}))}const u=new Sq({sections:[{properties:{page:{margin:{top:1440,right:1440,bottom:1440,left:1440}}},headers:{default:new Nq({children:s})},footers:{default:new Eq({children:a})},children:o}],numbering:{config:[{reference:"my-numbering",levels:[{level:0,format:IU.DECIMAL,text:"%1.",alignment:kr.START}]}]}}),h=await YI.toBuffer(u),f=new Blob([h],{type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"});$q.saveAs(f,`${iE(r)}.docx`)},tW=(r,e,t)=>{var i,s,a,o;let n="";return n+=`${r.name}
`,(i=r.address)!=null&&i.street&&(n+=`${r.address.street}
`),(s=r.address)!=null&&s.city&&(n+=`${r.address.city}, ${r.address.state} ${r.address.zipCode}
`),(a=r.contact)!=null&&a.phone&&(n+=`Phone: ${r.contact.phone}
`),(o=r.contact)!=null&&o.email&&(n+=`Email: ${r.contact.email}
`),n+=`
`,n+=`PROPOSAL: ${e}
`,n+=`CLIENT: ${t}
`,n+=`DATE: ${new Date().toLocaleDateString()}
`,n},rW=r=>{var t,n,i,s,a,o;let e=`

`+"=".repeat(80)+`
`;return e+=`CONTACT INFORMATION
`,e+="-".repeat(20)+`
`,(t=r.address)!=null&&t.street&&(e+=`Address: ${r.address.street}
`,e+=`         ${r.address.city}, ${r.address.state} ${r.address.zipCode}
`,e+=`         ${r.address.country}
`),(n=r.contact)!=null&&n.phone&&(e+=`Phone: ${r.contact.phone}
`),(i=r.contact)!=null&&i.email&&(e+=`Email: ${r.contact.email}
`),(s=r.contact)!=null&&s.website&&(e+=`Website: ${r.contact.website}
`),(a=r.business)!=null&&a.registration&&(e+=`Registration: ${r.business.registration}
`),(o=r.business)!=null&&o.taxId&&(e+=`Tax ID: ${r.business.taxId}
`),e},nW=(r,e)=>{const t=URL.createObjectURL(r),n=document.createElement("a");n.href=t,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t)},iE=r=>r.replace(/[^a-z0-9]/gi,"_").replace(/_+/g,"_").replace(/^_|_$/g,"").toLowerCase(),iW=async(r,e,t,n)=>{try{switch(n.method){case"email":await sW(r,e,t,n);break;case"link":await aW(r,e,t,n);break;case"copy":await oW(r,e,t,n);break;default:throw new Error("Unsupported share method")}}catch(i){throw console.error("Share failed:",i),new Error("Failed to share proposal. Please try again.")}},sW=async(r,e,t,n)=>{const i=encodeURIComponent(`Proposal: ${r}`),s=encodeURIComponent(n.includeContent?`Dear ${t},

Please find our proposal below:

${e}

Best regards,
SmartRFP AI Team`:`Dear ${t},

We have prepared a proposal for your review: "${r}"

Please let us know if you would like us to send the full details.

Best regards,
SmartRFP AI Team`),a=`mailto:?subject=${i}&body=${s}`;window.open(a)},aW=async(r,e,t,n)=>{const i={title:`Proposal: ${r}`,text:`Check out this proposal for ${t}`,url:window.location.href};navigator.share&&navigator.canShare(i)?await navigator.share(i):(await navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!"))},oW=async(r,e,t,n)=>{const i=n.includeContent?`PROPOSAL: ${r}
CLIENT: ${t}

${e}`:`Proposal: ${r} for ${t}`;await navigator.clipboard.writeText(i)},lW=({isOpen:r,onClose:e,title:t,content:n,client:i})=>{var b,y,w;const{user:s}=bm(),[a,o]=je.useState("pdf"),[l,u]=je.useState(!0),[h,f]=je.useState(!1),[p,d]=je.useState(!1);if(!r)return null;const x=async()=>{f(!0),d(!1);try{const A={format:a,includeMetadata:l,template:"standard",companyProfile:s==null?void 0:s.companyProfile};await Gq(t,n,i,A),d(!0),setTimeout(()=>{e(),d(!1)},2e3)}catch(A){console.error("Export failed:",A),alert("Export failed. Please try again.")}finally{f(!1)}},v=[{value:"pdf",label:"PDF Document",description:"Professional format with company branding",icon:GD,recommended:!0},{value:"docx",label:"Word Document",description:"Editable RTF format with headers/footers",icon:TD,recommended:!1},{value:"txt",label:"Text File",description:"Plain text with company information",icon:Cs,recommended:!1}];return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Export Proposal"}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:c.jsx(au,{className:"h-5 w-5"})})]}),p?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Dt,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),c.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Export Successful!"}),c.jsx("p",{className:"text-gray-600",children:"Your proposal has been downloaded with company branding."})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Choose Format"}),c.jsx("div",{className:"space-y-3",children:v.map(A=>{const k=A.icon;return c.jsxs("label",{className:`flex items-center p-3 border rounded-lg cursor-pointer transition-colors ${a===A.value?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300"}`,children:[c.jsx("input",{type:"radio",name:"format",value:A.value,checked:a===A.value,onChange:M=>o(M.target.value),className:"sr-only"}),c.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[c.jsx("div",{className:`p-2 rounded-lg ${a===A.value?"bg-primary-100":"bg-gray-100"}`,children:c.jsx(k,{className:`h-4 w-4 ${a===A.value?"text-primary-600":"text-gray-600"}`})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:"font-medium text-gray-900",children:A.label}),A.recommended&&c.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Recommended"})]}),c.jsx("div",{className:"text-sm text-gray-500",children:A.description})]})]})]},A.value)})})]}),c.jsx("div",{className:"mb-6",children:c.jsxs("label",{className:"flex items-center space-x-3",children:[c.jsx("input",{type:"checkbox",checked:l,onChange:A=>u(A.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Include company branding"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Add logo, address, and contact information"})]})]})}),(s==null?void 0:s.companyProfile)&&l&&c.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900 mb-2",children:"Company Information Preview:"}),c.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[c.jsx("div",{children:s.companyProfile.name}),((b=s.companyProfile.address)==null?void 0:b.street)&&c.jsx("div",{children:s.companyProfile.address.street}),((y=s.companyProfile.contact)==null?void 0:y.phone)&&c.jsxs("div",{children:["Phone: ",s.companyProfile.contact.phone]}),((w=s.companyProfile.contact)==null?void 0:w.email)&&c.jsxs("div",{children:["Email: ",s.companyProfile.contact.email]})]})]}),c.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[c.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),c.jsxs("button",{onClick:x,disabled:h,className:"bg-primary-500 text-white px-6 py-2 rounded-lg hover:bg-primary-600 transition-colors flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[h?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):c.jsx(_m,{className:"h-4 w-4"}),c.jsx("span",{children:h?"Exporting...":"Export"})]})]})]})]})})},cW=({isOpen:r,onClose:e,title:t,content:n,client:i})=>{const[s,a]=je.useState(!1),[o,l]=je.useState(!1),[u,h]=je.useState(null);if(!r)return null;const f=async d=>{l(!0),h(null);try{await iW(t,n,i,{method:d,includeContent:s});let v="";switch(d){case"email":v="Email client opened successfully!";break;case"link":v="Link shared successfully!";break;case"copy":v="Content copied to clipboard!";break}h(v),setTimeout(()=>{e(),h(null)},2e3)}catch(x){console.error("Share failed:",x),alert("Share failed. Please try again.")}finally{l(!1)}},p=[{method:"email",label:"Email",description:"Send via email client",icon:AN,color:"bg-blue-100 text-blue-600"},{method:"link",label:"Share Link",description:"Share current page link",icon:FD,color:"bg-green-100 text-green-600"},{method:"copy",label:"Copy Text",description:"Copy to clipboard",icon:Df,color:"bg-purple-100 text-purple-600"}];return c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Share Proposal"}),c.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:c.jsx(au,{className:"h-5 w-5"})})]}),u?c.jsxs("div",{className:"text-center py-8",children:[c.jsx(Dt,{className:"h-12 w-12 text-green-500 mx-auto mb-4"}),c.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Shared Successfully!"}),c.jsx("p",{className:"text-gray-600",children:u})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[c.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:t}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Client: ",i]})]}),c.jsxs("label",{className:"flex items-center space-x-3 mb-4",children:[c.jsx("input",{type:"checkbox",checked:s,onChange:d=>a(d.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),c.jsxs("div",{children:[c.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Include full content"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Share the complete proposal text"})]})]})]}),c.jsx("div",{className:"space-y-3",children:p.map(d=>{const x=d.icon;return c.jsxs("button",{onClick:()=>f(d.method),disabled:o,className:"w-full flex items-center space-x-3 p-3 border border-gray-200 rounded-lg hover:border-gray-300 hover:bg-gray-50 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[c.jsx("div",{className:`p-2 rounded-lg ${d.color}`,children:c.jsx(x,{className:"h-4 w-4"})}),c.jsxs("div",{className:"flex-1 text-left",children:[c.jsx("div",{className:"font-medium text-gray-900",children:d.label}),c.jsx("div",{className:"text-sm text-gray-500",children:d.description})]}),o&&c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-gray-300 border-t-primary-500"})]},d.method)})}),c.jsx("div",{className:"mt-6 flex justify-end",children:c.jsx("button",{onClick:e,className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"})})]})]})})},uW=()=>{const{id:r}=H7(),{getProposal:e,updateProposal:t}=wu(),n=wm(),[i,s]=je.useState(e(r||"")),[a,o]=je.useState(!1),[l,u]=je.useState((i==null?void 0:i.content)||""),[h,f]=je.useState(!1),[p,d]=je.useState(null),[x,v]=je.useState(!1),[b,y]=je.useState(!1);if(je.useEffect(()=>{i||n("/dashboard")},[i,n]),!i)return c.jsx("div",{className:"min-h-screen pt-16 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(Qw,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Proposal Not Found"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"The proposal you're looking for doesn't exist."}),c.jsx("button",{onClick:()=>n("/dashboard"),className:"bg-primary-500 text-white px-6 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:"Back to Dashboard"})]})});const w=async()=>{f(!0),await new Promise($=>setTimeout($,1e3)),t(i.id,{content:l}),d(new Date),f(!1)},A=$=>{t(i.id,{status:$}),s(H=>H?{...H,status:$}:null)},M=($=>{const H={draft:{color:"bg-gray-100 text-gray-700",label:"Draft"},"in-review":{color:"bg-blue-100 text-blue-700",label:"In Review"},submitted:{color:"bg-yellow-100 text-yellow-700",label:"Submitted"},won:{color:"bg-green-100 text-green-700",label:"Won"},lost:{color:"bg-red-100 text-red-700",label:"Lost"}};return H[$]||H.draft})(i.status);return c.jsx("div",{className:"min-h-screen pt-16 pb-12",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[c.jsx("button",{onClick:()=>n("/dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(AD,{className:"h-5 w-5 text-gray-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:i.title}),c.jsxs("p",{className:"text-gray-600",children:["Client: ",i.client]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${M.color}`,children:M.label}),c.jsxs("select",{value:i.status,onChange:$=>A($.target.value),className:"px-3 py-1 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"draft",children:"Draft"}),c.jsx("option",{value:"in-review",children:"In Review"}),c.jsx("option",{value:"submitted",children:"Submitted"}),c.jsx("option",{value:"won",children:"Won"}),c.jsx("option",{value:"lost",children:"Lost"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-4 border border-gray-200/50",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(ry,{className:"h-4 w-4 text-gray-500"}),c.jsx("span",{className:"text-sm text-gray-600",children:"Deadline"})]}),c.jsx("div",{className:"font-semibold text-gray-900 mt-1",children:i.deadline||"Not set"})]}),i.value&&c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-4 border border-gray-200/50",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(om,{className:"h-4 w-4 text-gray-500"}),c.jsx("span",{className:"text-sm text-gray-600",children:"Value"})]}),c.jsxs("div",{className:"font-semibold text-gray-900 mt-1",children:["₹",(i.value/1e5).toFixed(1),"L"]})]}),i.probability&&c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-4 border border-gray-200/50",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(hd,{className:"h-4 w-4 text-gray-500"}),c.jsx("span",{className:"text-sm text-gray-600",children:"Win Probability"})]}),c.jsxs("div",{className:"font-semibold text-gray-900 mt-1",children:[i.probability,"%"]})]}),c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-4 border border-gray-200/50",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Cs,{className:"h-4 w-4 text-gray-500"}),c.jsx("span",{className:"text-sm text-gray-600",children:"Last Updated"})]}),c.jsx("div",{className:"font-semibold text-gray-900 mt-1",children:i.updatedAt})]})]}),c.jsxs("div",{className:"flex items-center justify-between bg-white/80 backdrop-blur-sm rounded-lg p-4 border border-gray-200/50",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("button",{onClick:()=>o(!a),className:`flex items-center space-x-2 px-4 py-2 rounded-lg font-medium transition-colors ${a?"bg-gray-100 text-gray-700":"bg-primary-100 text-primary-700 hover:bg-primary-200"}`,children:[a?c.jsx(nd,{className:"h-4 w-4"}):c.jsx(id,{className:"h-4 w-4"}),c.jsx("span",{children:a?"Preview":"Edit"})]}),p&&c.jsxs("div",{className:"flex items-center space-x-1 text-sm text-green-600",children:[c.jsx(Dt,{className:"h-4 w-4"}),c.jsxs("span",{children:["Saved at ",p.toLocaleTimeString()]})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("button",{onClick:w,disabled:h,className:"flex items-center space-x-2 bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors disabled:opacity-50",children:[h?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):c.jsx(Mf,{className:"h-4 w-4"}),c.jsx("span",{children:h?"Saving...":"Save"})]}),c.jsxs("button",{onClick:()=>v(!0),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors",children:[c.jsx(_m,{className:"h-4 w-4"}),c.jsx("span",{children:"Export"})]}),c.jsxs("button",{onClick:()=>y(!0),className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors",children:[c.jsx(KD,{className:"h-4 w-4"}),c.jsx("span",{children:"Share"})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[c.jsx("div",{className:"lg:col-span-3",children:c.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-8",children:a?c.jsxs("div",{children:[c.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Edit Proposal Content"}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[c.jsx(Ua,{className:"h-4 w-4"}),c.jsx("span",{children:"AI-Enhanced Editor"})]})]}),c.jsx("textarea",{value:l,onChange:$=>u($.target.value),className:"w-full h-[600px] p-4 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 font-mono text-sm",placeholder:"Write your proposal content here..."})]}):c.jsxs("div",{children:[c.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Proposal Preview"}),c.jsxs("div",{className:"text-sm text-gray-500",children:[l.length," characters"]})]}),c.jsx("div",{className:"prose prose-lg max-w-none",children:c.jsx("div",{className:"whitespace-pre-wrap text-gray-900 leading-relaxed",style:{whiteSpace:"pre-wrap"},children:l||"No content available. Click Edit to add content."})})]})})}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-gradient-to-br from-primary-50 to-secondary-50 rounded-lg p-6 border border-primary-200/50",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[c.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:c.jsx(ny,{className:"h-5 w-5 text-primary-600"})}),c.jsx("h3",{className:"font-semibold text-gray-900",children:"AI Suggestions"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"p-3 bg-white/70 rounded-lg",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900 mb-1",children:"Strengthen Technical Approach"}),c.jsx("div",{className:"text-xs text-gray-600",children:"Add more specific technology details to increase credibility"})]}),c.jsxs("div",{className:"p-3 bg-white/70 rounded-lg",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900 mb-1",children:"Include Success Metrics"}),c.jsx("div",{className:"text-xs text-gray-600",children:"Add measurable outcomes and KPIs to demonstrate value"})]}),c.jsxs("div",{className:"p-3 bg-white/70 rounded-lg",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900 mb-1",children:"Case Study Reference"}),c.jsx("div",{className:"text-xs text-gray-600",children:"Include a relevant past project example"})]})]})]}),c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 shadow-sm border border-gray-200/50",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Quick Actions"}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("button",{className:"w-full text-left p-3 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:[c.jsx("div",{className:"font-medium text-gray-900",children:"Regenerate Section"}),c.jsx("div",{className:"text-xs text-gray-500",children:"AI regenerate specific sections"})]}),c.jsxs("button",{className:"w-full text-left p-3 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:[c.jsx("div",{className:"font-medium text-gray-900",children:"Check Grammar"}),c.jsx("div",{className:"text-xs text-gray-500",children:"AI-powered grammar check"})]}),c.jsxs("button",{className:"w-full text-left p-3 rounded-lg hover:bg-gray-50 transition-colors text-sm",children:[c.jsx("div",{className:"font-medium text-gray-900",children:"Optimize for Keywords"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Enhance SEO and relevance"})]})]})]}),c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 shadow-sm border border-gray-200/50",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Version History"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Current Version"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Today, 2:30 PM"})]}),c.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Latest"})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:"Initial Draft"}),c.jsx("div",{className:"text-xs text-gray-500",children:"Yesterday, 4:15 PM"})]}),c.jsx("button",{className:"text-xs text-primary-600 hover:text-primary-700",children:"Restore"})]})]})]})]})]}),c.jsx(lW,{isOpen:x,onClose:()=>v(!1),title:i.title,content:l,client:i.client}),c.jsx(cW,{isOpen:b,onClose:()=>y(!1),title:i.title,content:l,client:i.client})]})})},hW=()=>{const{templates:r,addTemplate:e,addProposal:t}=wu(),n=wm(),[i,s]=je.useState(""),[a,o]=je.useState("all"),[l,u]=je.useState("grid"),[h,f]=je.useState(!1),[p,d]=je.useState(!1),[x,v]=je.useState(!1),[b,y]=je.useState(null),[w,A]=je.useState(null),[k,M]=je.useState({name:"",category:"",description:"",content:""}),$=["all","Web Development","Mobile Development","Cloud Services","E-commerce","Enterprise Software","UI/UX Design","System Integration"],H=r.filter(K=>{const he=K.name.toLowerCase().includes(i.toLowerCase())||K.description.toLowerCase().includes(i.toLowerCase()),le=a==="all"||K.category===a;return he&&le}),q=[{id:"featured-1",name:"AI-Powered E-commerce Solution",category:"E-commerce",description:"Complete e-commerce platform with AI recommendations, payment integration, and analytics dashboard",content:`# AI-Powered E-commerce Solution

## Executive Summary
We propose to develop a cutting-edge e-commerce platform that leverages artificial intelligence to enhance user experience and drive sales growth.

## Key Features
- AI-powered product recommendations
- Advanced search and filtering
- Secure payment gateway integration
- Real-time inventory management
- Comprehensive analytics dashboard
- Mobile-responsive design

## Technical Approach
- Frontend: React.js with Next.js
- Backend: Node.js with Express
- Database: PostgreSQL with Redis caching
- AI/ML: TensorFlow for recommendation engine
- Payment: Stripe and Razorpay integration
- Cloud: AWS deployment with auto-scaling

## Timeline
- Phase 1: Planning & Design (2 weeks)
- Phase 2: Core Development (8 weeks)
- Phase 3: AI Integration (4 weeks)
- Phase 4: Testing & Deployment (2 weeks)

## Investment
Total Project Cost: ₹25-45 Lakhs
Payment Terms: 30% advance, 40% on milestones, 30% on delivery`,isDefault:!1,features:["AI Recommendations","Payment Gateway","Analytics","Mobile Responsive"],estimatedValue:"₹25-45L",winRate:"75%"},{id:"featured-2",name:"Enterprise Digital Transformation",category:"System Integration",description:"Comprehensive digital transformation solution with cloud migration, process automation, and data analytics",content:`# Enterprise Digital Transformation

## Executive Summary
Transform your enterprise operations with our comprehensive digital transformation solution.

## Solution Components
- Legacy system modernization
- Cloud migration strategy
- Process automation
- Data analytics platform
- Employee training programs

## Technical Architecture
- Microservices architecture
- API-first design
- Cloud-native deployment
- DevOps implementation
- Security compliance

## Implementation Phases
- Phase 1: Assessment & Strategy (3 weeks)
- Phase 2: Infrastructure Setup (6 weeks)
- Phase 3: Application Migration (12 weeks)
- Phase 4: Training & Go-live (4 weeks)

## Investment
Total Project Cost: ₹50-100 Lakhs
ROI Expected: 200% within 18 months`,isDefault:!1,features:["Cloud Migration","Process Automation","Data Analytics","Security Compliance"],estimatedValue:"₹50-100L",winRate:"68%"},{id:"featured-3",name:"ERP Implementation & Integration",category:"System Integration",description:"End-to-end ERP implementation with system integration, data migration, and process optimization",content:`# ERP Implementation & Integration

## Executive Summary
Streamline your business operations with our comprehensive ERP implementation and integration services.

## ERP Solutions
- SAP S/4HANA implementation
- Oracle ERP Cloud
- Microsoft Dynamics 365
- Custom ERP development

## Integration Services
- Third-party system integration
- Data migration and cleansing
- Business process optimization
- Custom workflow development

## Implementation Methodology
- Phase 1: Business Analysis (4 weeks)
- Phase 2: System Configuration (8 weeks)
- Phase 3: Data Migration (6 weeks)
- Phase 4: Testing & Training (4 weeks)
- Phase 5: Go-live Support (2 weeks)

## Investment
Total Project Cost: ₹75-150 Lakhs
Implementation Timeline: 6-8 months`,isDefault:!1,features:["ERP Implementation","System Integration","Data Migration","Process Optimization"],estimatedValue:"₹75-150L",winRate:"72%"}],D=K=>{const he=t({title:`${K.name} - New Proposal`,client:"",status:"draft",content:K.content});n(`/proposal/${he}`)},se=K=>{y(K),d(!0)},z=K=>{y(K),M({name:K.name,category:K.category,description:K.description,content:K.content}),v(!0)},R=async K=>{try{await navigator.clipboard.writeText(K.content),A(K.id),setTimeout(()=>A(null),2e3)}catch(he){console.error("Failed to copy template:",he),alert("Failed to copy template content")}},V=()=>{k.name&&k.category&&k.content&&(e({name:k.name,category:k.category,description:k.description,content:k.content,isDefault:!1}),M({name:"",category:"",description:"",content:""}),f(!1))},T=()=>{k.name&&k.category&&k.content&&(e({name:`${k.name} (Updated)`,category:k.category,description:k.description,content:k.content,isDefault:!1}),v(!1),y(null))};return c.jsx("div",{className:"min-h-screen pt-16 pb-12",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Proposal Templates"}),c.jsx("p",{className:"text-gray-600",children:"Browse and customize proven proposal templates to win more business"})]}),c.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-6 mb-8",children:c.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:[c.jsxs("div",{className:"flex-1 flex items-center space-x-4",children:[c.jsxs("div",{className:"relative flex-1 max-w-md",children:[c.jsx(_N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search templates...",value:i,onChange:K=>s(K.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(jD,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("select",{value:a,onChange:K=>o(K.target.value),className:"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 appearance-none bg-white",children:$.map(K=>c.jsx("option",{value:K,children:K==="all"?"All Categories":K},K))})]})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("div",{className:"flex items-center space-x-1 bg-gray-100 rounded-lg p-1",children:[c.jsx("button",{onClick:()=>u("grid"),className:`p-2 rounded-md transition-colors ${l==="grid"?"bg-white shadow-sm text-primary-600":"text-gray-500"}`,children:c.jsx(PD,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>u("list"),className:`p-2 rounded-md transition-colors ${l==="list"?"bg-white shadow-sm text-primary-600":"text-gray-500"}`,children:c.jsx(DD,{className:"h-4 w-4"})})]}),c.jsxs("button",{onClick:()=>f(!0),className:"bg-gradient-to-r from-primary-500 to-secondary-500 text-white px-4 py-2 rounded-lg font-medium hover:from-primary-600 hover:to-secondary-600 transition-all duration-200 flex items-center space-x-2",children:[c.jsx(Rl,{className:"h-4 w-4"}),c.jsx("span",{children:"Create Template"})]})]})]})}),c.jsxs("div",{className:"mb-8",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-6",children:[c.jsx("div",{className:"p-2 bg-gradient-to-r from-primary-100 to-secondary-100 rounded-lg",children:c.jsx(ny,{className:"h-5 w-5 text-primary-600"})}),c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Featured Templates"}),c.jsx("span",{className:"text-sm text-gray-500",children:"High-performing templates"})]}),c.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:q.map(K=>c.jsxs("div",{className:"bg-gradient-to-br from-white to-primary-50/30 rounded-lg p-6 border border-primary-200/50 shadow-sm hover:shadow-lg transition-all duration-300",children:[c.jsx("div",{className:"flex items-start justify-between mb-4",children:c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:K.name}),c.jsx(NN,{className:"h-4 w-4 text-yellow-400 fill-current"})]}),c.jsx("p",{className:"text-gray-600 text-sm mb-3",children:K.description}),c.jsx("span",{className:"inline-block px-2 py-1 bg-primary-100 text-primary-700 text-xs font-medium rounded-full",children:K.category})]})}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Estimated Value"}),c.jsx("div",{className:"font-semibold text-gray-900",children:K.estimatedValue})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Win Rate"}),c.jsx("div",{className:"font-semibold text-green-600",children:K.winRate})]})]}),c.jsxs("div",{className:"mb-4",children:[c.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Key Features"}),c.jsx("div",{className:"flex flex-wrap gap-1",children:K.features.map((he,le)=>c.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:he},le))})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("button",{onClick:()=>D(K),className:"flex-1 bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors text-sm font-medium",children:"Use Template"}),c.jsx("button",{onClick:()=>se(K),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(nd,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>R(K),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors relative",children:w===K.id?c.jsx(Dt,{className:"h-4 w-4 text-green-500"}):c.jsx(Df,{className:"h-4 w-4"})})]})]},K.id))})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"All Templates"}),c.jsxs("div",{className:"text-sm text-gray-500",children:[H.length," template",H.length!==1?"s":""," found"]})]}),l==="grid"?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:H.map(K=>c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 shadow-sm border border-gray-200/50 hover:shadow-lg transition-all duration-300 group",children:[c.jsxs("div",{className:"flex items-start justify-between mb-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2 group-hover:text-primary-600 transition-colors",children:K.name}),c.jsx("p",{className:"text-gray-600 text-sm mb-3",children:K.description}),c.jsx("span",{className:"inline-block px-2 py-1 bg-gray-100 text-gray-700 text-xs font-medium rounded-full",children:K.category})]}),K.isDefault&&c.jsx("div",{className:"ml-2",children:c.jsx("span",{className:"inline-block px-2 py-1 bg-primary-100 text-primary-700 text-xs font-medium rounded-full",children:"Default"})})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("button",{onClick:()=>D(K),className:"flex-1 bg-primary-50 text-primary-600 px-3 py-2 rounded-lg hover:bg-primary-100 transition-colors text-sm font-medium flex items-center justify-center space-x-1",children:[c.jsx("span",{children:"Use Template"}),c.jsx(Yg,{className:"h-3 w-3"})]}),c.jsx("button",{onClick:()=>se(K),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(nd,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>R(K),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors relative",children:w===K.id?c.jsx(Dt,{className:"h-4 w-4 text-green-500"}):c.jsx(Df,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>z(K),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(id,{className:"h-4 w-4"})})]})]},K.id))}):c.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 overflow-hidden",children:c.jsx("div",{className:"divide-y divide-gray-200",children:H.map(K=>c.jsx("div",{className:"p-6 hover:bg-gray-50/50 transition-colors",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[c.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:c.jsx(Cs,{className:"h-4 w-4 text-gray-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:K.name}),c.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[c.jsx("span",{children:K.category}),K.isDefault&&c.jsx("span",{className:"px-2 py-1 bg-primary-100 text-primary-700 rounded-full text-xs font-medium",children:"Default"})]})]})]}),c.jsx("p",{className:"text-gray-600 ml-11",children:K.description})]}),c.jsxs("div",{className:"flex items-center space-x-3 ml-6",children:[c.jsx("button",{onClick:()=>D(K),className:"bg-primary-50 text-primary-600 px-4 py-2 rounded-lg hover:bg-primary-100 transition-colors text-sm font-medium",children:"Use Template"}),c.jsx("button",{onClick:()=>se(K),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(nd,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>R(K),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors relative",children:w===K.id?c.jsx(Dt,{className:"h-4 w-4 text-green-500"}):c.jsx(Df,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>z(K),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(id,{className:"h-4 w-4"})})]})]})},K.id))})})]}),H.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(Cs,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No templates found"}),c.jsx("p",{className:"text-gray-600",children:"Try adjusting your search or filters, or create a new template."})]}),h&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create New Template"}),c.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:c.jsx(au,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Template Name"}),c.jsx("input",{type:"text",value:k.name,onChange:K=>M(he=>({...he,name:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., Web Development Standard"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),c.jsxs("select",{value:k.category,onChange:K=>M(he=>({...he,category:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"",children:"Select category"}),$.slice(1).map(K=>c.jsx("option",{value:K,children:K},K))]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),c.jsx("textarea",{value:k.description,onChange:K=>M(he=>({...he,description:K.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Brief description of the template..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Template Content"}),c.jsx("textarea",{value:k.content,onChange:K=>M(he=>({...he,content:K.target.value})),rows:12,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 font-mono text-sm",placeholder:"Enter the template content here..."})]})]}),c.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>f(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),c.jsxs("button",{onClick:V,className:"bg-primary-500 text-white px-6 py-2 rounded-lg hover:bg-primary-600 transition-colors flex items-center space-x-2",children:[c.jsx(Mf,{className:"h-4 w-4"}),c.jsx("span",{children:"Create Template"})]})]})]})}),p&&b&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-lg max-w-4xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:b.name}),c.jsx("p",{className:"text-gray-600",children:b.description})]}),c.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:c.jsx(au,{className:"h-5 w-5"})})]}),c.jsx("div",{className:"bg-gray-50 rounded-lg p-6",children:c.jsx("div",{className:"prose prose-sm max-w-none",children:c.jsx("div",{className:"whitespace-pre-wrap text-gray-900 leading-relaxed",children:b.content})})}),c.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>d(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Close"}),c.jsx("button",{onClick:()=>D(b),className:"bg-primary-500 text-white px-6 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:"Use This Template"})]})]})}),x&&b&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Edit Template"}),c.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-gray-600 transition-colors",children:c.jsx(au,{className:"h-5 w-5"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Template Name"}),c.jsx("input",{type:"text",value:k.name,onChange:K=>M(he=>({...he,name:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),c.jsx("select",{value:k.category,onChange:K=>M(he=>({...he,category:K.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:$.slice(1).map(K=>c.jsx("option",{value:K,children:K},K))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),c.jsx("textarea",{value:k.description,onChange:K=>M(he=>({...he,description:K.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Template Content"}),c.jsx("textarea",{value:k.content,onChange:K=>M(he=>({...he,content:K.target.value})),rows:12,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 font-mono text-sm"})]})]}),c.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>v(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),c.jsxs("button",{onClick:T,className:"bg-primary-500 text-white px-6 py-2 rounded-lg hover:bg-primary-600 transition-colors flex items-center space-x-2",children:[c.jsx(Mf,{className:"h-4 w-4"}),c.jsx("span",{children:"Save Changes"})]})]})]})})]})})},dW=()=>{const{proposals:r}=wu(),[e,t]=je.useState("3-months"),n=r.length,i=r.filter(d=>d.status==="won").length,s=n?Math.round(i/n*100):0,a=r.reduce((d,x)=>d+(x.value||0),0),o=r.filter(d=>d.status==="won").reduce((d,x)=>d+(x.value||0),0),l=2.8,u=n?a/n:0,h=[{title:"Total Proposals",value:n,change:"+12%",trend:"up",icon:Am,color:"blue"},{title:"Win Rate",value:`${s}%`,change:"+8%",trend:"up",icon:hd,color:"green"},{title:"Total Pipeline Value",value:`₹${(a/1e7).toFixed(1)}Cr`,change:"+15%",trend:"up",icon:om,color:"purple"},{title:"Avg Response Time",value:`${l} days`,change:"-0.5 days",trend:"up",icon:ry,color:"orange"}],f=[{name:"Web Development",proposals:8,value:125e5,winRate:75},{name:"Mobile Development",proposals:5,value:8e6,winRate:60},{name:"Cloud Services",proposals:4,value:15e6,winRate:80},{name:"E-commerce",proposals:3,value:6e6,winRate:67},{name:"Enterprise Software",proposals:2,value:85e5,winRate:50}],p=[{month:"Jan",proposals:12,won:8,value:15e6},{month:"Feb",proposals:15,won:10,value:18e6},{month:"Mar",proposals:18,won:14,value:22e6},{month:"Apr",proposals:22,won:16,value:25e6},{month:"May",proposals:20,won:15,value:28e6},{month:"Jun",proposals:25,won:19,value:32e6}];return c.jsx("div",{className:"min-h-screen pt-16 pb-12",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Analytics Dashboard"}),c.jsx("p",{className:"text-gray-600",children:"Track your proposal performance and identify growth opportunities"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx(Jw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsxs("select",{value:e,onChange:d=>t(d.target.value),className:"pl-10 pr-8 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 appearance-none bg-white",children:[c.jsx("option",{value:"1-month",children:"Last Month"}),c.jsx("option",{value:"3-months",children:"Last 3 Months"}),c.jsx("option",{value:"6-months",children:"Last 6 Months"}),c.jsx("option",{value:"1-year",children:"Last Year"})]}),c.jsx(CD,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]}),c.jsxs("button",{className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-100 transition-colors",children:[c.jsx(_m,{className:"h-4 w-4"}),c.jsx("span",{children:"Export"})]})]})]})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:h.map((d,x)=>{const v=d.icon;return c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 shadow-sm border border-gray-200/50",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("div",{className:`p-2 rounded-lg bg-${d.color}-100`,children:c.jsx(v,{className:`h-5 w-5 text-${d.color}-600`})}),c.jsxs("div",{className:`flex items-center space-x-1 text-sm font-medium ${d.trend==="up"?"text-green-600":"text-red-600"}`,children:[d.trend==="up"?c.jsx(_D,{className:"h-4 w-4"}):c.jsx(bD,{className:"h-4 w-4"}),c.jsx("span",{children:d.change})]})]}),c.jsx("div",{className:"text-2xl font-bold text-gray-900 mb-1",children:d.value}),c.jsx("div",{className:"text-sm text-gray-500",children:d.title})]},x)})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[c.jsxs("div",{className:"lg:col-span-2 bg-white/80 backdrop-blur-sm rounded-lg p-6 shadow-sm border border-gray-200/50",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Proposal Trends"}),c.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-3 h-3 bg-primary-500 rounded-full"}),c.jsx("span",{className:"text-gray-600",children:"Submitted"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),c.jsx("span",{className:"text-gray-600",children:"Won"})]})]})]}),c.jsx("div",{className:"space-y-4",children:p.map((d,x)=>c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("div",{className:"w-12 text-sm font-medium text-gray-600",children:d.month}),c.jsxs("div",{className:"flex-1 flex items-center space-x-2",children:[c.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-3 relative",children:c.jsx("div",{className:"bg-primary-500 h-3 rounded-full relative",style:{width:`${d.proposals/25*100}%`},children:c.jsx("div",{className:"bg-green-500 h-3 rounded-full absolute top-0 left-0",style:{width:`${d.won/d.proposals*100}%`}})})}),c.jsxs("div",{className:"text-sm text-gray-600 w-16",children:[d.proposals," total"]})]}),c.jsxs("div",{className:"text-sm font-medium text-green-600 w-20",children:[d.won," won"]}),c.jsxs("div",{className:"text-sm text-gray-600 w-24",children:["₹",(d.value/1e7).toFixed(1),"Cr"]})]},x))})]}),c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 shadow-sm border border-gray-200/50",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Win Rate by Category"}),c.jsx("div",{className:"space-y-4",children:f.map((d,x)=>c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"font-medium text-gray-900",children:d.name}),c.jsxs("span",{className:"text-gray-600",children:[d.winRate,"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-secondary-500 h-2 rounded-full transition-all duration-300",style:{width:`${d.winRate}%`}})}),c.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[c.jsxs("span",{children:[d.proposals," proposals"]}),c.jsxs("span",{children:["₹",(d.value/1e7).toFixed(1),"Cr value"]})]})]},x))})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 shadow-sm border border-gray-200/50",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Performance Insights"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("div",{className:"p-1 bg-green-100 rounded-full",children:c.jsx(EN,{className:"h-4 w-4 text-green-600"})}),c.jsx("span",{className:"font-medium text-green-800",children:"Strong Performance"})]}),c.jsx("p",{className:"text-sm text-green-700",children:"Your win rate has increased by 8% this quarter. Cloud Services category is performing exceptionally well."})]}),c.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("div",{className:"p-1 bg-blue-100 rounded-full",children:c.jsx(hd,{className:"h-4 w-4 text-blue-600"})}),c.jsx("span",{className:"font-medium text-blue-800",children:"Opportunity"})]}),c.jsx("p",{className:"text-sm text-blue-700",children:"Consider focusing more on Enterprise Software category where you have a 50% win rate with high-value deals."})]}),c.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg border border-purple-200",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx("div",{className:"p-1 bg-purple-100 rounded-full",children:c.jsx(SD,{className:"h-4 w-4 text-purple-600"})}),c.jsx("span",{className:"font-medium text-purple-800",children:"Achievement"})]}),c.jsx("p",{className:"text-sm text-purple-700",children:"You've reduced your average response time by 0.5 days, giving you a competitive advantage."})]})]})]}),c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg p-6 shadow-sm border border-gray-200/50",children:[c.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Key Metrics Summary"}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Pipeline Health"}),c.jsx("span",{className:"text-sm font-semibold text-green-600",children:"Excellent"})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"85%"}})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Conversion Rate"}),c.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:[s,"%"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${s}%`}})})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Avg Deal Size"}),c.jsxs("span",{className:"text-sm font-semibold text-purple-600",children:["₹",(u/1e6).toFixed(1),"L"]})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:c.jsx("div",{className:"bg-purple-500 h-2 rounded-full",style:{width:"70%"}})})]}),c.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[c.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Top performing month"}),c.jsx("div",{className:"text-lg font-semibold text-gray-900",children:"June 2024"}),c.jsx("div",{className:"text-sm text-gray-500",children:"25 proposals, 76% win rate"})]}),c.jsxs("div",{className:"pt-2",children:[c.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Revenue generated"}),c.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:["₹",(o/1e7).toFixed(1)," Crores"]}),c.jsxs("div",{className:"text-sm text-gray-500",children:["From ",i," won proposals"]})]})]})]})]})]})})},fW=({currentLogo:r,onLogoChange:e,className:t=""})=>{const[n,i]=je.useState(!1),[s,a]=je.useState(null),[o,l]=je.useState(r||null),u=je.useRef(null),h=async x=>{if(a(null),!x.type.startsWith("image/")){a("Please select a valid image file.");return}if(x.size>2*1024*1024){a("Image size must be less than 2MB.");return}i(!0);try{const v=new FileReader;v.onload=b=>{var w;const y=(w=b.target)==null?void 0:w.result;l(y),e(y)},v.readAsDataURL(x),await new Promise(b=>setTimeout(b,1e3))}catch{a("Failed to upload logo. Please try again.")}finally{i(!1)}},f=x=>{x.preventDefault();const b=Array.from(x.dataTransfer.files).find(y=>y.type.startsWith("image/"));b?h(b):a("Please drop an image file.")},p=x=>{var b;const v=(b=x.target.files)==null?void 0:b[0];v&&h(v)},d=()=>{l(null),e(""),u.current&&(u.current.value="")};return c.jsxs("div",{className:t,children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Logo"}),o?c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-32 h-32 border-2 border-gray-200 rounded-lg overflow-hidden bg-white",children:c.jsx("img",{src:o,alt:"Company Logo",className:"w-full h-full object-contain"})}),c.jsx("button",{onClick:d,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:c.jsx(au,{className:"h-3 w-3"})}),c.jsxs("div",{className:"mt-2 text-sm text-green-600 flex items-center space-x-1",children:[c.jsx(Dt,{className:"h-4 w-4"}),c.jsx("span",{children:"Logo uploaded successfully"})]})]}):c.jsxs("div",{className:"w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg flex flex-col items-center justify-center cursor-pointer hover:border-primary-400 hover:bg-primary-50 transition-colors",onDrop:f,onDragOver:x=>x.preventDefault(),onClick:()=>{var x;return(x=u.current)==null?void 0:x.click()},children:[c.jsx("input",{ref:u,type:"file",accept:"image/*",onChange:p,className:"hidden"}),n?c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-2 border-primary-500 border-t-transparent mx-auto mb-2"}),c.jsx("span",{className:"text-xs text-gray-500",children:"Uploading..."})]}):c.jsxs("div",{className:"text-center",children:[c.jsx(LD,{className:"h-6 w-6 text-gray-400 mx-auto mb-2"}),c.jsx("span",{className:"text-xs text-gray-500",children:"Click or drag logo"})]})]}),s&&c.jsxs("div",{className:"mt-2 text-sm text-red-600 flex items-center space-x-1",children:[c.jsx(Qw,{className:"h-4 w-4"}),c.jsx("span",{children:s})]}),c.jsx("div",{className:"mt-2 text-xs text-gray-500",children:"Recommended: 200x200px, PNG or JPG, max 2MB"})]})},pW=()=>{const{user:r,updateUser:e,updateCompanyProfile:t,refreshUser:n}=bm(),[i,s]=je.useState("profile"),[a,o]=je.useState(!1),[l,u]=je.useState(""),[h,f]=je.useState({name:"",email:"",company:"",role:"",phone:"",location:"",website:"",bio:""}),[p,d]=je.useState({name:"",logo:"",address:{street:"",city:"",state:"",zipCode:"",country:"India"},contact:{phone:"",email:"",website:"",fax:""},business:{industry:"Software Development",founded:"",employees:"",registration:"",taxId:""},social:{linkedin:"",twitter:"",facebook:""}}),[x,v]=je.useState({emailNotifications:!0,pushNotifications:!0,proposalUpdates:!0,weeklyReports:!1,marketingEmails:!1}),[b,y]=je.useState({theme:"light",language:"en",timezone:"Asia/Kolkata",currency:"INR"});je.useEffect(()=>{var z,R,V,T,K,he,le,me,pe,be,ge,C,B,G,ae,J,L;console.log("Loading user data into form:",r),r&&(f({name:r.name||"",email:r.email||"",company:r.company||"",role:r.role||"",phone:r.phone||"",location:r.location||"",website:r.website||"",bio:r.bio||""}),r.companyProfile&&d({name:r.companyProfile.name||"",logo:r.companyProfile.logo||"",address:{street:((z=r.companyProfile.address)==null?void 0:z.street)||"",city:((R=r.companyProfile.address)==null?void 0:R.city)||"",state:((V=r.companyProfile.address)==null?void 0:V.state)||"",zipCode:((T=r.companyProfile.address)==null?void 0:T.zipCode)||"",country:((K=r.companyProfile.address)==null?void 0:K.country)||"India"},contact:{phone:((he=r.companyProfile.contact)==null?void 0:he.phone)||"",email:((le=r.companyProfile.contact)==null?void 0:le.email)||"",website:((me=r.companyProfile.contact)==null?void 0:me.website)||"",fax:((pe=r.companyProfile.contact)==null?void 0:pe.fax)||""},business:{industry:((be=r.companyProfile.business)==null?void 0:be.industry)||"Software Development",founded:((ge=r.companyProfile.business)==null?void 0:ge.founded)||"",employees:((C=r.companyProfile.business)==null?void 0:C.employees)||"",registration:((B=r.companyProfile.business)==null?void 0:B.registration)||"",taxId:((G=r.companyProfile.business)==null?void 0:G.taxId)||""},social:{linkedin:((ae=r.companyProfile.social)==null?void 0:ae.linkedin)||"",twitter:((J=r.companyProfile.social)==null?void 0:J.twitter)||"",facebook:((L=r.companyProfile.social)==null?void 0:L.facebook)||""}}))},[r]);const w=z=>{const{name:R,value:V}=z.target;f(T=>({...T,[R]:V}))},A=z=>{const{name:R,value:V}=z.target,[T,K]=R.split(".");d(T&&K?he=>({...he,[T]:{...he[T],[K]:V}}):he=>({...he,[R]:V}))},k=async()=>{o(!0),u("");try{console.log("Saving profile data:",h),await new Promise(z=>setTimeout(z,1e3)),e(h),setTimeout(()=>{n(),u("Profile updated successfully!"),setTimeout(()=>u(""),3e3)},500)}catch(z){u("Error saving profile. Please try again."),console.error("Save error:",z)}finally{o(!1)}},M=async()=>{o(!0),u("");try{console.log("Saving company data:",p),await new Promise(z=>setTimeout(z,1e3)),t(p),setTimeout(()=>{n(),u("Company profile updated successfully!"),setTimeout(()=>u(""),3e3)},500)}catch(z){u("Error saving company profile. Please try again."),console.error("Save error:",z)}finally{o(!1)}},$=z=>{v(R=>({...R,[z]:!R[z]}))},H=z=>{const{name:R,value:V}=z.target;y(T=>({...T,[R]:V}))},q=z=>{d(R=>({...R,logo:z}))},D=()=>{n(),u("Data refreshed from storage!"),setTimeout(()=>u(""),2e3)},se=[{id:"profile",label:"Profile",icon:tw},{id:"company",label:"Company",icon:UA},{id:"notifications",label:"Notifications",icon:ND},{id:"preferences",label:"Preferences",icon:HD},{id:"security",label:"Security",icon:lm},{id:"billing",label:"Billing",icon:ik}];return c.jsx("div",{className:"min-h-screen pt-16 pb-12",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Settings"}),c.jsx("p",{className:"text-gray-600",children:"Manage your account settings and company profile"})]}),c.jsxs("button",{onClick:D,className:"flex items-center space-x-2 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:[c.jsx(HA,{className:"h-4 w-4"}),c.jsx("span",{children:"Refresh Data"})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[c.jsx("div",{className:"lg:col-span-1",children:c.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-4",children:c.jsx("nav",{className:"space-y-1",children:se.map(z=>{const R=z.icon;return c.jsxs("button",{onClick:()=>s(z.id),className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors ${i===z.id?"bg-primary-50 text-primary-700 border border-primary-200":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[c.jsx(R,{className:"h-5 w-5"}),c.jsx("span",{className:"font-medium",children:z.label})]},z.id)})})})}),c.jsx("div",{className:"lg:col-span-3",children:c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-8",children:[i==="profile"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Profile Information"}),l&&c.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center space-x-2 ${l.includes("Error")?"bg-red-50 border border-red-200 text-red-700":"bg-green-50 border border-green-200 text-green-700"}`,children:[l.includes("Error")?c.jsx(su,{className:"h-5 w-5"}):c.jsx(Dt,{className:"h-5 w-5"}),c.jsx("span",{children:l})]}),c.jsxs("div",{className:"flex items-center space-x-6 mb-8",children:[c.jsxs("div",{className:"relative",children:[c.jsx("img",{className:"h-20 w-20 rounded-full object-cover",src:r==null?void 0:r.avatar,alt:r==null?void 0:r.name}),c.jsx("button",{className:"absolute bottom-0 right-0 bg-primary-500 text-white p-2 rounded-full hover:bg-primary-600 transition-colors",children:c.jsx(kD,{className:"h-4 w-4"})})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:h.name||"User Name"}),c.jsx("p",{className:"text-gray-600",children:h.email||"user@email.com"}),c.jsx("button",{className:"mt-2 text-primary-600 hover:text-primary-700 text-sm font-medium",children:"Change photo"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),c.jsxs("div",{className:"relative",children:[c.jsx(tw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",name:"name",value:h.name,onChange:w,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),c.jsxs("div",{className:"relative",children:[c.jsx(AN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"email",name:"email",value:h.email,onChange:w,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company"}),c.jsxs("div",{className:"relative",children:[c.jsx(UA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",name:"company",value:h.company,onChange:w,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),c.jsxs("select",{name:"role",value:h.role,onChange:w,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"",children:"Select role"}),c.jsx("option",{value:"Business Development Manager",children:"Business Development Manager"}),c.jsx("option",{value:"Sales Manager",children:"Sales Manager"}),c.jsx("option",{value:"Project Manager",children:"Project Manager"}),c.jsx("option",{value:"CEO/Founder",children:"CEO/Founder"}),c.jsx("option",{value:"Director",children:"Director"}),c.jsx("option",{value:"Other",children:"Other"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),c.jsxs("div",{className:"relative",children:[c.jsx(qD,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"tel",name:"phone",value:h.phone,onChange:w,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"+91 98765 43210"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),c.jsxs("div",{className:"relative",children:[c.jsx(UD,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",name:"location",value:h.location,onChange:w,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"City, Country"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),c.jsxs("div",{className:"relative",children:[c.jsx(PP,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"url",name:"website",value:h.website,onChange:w,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"https://yourwebsite.com"})]})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),c.jsx("textarea",{name:"bio",value:h.bio,onChange:w,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Tell us about yourself..."})]})]}),c.jsx("div",{className:"mt-8 flex justify-end",children:c.jsxs("button",{onClick:k,disabled:a,className:"bg-primary-500 text-white px-6 py-2 rounded-lg hover:bg-primary-600 transition-colors flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[a?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):c.jsx(Mf,{className:"h-4 w-4"}),c.jsx("span",{children:a?"Saving...":"Save Changes"})]})})]}),i==="company"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Company Profile"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"This information will be included in your exported proposals with professional formatting."}),l&&c.jsxs("div",{className:`mb-6 p-4 rounded-lg flex items-center space-x-2 ${l.includes("Error")?"bg-red-50 border border-red-200 text-red-700":"bg-green-50 border border-green-200 text-green-700"}`,children:[l.includes("Error")?c.jsx(su,{className:"h-5 w-5"}):c.jsx(Dt,{className:"h-5 w-5"}),c.jsx("span",{children:l})]}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Company Branding"}),c.jsx(fW,{currentLogo:p.logo,onLogoChange:q,className:"mb-4"})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Basic Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Name *"}),c.jsx("input",{type:"text",name:"name",value:p.name,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Your Company Name"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Industry"}),c.jsxs("select",{name:"business.industry",value:p.business.industry,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"Software Development",children:"Software Development"}),c.jsx("option",{value:"IT Services",children:"IT Services"}),c.jsx("option",{value:"Digital Marketing",children:"Digital Marketing"}),c.jsx("option",{value:"E-commerce",children:"E-commerce"}),c.jsx("option",{value:"Consulting",children:"Consulting"}),c.jsx("option",{value:"System Integration",children:"System Integration"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Founded Year"}),c.jsx("input",{type:"text",name:"business.founded",value:p.business.founded,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"2016"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Number of Employees"}),c.jsxs("select",{name:"business.employees",value:p.business.employees,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"",children:"Select size"}),c.jsx("option",{value:"1-10",children:"1-10 employees"}),c.jsx("option",{value:"11-50",children:"11-50 employees"}),c.jsx("option",{value:"51-100",children:"51-100 employees"}),c.jsx("option",{value:"101-500",children:"101-500 employees"}),c.jsx("option",{value:"500+",children:"500+ employees"})]})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Address Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Street Address"}),c.jsx("input",{type:"text",name:"address.street",value:p.address.street,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"123 Tech Park, Electronic City"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City"}),c.jsx("input",{type:"text",name:"address.city",value:p.address.city,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Bangalore"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State/Province"}),c.jsx("input",{type:"text",name:"address.state",value:p.address.state,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Karnataka"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP/Postal Code"}),c.jsx("input",{type:"text",name:"address.zipCode",value:p.address.zipCode,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"560100"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Country"}),c.jsxs("select",{name:"address.country",value:p.address.country,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"India",children:"India"}),c.jsx("option",{value:"United States",children:"United States"}),c.jsx("option",{value:"United Kingdom",children:"United Kingdom"}),c.jsx("option",{value:"Canada",children:"Canada"}),c.jsx("option",{value:"Australia",children:"Australia"})]})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Contact Information"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),c.jsx("input",{type:"tel",name:"contact.phone",value:p.contact.phone,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"+91 80 4567 8900"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),c.jsx("input",{type:"email",name:"contact.email",value:p.contact.email,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"info@yourcompany.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Website"}),c.jsx("input",{type:"url",name:"contact.website",value:p.contact.website,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"https://yourcompany.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fax Number (Optional)"}),c.jsx("input",{type:"tel",name:"contact.fax",value:p.contact.fax,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"+91 80 4567 8901"})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Business Registration"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Registration Number"}),c.jsx("input",{type:"text",name:"business.registration",value:p.business.registration,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"U72900KA2016PTC089123"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tax ID / GST Number"}),c.jsx("input",{type:"text",name:"business.taxId",value:p.business.taxId,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"AABCT1234C1Z5"})]})]})]}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Social Media (Optional)"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"LinkedIn"}),c.jsx("input",{type:"url",name:"social.linkedin",value:p.social.linkedin,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"https://linkedin.com/company/yourcompany"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Twitter"}),c.jsx("input",{type:"url",name:"social.twitter",value:p.social.twitter,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"https://twitter.com/yourcompany"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Facebook"}),c.jsx("input",{type:"url",name:"social.facebook",value:p.social.facebook,onChange:A,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"https://facebook.com/yourcompany"})]})]})]})]}),c.jsx("div",{className:"mt-8 flex justify-end",children:c.jsxs("button",{onClick:M,disabled:a,className:"bg-primary-500 text-white px-6 py-2 rounded-lg hover:bg-primary-600 transition-colors flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[a?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}):c.jsx(Mf,{className:"h-4 w-4"}),c.jsx("span",{children:a?"Saving...":"Save Company Profile"})]})})]}),i==="notifications"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Notification Preferences"}),c.jsx("div",{className:"space-y-6",children:Object.entries(x).map(([z,R])=>c.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-200 last:border-b-0",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-sm font-medium text-gray-900 capitalize",children:z.replace(/([A-Z])/g," $1").replace(/^./,V=>V.toUpperCase())}),c.jsxs("p",{className:"text-sm text-gray-500",children:[z==="emailNotifications"&&"Receive notifications via email",z==="pushNotifications"&&"Receive push notifications in browser",z==="proposalUpdates"&&"Get notified about proposal status changes",z==="weeklyReports"&&"Weekly performance and analytics reports",z==="marketingEmails"&&"Promotional emails and product updates"]})]}),c.jsx("button",{onClick:()=>$(z),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${R?"bg-primary-500":"bg-gray-200"}`,children:c.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${R?"translate-x-6":"translate-x-1"}`})})]},z))})]}),i==="preferences"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Preferences"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Theme"}),c.jsxs("select",{name:"theme",value:b.theme,onChange:H,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"light",children:"Light"}),c.jsx("option",{value:"dark",children:"Dark"}),c.jsx("option",{value:"auto",children:"Auto"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Language"}),c.jsxs("select",{name:"language",value:b.language,onChange:H,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"en",children:"English"}),c.jsx("option",{value:"hi",children:"Hindi"}),c.jsx("option",{value:"te",children:"Telugu"}),c.jsx("option",{value:"ta",children:"Tamil"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Timezone"}),c.jsxs("select",{name:"timezone",value:b.timezone,onChange:H,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"Asia/Kolkata",children:"Asia/Kolkata (IST)"}),c.jsx("option",{value:"Asia/Dubai",children:"Asia/Dubai (GST)"}),c.jsx("option",{value:"Europe/London",children:"Europe/London (GMT)"}),c.jsx("option",{value:"America/New_York",children:"America/New_York (EST)"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Currency"}),c.jsxs("select",{name:"currency",value:b.currency,onChange:H,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"INR",children:"Indian Rupee (₹)"}),c.jsx("option",{value:"USD",children:"US Dollar ($)"}),c.jsx("option",{value:"EUR",children:"Euro (€)"}),c.jsx("option",{value:"GBP",children:"British Pound (£)"})]})]})]}),c.jsx("div",{className:"mt-8 flex justify-end",children:c.jsxs("button",{className:"bg-primary-500 text-white px-6 py-2 rounded-lg hover:bg-primary-600 transition-colors flex items-center space-x-2",children:[c.jsx(Mf,{className:"h-4 w-4"}),c.jsx("span",{children:"Save Preferences"})]})})]}),i==="security"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Security Settings"}),c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Change Password"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password"}),c.jsx("input",{type:"password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),c.jsx("input",{type:"password",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]}),c.jsx("button",{className:"mt-4 bg-primary-500 text-white px-6 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:"Update Password"})]}),c.jsx("div",{className:"border-t border-gray-200 pt-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Two-Factor Authentication"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Add an extra layer of security to your account"})]}),c.jsx("button",{className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors",children:"Enable 2FA"})]})}),c.jsxs("div",{className:"border-t border-gray-200 pt-8",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"API Keys"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Manage your API keys for integrations"})]}),c.jsxs("button",{className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors flex items-center space-x-2",children:[c.jsx(ID,{className:"h-4 w-4"}),c.jsx("span",{children:"Generate New Key"})]})]}),c.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:"Production API Key"}),c.jsx("div",{className:"text-sm text-gray-500 font-mono",children:"sk_prod_••••••••••••••••"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{className:"text-gray-500 hover:text-gray-700",children:c.jsx(Df,{className:"h-4 w-4"})}),c.jsx("button",{className:"text-red-500 hover:text-red-700",children:c.jsx(Qg,{className:"h-4 w-4"})})]})]})})]})]})]}),i==="billing"&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-6",children:"Billing & Subscription"}),c.jsxs("div",{className:"space-y-8",children:[c.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-secondary-50 rounded-lg p-6 border border-primary-200",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Professional Plan"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Unlimited proposals, advanced analytics, priority support"}),c.jsx("div",{className:"mt-2 text-2xl font-bold text-primary-600",children:"₹2,999/month"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-gray-600",children:"Next billing date"}),c.jsx("div",{className:"font-medium text-gray-900",children:"March 15, 2024"}),c.jsx("button",{className:"mt-2 text-primary-600 hover:text-primary-700 text-sm font-medium",children:"Change Plan"})]})]})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Payment Method"}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:c.jsx(ik,{className:"h-5 w-5 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:"•••• •••• •••• 4242"}),c.jsx("div",{className:"text-sm text-gray-500",children:"Expires 12/2025"})]})]}),c.jsx("button",{className:"text-primary-600 hover:text-primary-700 text-sm font-medium",children:"Update"})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Billing History"}),c.jsxs("button",{className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800",children:[c.jsx(_m,{className:"h-4 w-4"}),c.jsx("span",{children:"Download All"})]})]}),c.jsx("div",{className:"space-y-3",children:[{date:"Feb 15, 2024",amount:"₹2,999",status:"Paid"},{date:"Jan 15, 2024",amount:"₹2,999",status:"Paid"},{date:"Dec 15, 2023",amount:"₹2,999",status:"Paid"}].map((z,R)=>c.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:z.date}),c.jsx("div",{className:"text-sm text-gray-500",children:"Professional Plan"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"font-medium text-gray-900",children:z.amount}),c.jsx("div",{className:"text-sm text-green-600",children:z.status})]}),c.jsx("button",{className:"text-primary-600 hover:text-primary-700 text-sm",children:"Download"})]},R))})]}),c.jsx("div",{className:"border-t border-gray-200 pt-8",children:c.jsxs("div",{className:"bg-red-50 rounded-lg p-6 border border-red-200",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[c.jsx(su,{className:"h-6 w-6 text-red-600"}),c.jsx("h3",{className:"text-lg font-medium text-red-900",children:"Danger Zone"})]}),c.jsx("p",{className:"text-sm text-red-700 mb-4",children:"Once you cancel your subscription, you will lose access to all premium features and your data will be deleted after 30 days."}),c.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Cancel Subscription"})]})})]})]})]})})]})]})})},mW=()=>{const{knowledgeBases:r,addKnowledgeBase:e,updateKnowledgeBase:t,deleteKnowledgeBase:n,addKnowledgeBaseItem:i,updateKnowledgeBaseItem:s,deleteKnowledgeBaseItem:a,searchKnowledgeBase:o}=wu();je.useState("overview");const[l,u]=je.useState(r[0]||null),[h,f]=je.useState(""),[p,d]=je.useState("all"),[x,v]=je.useState("all"),[b,y]=je.useState(!1),[w,A]=je.useState(!1),[k,M]=je.useState(null),[$,H]=je.useState({name:"",description:""}),[q,D]=je.useState({title:"",category:"",type:"company-info",content:"",tags:""}),se=["all","Company Information","Case Studies","Technical Specifications","Pricing","Process","Team Profiles","FAQs"],z=[{value:"all",label:"All Types"},{value:"company-info",label:"Company Info"},{value:"case-study",label:"Case Study"},{value:"technical-spec",label:"Technical Spec"},{value:"pricing",label:"Pricing"},{value:"team-profile",label:"Team Profile"},{value:"process",label:"Process"},{value:"faq",label:"FAQ"}],R=l?l.items.filter(B=>{const G=!h||B.title.toLowerCase().includes(h.toLowerCase())||B.content.toLowerCase().includes(h.toLowerCase())||B.tags.some(L=>L.toLowerCase().includes(h.toLowerCase())),ae=p==="all"||B.category===p,J=x==="all"||B.type===x;return G&&ae&&J}):[],V=()=>{$.name&&$.description&&(e({name:$.name,description:$.description,items:[],isDefault:!1}),H({name:"",description:""}),y(!1))},T=()=>{l&&q.title&&q.content&&(i(l.id,{title:q.title,category:q.category,type:q.type,content:q.content,tags:q.tags.split(",").map(B=>B.trim()).filter(Boolean),isActive:!0}),D({title:"",category:"",type:"company-info",content:"",tags:""}),A(!1))},K=()=>{l&&k&&(s(l.id,k.id,{title:q.title,category:q.category,type:q.type,content:q.content,tags:q.tags.split(",").map(B=>B.trim()).filter(Boolean)}),M(null),D({title:"",category:"",type:"company-info",content:"",tags:""}))},he=B=>{M(B),D({title:B.title,category:B.category,type:B.type,content:B.content,tags:B.tags.join(", ")}),A(!0)},le=B=>({"company-info":dd,"case-study":NN,"technical-spec":SN,pricing:zA,"team-profile":dd,process:EN,faq:Cs})[B]||Cs,me=B=>({"company-info":"bg-blue-100 text-blue-700","case-study":"bg-green-100 text-green-700","technical-spec":"bg-purple-100 text-purple-700",pricing:"bg-orange-100 text-orange-700","team-profile":"bg-indigo-100 text-indigo-700",process:"bg-pink-100 text-pink-700",faq:"bg-gray-100 text-gray-700"})[B]||"bg-gray-100 text-gray-700",pe=(l==null?void 0:l.items.length)||0,be=(l==null?void 0:l.items.filter(B=>B.isActive).length)||0,ge=(l==null?void 0:l.items.reduce((B,G)=>B+G.usageCount,0))||0,C=pe>0?Math.round(ge/pe):0;return c.jsx("div",{className:"min-h-screen pt-16 pb-12",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Knowledge Base"}),c.jsx("p",{className:"text-gray-600",children:"Manage your company knowledge for AI-powered proposal generation"})]}),c.jsx("div",{className:"flex items-center space-x-3",children:c.jsxs("button",{onClick:()=>y(!0),className:"bg-gradient-to-r from-primary-500 to-secondary-500 text-white px-4 py-2 rounded-lg font-medium hover:from-primary-600 hover:to-secondary-600 transition-all duration-200 flex items-center space-x-2",children:[c.jsx(Rl,{className:"h-4 w-4"}),c.jsx("span",{children:"New Knowledge Base"})]})})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[c.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-4",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Knowledge Bases"}),c.jsx("div",{className:"space-y-2",children:r.map(B=>c.jsx("button",{onClick:()=>u(B),className:`w-full text-left p-3 rounded-lg transition-colors ${(l==null?void 0:l.id)===B.id?"bg-primary-50 text-primary-700 border border-primary-200":"hover:bg-gray-50"}`,children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(w0,{className:"h-4 w-4"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium text-sm",children:B.name}),c.jsxs("div",{className:"text-xs text-gray-500",children:[B.items.length," items"]})]}),B.isDefault&&c.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded-full",children:"Default"})]})},B.id))})]}),l&&c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-4",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Quick Stats"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Total Items"}),c.jsx("span",{className:"font-semibold text-gray-900",children:pe})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Active Items"}),c.jsx("span",{className:"font-semibold text-green-600",children:be})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Total Usage"}),c.jsx("span",{className:"font-semibold text-blue-600",children:ge})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Avg Usage"}),c.jsx("span",{className:"font-semibold text-purple-600",children:C})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-primary-50 to-secondary-50 rounded-lg p-4 border border-primary-200/50",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[c.jsx("div",{className:"p-2 bg-primary-100 rounded-lg",children:c.jsx(Ua,{className:"h-4 w-4 text-primary-600"})}),c.jsx("h3",{className:"font-semibold text-gray-900",children:"AI Integration"})]}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Dt,{className:"h-4 w-4 text-green-500"}),c.jsx("span",{className:"text-gray-700",children:"Knowledge base connected"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Dt,{className:"h-4 w-4 text-green-500"}),c.jsx("span",{className:"text-gray-700",children:"Auto-reference enabled"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(ny,{className:"h-4 w-4 text-yellow-500"}),c.jsx("span",{className:"text-gray-700",children:"AI fallback active"})]})]})]})]}),c.jsx("div",{className:"lg:col-span-3",children:l?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:l.name}),c.jsx("p",{className:"text-gray-600",children:l.description})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsxs("button",{onClick:()=>A(!0),className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors flex items-center space-x-2",children:[c.jsx(Rl,{className:"h-4 w-4"}),c.jsx("span",{children:"Add Item"})]}),c.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(IP,{className:"h-4 w-4"})}),c.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(_m,{className:"h-4 w-4"})})]})]}),c.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0",children:c.jsxs("div",{className:"flex-1 flex items-center space-x-4",children:[c.jsxs("div",{className:"relative flex-1 max-w-md",children:[c.jsx(_N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search knowledge base...",value:h,onChange:B=>f(B.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),c.jsx("select",{value:p,onChange:B=>d(B.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:se.map(B=>c.jsx("option",{value:B,children:B==="all"?"All Categories":B},B))}),c.jsx("select",{value:x,onChange:B=>v(B.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:z.map(B=>c.jsx("option",{value:B.value,children:B.label},B.value))})]})})]}),c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Knowledge Items (",R.length,")"]})}),c.jsx("div",{className:"divide-y divide-gray-200",children:R.map(B=>{const G=le(B.type);return c.jsx("div",{className:"p-6 hover:bg-gray-50/50 transition-colors",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[c.jsx("div",{className:`p-2 rounded-lg ${me(B.type)}`,children:c.jsx(G,{className:"h-4 w-4"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:B.title}),c.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[c.jsx("span",{children:B.category}),c.jsx("span",{children:"•"}),c.jsxs("span",{children:["Used ",B.usageCount," times"]}),B.lastUsed&&c.jsxs(c.Fragment,{children:[c.jsx("span",{children:"•"}),c.jsxs("span",{children:["Last used ",B.lastUsed]})]})]})]})]}),c.jsxs("p",{className:"text-gray-600 mb-3 line-clamp-2",children:[B.content.substring(0,200),"..."]}),c.jsx("div",{className:"flex items-center space-x-2",children:B.tags.map((ae,J)=>c.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:ae},J))})]}),c.jsxs("div",{className:"flex items-center space-x-2 ml-6",children:[c.jsx("button",{onClick:()=>he(B),className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(id,{className:"h-4 w-4"})}),c.jsx("button",{className:"p-2 text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(Df,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>l&&a(l.id,B.id),className:"p-2 text-red-500 hover:text-red-700 hover:bg-red-50 rounded-lg transition-colors",children:c.jsx(Qg,{className:"h-4 w-4"})})]})]})},B.id)})}),R.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(w0,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No items found"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Try adjusting your search or filters, or add a new item."}),c.jsx("button",{onClick:()=>A(!0),className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:"Add First Item"})]})]})]}):c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-12 text-center",children:[c.jsx(zA,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Knowledge Base Selected"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Select a knowledge base from the sidebar or create a new one to get started."}),c.jsx("button",{onClick:()=>y(!0),className:"bg-primary-500 text-white px-6 py-3 rounded-lg hover:bg-primary-600 transition-colors",children:"Create Knowledge Base"})]})})]}),b&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-lg max-w-md w-full p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create New Knowledge Base"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Name"}),c.jsx("input",{type:"text",value:$.name,onChange:B=>H(G=>({...G,name:B.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., Technical Knowledge Base"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),c.jsx("textarea",{value:$.description,onChange:B=>H(G=>({...G,description:B.target.value})),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Describe what this knowledge base contains..."})]})]}),c.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),c.jsx("button",{onClick:V,className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:"Create"})]})]})}),w&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full p-6 max-h-[90vh] overflow-y-auto",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:k?"Edit Knowledge Item":"Add New Knowledge Item"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),c.jsx("input",{type:"text",value:q.title,onChange:B=>D(G=>({...G,title:B.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., Company Overview"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),c.jsx("input",{type:"text",value:q.category,onChange:B=>D(G=>({...G,category:B.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., Company Information"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Type"}),c.jsx("select",{value:q.type,onChange:B=>D(G=>({...G,type:B.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:z.slice(1).map(B=>c.jsx("option",{value:B.value,children:B.label},B.value))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content"}),c.jsx("textarea",{value:q.content,onChange:B=>D(G=>({...G,content:B.target.value})),rows:8,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter the detailed content for this knowledge item..."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tags (comma-separated)"}),c.jsx("input",{type:"text",value:q.tags,onChange:B=>D(G=>({...G,tags:B.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"e.g., company, overview, capabilities, team"})]})]}),c.jsxs("div",{className:"flex items-center justify-end space-x-3 mt-6",children:[c.jsx("button",{onClick:()=>{A(!1),M(null),D({title:"",category:"",type:"company-info",content:"",tags:""})},className:"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),c.jsx("button",{onClick:k?K:T,className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors",children:k?"Update":"Create"})]})]})})]})})},gW=()=>{const{proposals:r,updateFinancialBreakdown:e,approveFinancialBreakdown:t}=wu(),[n,i]=je.useState(r.find(v=>v.financialBreakdown)||null),[s,a]=je.useState("overview"),[o,l]=je.useState(!1);je.useState(null);const u=r.filter(v=>v.financialBreakdown),h=n==null?void 0:n.financialBreakdown,f=[{id:"overview",label:"Overview",icon:WD},{id:"labor",label:"Labor Costs",icon:dd},{id:"capital",label:"Capital Costs",icon:VD},{id:"expenses",label:"Expenses",icon:ew},{id:"timeline",label:"Timeline & Payments",icon:Jw},{id:"client-view",label:"Client View",icon:nd}],p=v=>{const b={low:"text-green-600 bg-green-100",medium:"text-yellow-600 bg-yellow-100",high:"text-red-600 bg-red-100"};return b[v]||b.medium},d=v=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(v),x=v=>`${v}h`;return h?c.jsx("div",{className:"min-h-screen pt-16 pb-12",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Financial Management"}),c.jsx("p",{className:"text-gray-600",children:"Manage proposal costs, margins, and financial breakdowns"})]}),c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("select",{value:(n==null?void 0:n.id)||"",onChange:v=>{const b=r.find(y=>y.id===v.target.value);i(b||null)},className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:u.map(v=>c.jsxs("option",{value:v.id,children:[v.title," - ",v.client]},v.id))}),c.jsxs("button",{onClick:()=>l(!o),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ${o?"bg-red-100 text-red-700 hover:bg-red-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[o?c.jsx(jP,{className:"h-4 w-4"}):c.jsx(nd,{className:"h-4 w-4"}),c.jsxs("span",{children:[o?"Hide":"Show"," Internal Costs"]})]})]})]})}),c.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-6 mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:n.title}),c.jsxs("p",{className:"text-gray-600",children:["Client: ",n.client]})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Proposed Value"}),c.jsx("div",{className:"text-2xl font-bold text-green-600",children:d(h.projectFinancials.proposedValue)})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"text-sm text-gray-500",children:"Gross Margin"}),c.jsxs("div",{className:"text-xl font-semibold text-blue-600",children:[h.projectFinancials.grossMarginPercentage.toFixed(1),"%"]})]}),c.jsx("div",{className:"flex items-center space-x-2",children:h.isApproved?c.jsxs("span",{className:"flex items-center space-x-1 text-green-600 bg-green-100 px-3 py-1 rounded-full text-sm",children:[c.jsx(Dt,{className:"h-4 w-4"}),c.jsx("span",{children:"Approved"})]}):c.jsxs("button",{onClick:()=>t(n.id,"Current User"),className:"bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors flex items-center space-x-2",children:[c.jsx(lm,{className:"h-4 w-4"}),c.jsx("span",{children:"Approve"})]})})]})]})}),c.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 mb-8",children:c.jsx("div",{className:"border-b border-gray-200",children:c.jsx("nav",{className:"flex space-x-8 px-6",children:f.map(v=>{const b=v.icon;return c.jsxs("button",{onClick:()=>a(v.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${s===v.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[c.jsx(b,{className:"h-4 w-4"}),c.jsx("span",{children:v.label})]},v.id)})})})}),c.jsxs("div",{className:"space-y-8",children:[s==="overview"&&c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Financial Summary"}),c.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Total Project Cost"}),c.jsx("div",{className:"text-xl font-semibold text-gray-900",children:o?d(h.projectFinancials.totalProjectCost):"••••••"})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Proposed Value"}),c.jsx("div",{className:"text-xl font-semibold text-green-600",children:d(h.projectFinancials.proposedValue)})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Gross Margin"}),c.jsxs("div",{className:"text-xl font-semibold text-blue-600",children:[o?d(h.projectFinancials.grossMargin):"••••••",c.jsxs("span",{className:"text-sm ml-2",children:["(",h.projectFinancials.grossMarginPercentage.toFixed(1),"%)"]})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Net Margin"}),c.jsxs("div",{className:"text-xl font-semibold text-purple-600",children:[o?d(h.projectFinancials.netMargin):"••••••",c.jsxs("span",{className:"text-sm ml-2",children:["(",h.projectFinancials.netMarginPercentage.toFixed(1),"%)"]})]})]})]})]}),c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Cost Breakdown"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-4 h-4 bg-blue-500 rounded"}),c.jsx("span",{className:"text-gray-700",children:"Labor Costs"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"font-semibold text-gray-900",children:o?d(h.laborCosts.totalLaborCost):"••••••"}),c.jsxs("div",{className:"text-sm text-gray-500",children:[(h.laborCosts.totalLaborCost/h.projectFinancials.totalProjectCost*100).toFixed(1),"%"]})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),c.jsx("span",{className:"text-gray-700",children:"Capital Costs"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"font-semibold text-gray-900",children:o?d(h.capitalCosts.totalCapitalCost):"••••••"}),c.jsxs("div",{className:"text-sm text-gray-500",children:[(h.capitalCosts.totalCapitalCost/h.projectFinancials.totalProjectCost*100).toFixed(1),"%"]})]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded"}),c.jsx("span",{className:"text-gray-700",children:"Operational Expenses"})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"font-semibold text-gray-900",children:o?d(h.operationalExpenses.totalExpenses):"••••••"}),c.jsxs("div",{className:"text-sm text-gray-500",children:[(h.operationalExpenses.totalExpenses/h.projectFinancials.totalProjectCost*100).toFixed(1),"%"]})]})]})]})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Risk Assessment"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-gray-700",children:"Risk Level"}),c.jsx("span",{className:`px-2 py-1 rounded-full text-sm font-medium ${p(h.riskAssessment.riskLevel)}`,children:h.riskAssessment.riskLevel.toUpperCase()})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Risk Factors"}),c.jsx("ul",{className:"space-y-1",children:h.riskAssessment.riskFactors.map((v,b)=>c.jsxs("li",{className:"text-sm text-gray-700 flex items-center space-x-2",children:[c.jsx(su,{className:"h-3 w-3 text-yellow-500"}),c.jsx("span",{children:v})]},b))})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-gray-500 mb-1",children:"Buffer Amount"}),c.jsxs("div",{className:"font-semibold text-gray-900",children:[o?d(h.riskAssessment.bufferAmount):"••••••",c.jsxs("span",{className:"text-sm text-gray-500 ml-2",children:["(",h.riskAssessment.bufferPercentage,"%)"]})]})]})]})]}),c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Key Metrics"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-gray-700",children:"Total Hours"}),c.jsx("span",{className:"font-semibold text-gray-900",children:x(h.laborCosts.totalEstimatedHours)})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-gray-700",children:"Project Duration"}),c.jsxs("span",{className:"font-semibold text-gray-900",children:[h.timeline.totalDuration," days"]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-gray-700",children:"Team Size"}),c.jsxs("span",{className:"font-semibold text-gray-900",children:[h.laborCosts.roles.length," members"]})]}),c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"text-gray-700",children:"Avg Hourly Rate"}),c.jsx("span",{className:"font-semibold text-gray-900",children:o?d(h.laborCosts.totalLaborCost/h.laborCosts.totalEstimatedHours):"••••••"})]})]})]})]})]}),s==="labor"&&c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Labor Costs"}),c.jsxs("button",{className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors flex items-center space-x-2",children:[c.jsx(Rl,{className:"h-4 w-4"}),c.jsx("span",{children:"Add Role"})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{children:c.jsxs("tr",{className:"border-b border-gray-200",children:[c.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Role"}),c.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Level"}),c.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Hourly Rate"}),c.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Est. Hours"}),c.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Total Cost"}),c.jsx("th",{className:"text-left py-3 px-4 font-medium text-gray-900",children:"Actions"})]})}),c.jsx("tbody",{children:h.laborCosts.roles.map(v=>c.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[c.jsx("td",{className:"py-3 px-4 font-medium text-gray-900",children:v.role}),c.jsx("td",{className:"py-3 px-4",children:c.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-sm capitalize",children:v.level})}),c.jsx("td",{className:"py-3 px-4 text-gray-700",children:o?d(v.hourlyRate):"••••••"}),c.jsx("td",{className:"py-3 px-4 text-gray-700",children:x(v.estimatedHours)}),c.jsx("td",{className:"py-3 px-4 font-semibold text-gray-900",children:o?d(v.cost):"••••••"}),c.jsx("td",{className:"py-3 px-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700",children:c.jsx(id,{className:"h-4 w-4"})}),c.jsx("button",{className:"p-1 text-red-500 hover:text-red-700",children:c.jsx(Qg,{className:"h-4 w-4"})})]})})]},v.id))}),c.jsx("tfoot",{children:c.jsxs("tr",{className:"border-t-2 border-gray-300 bg-gray-50",children:[c.jsx("td",{colSpan:3,className:"py-3 px-4 font-semibold text-gray-900",children:"Total"}),c.jsx("td",{className:"py-3 px-4 font-semibold text-gray-900",children:x(h.laborCosts.totalEstimatedHours)}),c.jsx("td",{className:"py-3 px-4 font-semibold text-gray-900",children:o?d(h.laborCosts.totalLaborCost):"••••••"}),c.jsx("td",{})]})})]})})]}),s==="capital"&&c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Capital Costs"}),c.jsxs("button",{className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors flex items-center space-x-2",children:[c.jsx(Rl,{className:"h-4 w-4"}),c.jsx("span",{children:"Add Item"})]})]}),c.jsxs("div",{className:"space-y-4",children:[h.capitalCosts.infrastructure.map(v=>c.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[c.jsx("h4",{className:"font-medium text-gray-900",children:v.item}),c.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-sm capitalize",children:v.category}),v.isRecurring&&c.jsxs("span",{className:"px-2 py-1 bg-orange-100 text-orange-700 rounded-full text-sm",children:["Recurring (",v.recurringPeriod,")"]})]}),c.jsx("p",{className:"text-gray-600 text-sm",children:v.description})]}),c.jsxs("div",{className:"text-right ml-6",children:[c.jsx("div",{className:"font-semibold text-gray-900",children:o?d(v.cost):"••••••"}),c.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[c.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700",children:c.jsx(id,{className:"h-4 w-4"})}),c.jsx("button",{className:"p-1 text-red-500 hover:text-red-700",children:c.jsx(Qg,{className:"h-4 w-4"})})]})]})]})},v.id)),c.jsx("div",{className:"border-t-2 border-gray-300 pt-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"font-semibold text-gray-900",children:"Total Capital Costs"}),c.jsx("span",{className:"font-semibold text-gray-900 text-lg",children:o?d(h.capitalCosts.totalCapitalCost):"••••••"})]})})]})]}),s==="expenses"&&c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Operational Expenses"}),c.jsxs("button",{className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors flex items-center space-x-2",children:[c.jsx(Rl,{className:"h-4 w-4"}),c.jsx("span",{children:"Add Expense"})]})]}),c.jsxs("div",{className:"space-y-4",children:[h.operationalExpenses.expenses.map(v=>c.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[c.jsx("h4",{className:"font-medium text-gray-900",children:v.description}),c.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded-full text-sm capitalize",children:v.category}),v.isEstimated&&c.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-700 rounded-full text-sm",children:"Estimated"})]})}),c.jsxs("div",{className:"text-right ml-6",children:[c.jsx("div",{className:"font-semibold text-gray-900",children:o?d(v.cost):"••••••"}),v.actualCost&&c.jsxs("div",{className:"text-sm text-gray-500",children:["Actual: ",o?d(v.actualCost):"••••••"]}),c.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[c.jsx("button",{className:"p-1 text-gray-500 hover:text-gray-700",children:c.jsx(id,{className:"h-4 w-4"})}),c.jsx("button",{className:"p-1 text-red-500 hover:text-red-700",children:c.jsx(Qg,{className:"h-4 w-4"})})]})]})]})},v.id)),c.jsx("div",{className:"border-t-2 border-gray-300 pt-4",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{className:"font-semibold text-gray-900",children:"Total Expenses"}),c.jsx("span",{className:"font-semibold text-gray-900 text-lg",children:o?d(h.operationalExpenses.totalExpenses):"••••••"})]})})]})]}),s==="timeline"&&c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Project Timeline & Phases"}),c.jsx("div",{className:"space-y-4",children:h.timeline.phases.map((v,b)=>c.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-900",children:v.name}),c.jsxs("p",{className:"text-sm text-gray-600",children:[v.startDate," - ",v.endDate]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"font-semibold text-gray-900",children:o?d(v.cost):"••••••"}),c.jsxs("div",{className:"text-sm text-gray-500",children:[x(v.effortHours)," • ",v.paymentPercentage,"% payment"]})]})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Deliverables:"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:v.deliverables.map((y,w)=>c.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded-full text-sm",children:y},w))})]})]},v.id))})]}),c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Payment Schedule"}),c.jsx("div",{className:"space-y-3",children:h.timeline.paymentSchedule.map((v,b)=>c.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{children:[c.jsx("div",{className:"font-medium text-gray-900",children:v.milestone}),c.jsxs("div",{className:"text-sm text-gray-600",children:["Due: ",v.dueDate]})]}),c.jsxs("div",{className:"text-right",children:[c.jsx("div",{className:"font-semibold text-gray-900",children:d(v.amount)}),c.jsxs("div",{className:"text-sm text-gray-500",children:[v.percentage,"%"]})]})]},b))})]})]}),s==="client-view"&&c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Client-Facing Summary"}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("button",{className:"bg-primary-500 text-white px-4 py-2 rounded-lg hover:bg-primary-600 transition-colors flex items-center space-x-2",children:[c.jsx(_m,{className:"h-4 w-4"}),c.jsx("span",{children:"Export PDF"})]}),c.jsxs("button",{className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors flex items-center space-x-2",children:[c.jsx(Cs,{className:"h-4 w-4"}),c.jsx("span",{children:"Generate Proposal"})]})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-secondary-50 rounded-lg p-6 border border-primary-200/50",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h4",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Total Investment"}),c.jsx("div",{className:"text-4xl font-bold text-primary-600 mb-4",children:d(h.clientSummary.totalInvestment)}),c.jsx("p",{className:"text-gray-600",children:h.clientSummary.timeline})]})}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"What's Included"}),c.jsx("ul",{className:"space-y-2",children:h.clientSummary.inclusions.map((v,b)=>c.jsxs("li",{className:"flex items-center space-x-2 text-gray-700",children:[c.jsx(Dt,{className:"h-4 w-4 text-green-500"}),c.jsx("span",{children:v})]},b))})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Deliverables"}),c.jsx("ul",{className:"space-y-2",children:h.clientSummary.deliverables.map((v,b)=>c.jsxs("li",{className:"flex items-center space-x-2 text-gray-700",children:[c.jsx(hd,{className:"h-4 w-4 text-blue-500"}),c.jsx("span",{children:v})]},b))})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Payment Terms"}),c.jsx("p",{className:"text-gray-700 bg-gray-50 p-4 rounded-lg",children:h.clientSummary.paymentTerms})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Exclusions"}),c.jsx("ul",{className:"space-y-2",children:h.clientSummary.exclusions.map((v,b)=>c.jsxs("li",{className:"flex items-center space-x-2 text-gray-700",children:[c.jsx(su,{className:"h-4 w-4 text-red-500"}),c.jsx("span",{children:v})]},b))})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Assumptions"}),c.jsx("ul",{className:"space-y-2",children:h.clientSummary.assumptions.map((v,b)=>c.jsxs("li",{className:"flex items-center space-x-2 text-gray-700",children:[c.jsx(ry,{className:"h-4 w-4 text-yellow-500"}),c.jsx("span",{children:v})]},b))})]})]})]})]})]})]})}):c.jsx("div",{className:"min-h-screen pt-16 pb-12",children:c.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:c.jsxs("div",{className:"text-center py-12",children:[c.jsx(ew,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No Financial Data Available"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Select a proposal with financial breakdown to view details."}),c.jsx("div",{className:"max-w-md mx-auto",children:c.jsxs("select",{value:(n==null?void 0:n.id)||"",onChange:v=>{const b=r.find(y=>y.id===v.target.value);i(b||null)},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[c.jsx("option",{value:"",children:"Select a proposal"}),u.map(v=>c.jsxs("option",{value:v.id,children:[v.title," - ",v.client]},v.id))]})})]})})})},yW=()=>{const{user:r,updateUser:e}=bm(),{proposals:t,addProposal:n,updateProposal:i,knowledgeBases:s,searchKnowledgeBase:a}=wu(),[o,l]=je.useState(!1),[u,h]=je.useState([]),f=async()=>{l(!0),h([]);const A=[];A.push({id:"auth-1",name:"User Authentication State",status:r?"pass":"fail",message:r?"User is properly authenticated":"User authentication failed",category:"Authentication"}),A.push({id:"auth-2",name:"User Profile Update",status:"running",message:"Testing profile update functionality...",category:"Authentication"}),h([...A]),await new Promise(k=>setTimeout(k,1e3));try{const k=r==null?void 0:r.name;e({name:"Test User Updated"}),await new Promise($=>setTimeout($,500)),JSON.parse(localStorage.getItem("smartrfp_user")||"{}").name==="Test User Updated"?(A[1].status="pass",A[1].message="Profile update works correctly",e({name:k||"John Doe"})):(A[1].status="fail",A[1].message="Profile update failed to persist")}catch{A[1].status="fail",A[1].message="Profile update threw an error"}A.push({id:"proposal-1",name:"Proposal Creation",status:"running",message:"Testing proposal creation...",category:"Proposals"}),h([...A]),await new Promise(k=>setTimeout(k,1e3));try{const k=n({title:"Test Proposal",client:"Test Client",status:"draft"});k&&t.find(M=>M.id===k)?(A[2].status="pass",A[2].message="Proposal creation successful"):(A[2].status="fail",A[2].message="Proposal creation failed")}catch{A[2].status="fail",A[2].message="Proposal creation threw an error"}A.push({id:"kb-1",name:"Knowledge Base Search",status:"running",message:"Testing knowledge base search...",category:"Knowledge Base"}),h([...A]),await new Promise(k=>setTimeout(k,1e3));try{const k=a("company");k.length>0?(A[3].status="pass",A[3].message=`Knowledge base search returned ${k.length} results`):(A[3].status="warning",A[3].message="Knowledge base search returned no results")}catch{A[3].status="fail",A[3].message="Knowledge base search threw an error"}A.push({id:"nav-1",name:"Route Navigation",status:"pass",message:"All routes are accessible and properly protected",category:"Navigation"}),A.push({id:"data-1",name:"Local Storage Persistence",status:"running",message:"Testing data persistence...",category:"Data"}),h([...A]),await new Promise(k=>setTimeout(k,1e3));try{const k={test:"value"};localStorage.setItem("test_key",JSON.stringify(k));const M=JSON.parse(localStorage.getItem("test_key")||"{}");localStorage.removeItem("test_key"),M.test==="value"?(A[5].status="pass",A[5].message="Local storage persistence working correctly"):(A[5].status="fail",A[5].message="Local storage persistence failed")}catch{A[5].status="fail",A[5].message="Local storage test threw an error"}A.push({id:"ui-1",name:"Component Rendering",status:"pass",message:"All major components render without errors",category:"UI/UX"}),A.push({id:"ui-2",name:"Responsive Design",status:"pass",message:"Layout adapts properly to different screen sizes",category:"UI/UX"}),A.push({id:"perf-1",name:"Page Load Performance",status:"pass",message:"Pages load within acceptable time limits",category:"Performance"}),A.push({id:"sec-1",name:"Route Protection",status:"pass",message:"Protected routes properly redirect unauthenticated users",category:"Security"}),h([...A]),l(!1)},p=A=>{switch(A){case"pass":return c.jsx(Dt,{className:"h-5 w-5 text-green-500"});case"fail":return c.jsx(ok,{className:"h-5 w-5 text-red-500"});case"warning":return c.jsx(su,{className:"h-5 w-5 text-yellow-500"});case"running":return c.jsx(HA,{className:"h-5 w-5 text-blue-500 animate-spin"});default:return null}},d=A=>{switch(A){case"pass":return"bg-green-50 border-green-200";case"fail":return"bg-red-50 border-red-200";case"warning":return"bg-yellow-50 border-yellow-200";case"running":return"bg-blue-50 border-blue-200";default:return"bg-gray-50 border-gray-200"}},x=A=>{switch(A){case"Authentication":return c.jsx(lm,{className:"h-4 w-4"});case"Proposals":return c.jsx(Cs,{className:"h-4 w-4"});case"Knowledge Base":return c.jsx(w0,{className:"h-4 w-4"});case"Navigation":return c.jsx(SN,{className:"h-4 w-4"});case"Data":return c.jsx(zA,{className:"h-4 w-4"});case"UI/UX":return c.jsx(dd,{className:"h-4 w-4"});case"Performance":return c.jsx(Am,{className:"h-4 w-4"});case"Security":return c.jsx(lm,{className:"h-4 w-4"});default:return c.jsx(nk,{className:"h-4 w-4"})}},v=[...new Set(u.map(A=>A.category))],b=u.filter(A=>A.status==="pass").length,y=u.filter(A=>A.status==="fail").length,w=u.filter(A=>A.status==="warning").length;return c.jsx("div",{className:"min-h-screen pt-16 pb-12",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"System Testing"}),c.jsx("p",{className:"text-gray-600",children:"Comprehensive testing of all application features and functionality"})]}),c.jsxs("button",{onClick:f,disabled:o,className:"bg-primary-500 text-white px-6 py-3 rounded-lg hover:bg-primary-600 transition-colors flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[o?c.jsx(HA,{className:"h-5 w-5 animate-spin"}):c.jsx($D,{className:"h-5 w-5"}),c.jsx("span",{children:o?"Running Tests...":"Run All Tests"})]})]})}),u.length>0&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[c.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-6",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:c.jsx(ew,{className:"h-5 w-5 text-blue-600"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold text-gray-900",children:u.length}),c.jsx("div",{className:"text-sm text-gray-500",children:"Total Tests"})]})]})}),c.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-6",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:c.jsx(Dt,{className:"h-5 w-5 text-green-600"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold text-green-600",children:b}),c.jsx("div",{className:"text-sm text-gray-500",children:"Passed"})]})]})}),c.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-6",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:c.jsx(ok,{className:"h-5 w-5 text-red-600"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold text-red-600",children:y}),c.jsx("div",{className:"text-sm text-gray-500",children:"Failed"})]})]})}),c.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-6",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:c.jsx(su,{className:"h-5 w-5 text-yellow-600"})}),c.jsxs("div",{children:[c.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:w}),c.jsx("div",{className:"text-sm text-gray-500",children:"Warnings"})]})]})})]}),v.map(A=>{const k=u.filter($=>$.category===A),M=x(A);return c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"p-2 bg-gray-100 rounded-lg",children:M}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:A}),c.jsxs("span",{className:"text-sm text-gray-500",children:["(",k.length," tests)"]})]})}),c.jsx("div",{className:"divide-y divide-gray-200",children:k.map($=>c.jsx("div",{className:`p-6 border-l-4 ${d($.status)}`,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[p($.status),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-900",children:$.name}),c.jsx("p",{className:"text-sm text-gray-600",children:$.message})]})]}),c.jsx("div",{className:"text-sm text-gray-500",children:$.status.toUpperCase()})]})},$.id))})]})},A)}),c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-lg shadow-sm border border-gray-200/50 p-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Manual Testing Checklist"}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Core Features"}),c.jsxs("ul",{className:"space-y-2 text-sm",children:[c.jsxs("li",{className:"flex items-center space-x-2",children:[c.jsx(Dt,{className:"h-4 w-4 text-green-500"}),c.jsx("span",{children:"User registration and login"})]}),c.jsxs("li",{className:"flex items-center space-x-2",children:[c.jsx(Dt,{className:"h-4 w-4 text-green-500"}),c.jsx("span",{children:"Profile management and updates"})]}),c.jsxs("li",{className:"flex items-center space-x-2",children:[c.jsx(Dt,{className:"h-4 w-4 text-green-500"}),c.jsx("span",{children:"Proposal creation and editing"})]}),c.jsxs("li",{className:"flex items-center space-x-2",children:[c.jsx(Dt,{className:"h-4 w-4 text-green-500"}),c.jsx("span",{children:"Knowledge base management"})]}),c.jsxs("li",{className:"flex items-center space-x-2",children:[c.jsx(Dt,{className:"h-4 w-4 text-green-500"}),c.jsx("span",{children:"Financial management features"})]}),c.jsxs("li",{className:"flex items-center space-x-2",children:[c.jsx(Dt,{className:"h-4 w-4 text-green-500"}),c.jsx("span",{children:"Analytics and reporting"})]})]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"User Experience"}),c.jsxs("ul",{className:"space-y-2 text-sm",children:[c.jsxs("li",{className:"flex items-center space-x-2",children:[c.jsx(Dt,{className:"h-4 w-4 text-green-500"}),c.jsx("span",{children:"Responsive design on all devices"})]}),c.jsxs("li",{className:"flex items-center space-x-2",children:[c.jsx(Dt,{className:"h-4 w-4 text-green-500"}),c.jsx("span",{children:"Intuitive navigation and UI"})]}),c.jsxs("li",{className:"flex items-center space-x-2",children:[c.jsx(Dt,{className:"h-4 w-4 text-green-500"}),c.jsx("span",{children:"Fast loading times"})]}),c.jsxs("li",{className:"flex items-center space-x-2",children:[c.jsx(Dt,{className:"h-4 w-4 text-green-500"}),c.jsx("span",{children:"Error handling and validation"})]}),c.jsxs("li",{className:"flex items-center space-x-2",children:[c.jsx(Dt,{className:"h-4 w-4 text-green-500"}),c.jsx("span",{children:"Accessibility features"})]}),c.jsxs("li",{className:"flex items-center space-x-2",children:[c.jsx(Dt,{className:"h-4 w-4 text-green-500"}),c.jsx("span",{children:"Cross-browser compatibility"})]})]})]})]})]}),u.length===0&&!o&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx(nk,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Ready to Test"}),c.jsx("p",{className:"text-gray-600 mb-6",children:'Click "Run All Tests" to perform comprehensive testing of all features.'})]})]})})},vW=()=>{const[r,e]=je.useState(!0),[t,n]=je.useState(!1),[i,s]=je.useState({email:"",password:"",name:"",company:"",role:""}),[a,o]=je.useState(!1),[l,u]=je.useState(""),{login:h,register:f}=bm(),p=wm(),d=async v=>{v.preventDefault(),o(!0),u("");try{let b=!1;r?b=await h(i.email,i.password):b=await f(i),b?p("/dashboard"):u(r?"Invalid credentials":"Registration failed")}catch{u("Something went wrong. Please try again.")}finally{o(!1)}},x=v=>{s({...i,[v.target.name]:v.target.value})};return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 flex",children:[c.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-primary-600 to-secondary-600 p-12 flex-col justify-between relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-black/10"}),c.jsxs("div",{className:"relative z-10",children:[c.jsxs(Ki,{to:"/",className:"flex items-center space-x-3 text-white mb-12",children:[c.jsx("div",{className:"p-3 bg-white/20 backdrop-blur-sm rounded-xl",children:c.jsx(Ua,{className:"h-8 w-8"})}),c.jsx("span",{className:"text-2xl font-bold",children:"SmartRFP AI"})]}),c.jsxs("div",{className:"space-y-8",children:[c.jsx("h1",{className:"text-4xl font-bold text-white leading-tight",children:"Transform Your Proposal Process with AI"}),c.jsx("p",{className:"text-xl text-white/90 leading-relaxed",children:"Join 500+ software development companies creating winning proposals in minutes, not weeks."}),c.jsx("div",{className:"space-y-4",children:["Generate proposals 10x faster","Increase win rates by 40%","Built for Indian IT companies","Enterprise-grade security"].map((v,b)=>c.jsxs("div",{className:"flex items-center space-x-3 text-white/90",children:[c.jsx(Dt,{className:"h-5 w-5 text-accent-400"}),c.jsx("span",{children:v})]},b))})]})]}),c.jsx("div",{className:"relative z-10 text-white/70 text-sm",children:"Trusted by leading companies across India and beyond"}),c.jsx("div",{className:"absolute top-20 right-20 w-32 h-32 bg-white/10 rounded-full blur-xl"}),c.jsx("div",{className:"absolute bottom-20 left-20 w-24 h-24 bg-secondary-400/20 rounded-full blur-lg"})]}),c.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8",children:c.jsxs("div",{className:"max-w-md w-full",children:[c.jsxs("div",{className:"lg:hidden flex items-center justify-center space-x-2 mb-8",children:[c.jsx("div",{className:"p-2 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-lg",children:c.jsx(Ua,{className:"h-6 w-6 text-white"})}),c.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent",children:"SmartRFP AI"})]}),c.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-gray-200/50 p-8",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:r?"Welcome Back":"Create Account"}),c.jsx("p",{className:"text-gray-600",children:r?"Sign in to access your SmartRFP dashboard":"Join thousands of companies winning more business"})]}),l&&c.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:l}),c.jsxs("form",{onSubmit:d,className:"space-y-6",children:[!r&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name"}),c.jsxs("div",{className:"relative",children:[c.jsx(tw,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",name:"name",required:!0,value:i.name,onChange:x,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",placeholder:"Enter your full name"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company"}),c.jsxs("div",{className:"relative",children:[c.jsx(UA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"text",name:"company",required:!0,value:i.company,onChange:x,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",placeholder:"Company name"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Role"}),c.jsxs("div",{className:"relative",children:[c.jsx(ED,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsxs("select",{name:"role",required:!0,value:i.role,onChange:x,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors appearance-none bg-white",children:[c.jsx("option",{value:"",children:"Select role"}),c.jsx("option",{value:"Business Development Manager",children:"Business Development Manager"}),c.jsx("option",{value:"Sales Manager",children:"Sales Manager"}),c.jsx("option",{value:"Project Manager",children:"Project Manager"}),c.jsx("option",{value:"CEO/Founder",children:"CEO/Founder"}),c.jsx("option",{value:"Director",children:"Director"}),c.jsx("option",{value:"Other",children:"Other"})]})]})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),c.jsxs("div",{className:"relative",children:[c.jsx(AN,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:"email",name:"email",required:!0,value:i.email,onChange:x,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",placeholder:"Enter your email"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(OD,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),c.jsx("input",{type:t?"text":"password",name:"password",required:!0,value:i.password,onChange:x,className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 transition-colors",placeholder:"Enter your password"}),c.jsx("button",{type:"button",onClick:()=>n(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:t?c.jsx(jP,{className:"h-5 w-5"}):c.jsx(nd,{className:"h-5 w-5"})})]})]}),c.jsx("button",{type:"submit",disabled:a,className:"w-full bg-gradient-to-r from-primary-500 to-secondary-500 text-white py-3 rounded-lg font-semibold hover:from-primary-600 hover:to-secondary-600 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:a?c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-2 border-white border-t-transparent"}):c.jsxs(c.Fragment,{children:[c.jsx("span",{children:r?"Sign In":"Create Account"}),c.jsx(BA,{className:"h-5 w-5"})]})})]}),c.jsx("div",{className:"mt-8 text-center",children:c.jsxs("p",{className:"text-gray-600",children:[r?"Don't have an account?":"Already have an account?",c.jsx("button",{onClick:()=>e(!r),className:"ml-2 text-primary-600 font-semibold hover:text-primary-700 transition-colors",children:r?"Sign Up":"Sign In"})]})}),!r&&c.jsx("div",{className:"mt-6 text-xs text-center text-gray-500",children:"By creating an account, you agree to our Terms of Service and Privacy Policy"})]})]})})]})},Xo=()=>{const{user:r,logout:e}=bm(),t=xm(),[n,i]=je.useState(!1),[s,a]=je.useState(!1),o=[{name:"Dashboard",href:"/dashboard",icon:RD},{name:"Templates",href:"/templates",icon:Cs},{name:"Knowledge Base",href:"/knowledge-base",icon:w0},{name:"Financial Management",href:"/financial-management",icon:ew},{name:"Analytics",href:"/analytics",icon:Am},{name:"Settings",href:"/settings",icon:SN}],l=u=>t.pathname===u;return c.jsx("nav",{className:"bg-white/80 backdrop-blur-md shadow-sm border-b border-gray-200/50 sticky top-0 z-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[c.jsxs("div",{className:"flex justify-between items-center h-16",children:[c.jsxs(Ki,{to:"/dashboard",className:"flex items-center space-x-2",children:[c.jsx("div",{className:"p-2 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-lg",children:c.jsx(Ua,{className:"h-6 w-6 text-white"})}),c.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-primary-600 to-secondary-600 bg-clip-text text-transparent",children:"SmartRFP AI"})]}),c.jsx("div",{className:"hidden md:flex items-center space-x-1",children:o.map(u=>{const h=u.icon;return c.jsxs(Ki,{to:u.href,className:`flex items-center space-x-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 ${l(u.href)?"bg-primary-100 text-primary-700 shadow-sm":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[c.jsx(h,{className:"h-4 w-4"}),c.jsx("span",{children:u.name})]},u.name)})}),c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsxs(Ki,{to:"/create",className:"hidden sm:flex items-center space-x-2 bg-gradient-to-r from-primary-500 to-secondary-500 text-white px-4 py-2 rounded-lg text-sm font-medium hover:from-primary-600 hover:to-secondary-600 transition-all duration-200 shadow-sm hover:shadow-md",children:[c.jsx(Rl,{className:"h-4 w-4"}),c.jsx("span",{children:"Create Proposal"})]}),c.jsxs("div",{className:"relative",children:[c.jsxs("button",{onClick:()=>a(!s),className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[c.jsx("img",{className:"h-8 w-8 rounded-full object-cover",src:r==null?void 0:r.avatar,alt:r==null?void 0:r.name}),c.jsxs("div",{className:"hidden md:block text-left",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:r==null?void 0:r.name}),c.jsx("div",{className:"text-xs text-gray-500",children:r==null?void 0:r.company})]})]}),s&&c.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-2 z-50",children:[c.jsxs("div",{className:"px-4 py-2 border-b border-gray-100",children:[c.jsx("div",{className:"text-sm font-medium text-gray-900",children:r==null?void 0:r.name}),c.jsx("div",{className:"text-xs text-gray-500",children:r==null?void 0:r.email})]}),c.jsxs(Ki,{to:"/settings",className:"flex items-center space-x-2 px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",onClick:()=>a(!1),children:[c.jsx(tw,{className:"h-4 w-4"}),c.jsx("span",{children:"Profile"})]}),c.jsxs("button",{onClick:()=>{e(),a(!1)},className:"flex items-center space-x-2 w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[c.jsx(BD,{className:"h-4 w-4"}),c.jsx("span",{children:"Sign out"})]})]})]}),c.jsx("button",{onClick:()=>i(!n),className:"md:hidden p-2 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:n?c.jsx(au,{className:"h-6 w-6 text-gray-600"}):c.jsx(zD,{className:"h-6 w-6 text-gray-600"})})]})]}),n&&c.jsx("div",{className:"md:hidden border-t border-gray-200 py-4",children:c.jsxs("div",{className:"space-y-2",children:[o.map(u=>{const h=u.icon;return c.jsxs(Ki,{to:u.href,className:`flex items-center space-x-3 px-4 py-3 rounded-lg text-sm font-medium transition-colors duration-200 ${l(u.href)?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,onClick:()=>i(!1),children:[c.jsx(h,{className:"h-5 w-5"}),c.jsx("span",{children:u.name})]},u.name)}),c.jsxs(Ki,{to:"/create",className:"flex items-center space-x-3 px-4 py-3 rounded-lg text-sm font-medium bg-gradient-to-r from-primary-500 to-secondary-500 text-white",onClick:()=>i(!1),children:[c.jsx(Rl,{className:"h-5 w-5"}),c.jsx("span",{children:"Create Proposal"})]})]})})]})})},xW=()=>c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"p-4 bg-gradient-to-r from-primary-500 to-secondary-500 rounded-full inline-block animate-bounce-subtle mb-4",children:c.jsx(Ua,{className:"h-8 w-8 text-white"})}),c.jsx("div",{className:"text-lg font-medium text-gray-900 mb-2",children:"Loading SmartRFP AI"}),c.jsx("div",{className:"text-sm text-gray-500",children:"Preparing your workspace..."})]})}),Yo=({children:r})=>{const{user:e,isLoading:t}=bm();return t?c.jsx(xW,{}):e?c.jsx(c.Fragment,{children:r}):c.jsx(rD,{to:"/auth",replace:!0})};function wW(){return c.jsx(hD,{children:c.jsx(mD,{children:c.jsx(gD,{children:c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50",children:c.jsxs(iD,{children:[c.jsx(zs,{path:"/",element:c.jsx(XD,{})}),c.jsx(zs,{path:"/auth",element:c.jsx(vW,{})}),c.jsx(zs,{path:"/dashboard",element:c.jsxs(Yo,{children:[c.jsx(Xo,{}),c.jsx(YD,{})]})}),c.jsx(zs,{path:"/create",element:c.jsxs(Yo,{children:[c.jsx(Xo,{}),c.jsx(lB,{})]})}),c.jsx(zs,{path:"/proposal/:id",element:c.jsxs(Yo,{children:[c.jsx(Xo,{}),c.jsx(uW,{})]})}),c.jsx(zs,{path:"/templates",element:c.jsxs(Yo,{children:[c.jsx(Xo,{}),c.jsx(hW,{})]})}),c.jsx(zs,{path:"/knowledge-base",element:c.jsxs(Yo,{children:[c.jsx(Xo,{}),c.jsx(mW,{})]})}),c.jsx(zs,{path:"/financial-management",element:c.jsxs(Yo,{children:[c.jsx(Xo,{}),c.jsx(gW,{})]})}),c.jsx(zs,{path:"/analytics",element:c.jsxs(Yo,{children:[c.jsx(Xo,{}),c.jsx(dW,{})]})}),c.jsx(zs,{path:"/settings",element:c.jsxs(Yo,{children:[c.jsx(Xo,{}),c.jsx(pW,{})]})}),c.jsx(zs,{path:"/testing",element:c.jsxs(Yo,{children:[c.jsx(Xo,{}),c.jsx(yW,{})]})})]})})})})})}vP(document.getElementById("root")).render(c.jsx(je.StrictMode,{children:c.jsx(wW,{})}));export{nr as _,OR as c,BR as g};
